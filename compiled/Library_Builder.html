<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VulpiniQ</title>
    <link rel="stylesheet" href="builder.css">
<style>*{ margin: 0; padding: 0; box-sizing: border-box; /* outline: 1px solid rgba(255, 255, 255, 0.2); */}body{ font-family: 'Arial', sans-serif; background-color: #0e0e0e; color: #a3a3a3; line-height: 1.6; font-size: 12px;}::-webkit-scrollbar{ width: 8px; height: 8px;}::-webkit-scrollbar-track{ background: #2e2e2e;}::-webkit-scrollbar-thumb{ background: #555; border-radius: 4px;}::-webkit-scrollbar-thumb:hover{ background: #777;}.container{ display: flex;}.left_side{width: 50%;background-color: #0000003d;border-right: 1px solid #ffffff15;}.right_side{ flex-shrink: 0; width: 50%;padding-left:5px}.tab_header{display:flex;}.tab{padding: 5px 15px;cursor: pointer;}.tab.active{background: rgba(255, 255, 255, 0.2);color: #c4c4c4;}.tab_container{overflow-x: hidden;height: calc(100vh - 30px);padding: 0 5px;}.tags{display: flex;flex-wrap: wrap;}.tag{ padding: 0px 9px; margin: 3px; background: #333; border-radius: 5px; cursor: default;}.block{ cursor: default;padding:10px; background: #ffffff09; border-radius: 10px; /* outline: 1px solid #ffffff10; */ width: 100%;}.block.active{ background: #ffffff18;}.block_example{ padding: 8px; background: #00000033; border-radius: 12px; width: 100%; margin-top: 10px;}.code_content{ display: grid; grid-template-columns: repeat(2, 1fr); /* Create 3 equal columns */ gap: 10px; /* Add gap between grid items */}.block_dependencies{ margin-top: 10px;}.block_title{ font-size: 16px; font-weight: bold; margin-bottom: 20px;}.code_category_title{ font-size: 20px; font-weight: bold; margin: 15px 0}.code_category{margin-bottom: 40px;}.codeData{ padding: 10px; background: #00000033; border-radius: 12px; width: calc(100% - 10px); height: 200px; margin-top: 10px; color: #a3a3a3; text-align: justify; border: 1px solid #ffffff10; box-sizing: border-box; margin: 5px; resize: vertical; max-height: 400px;}.codeData:focus{ outline: none;}.footer{display:flex;}.sizedata{ margin: 0 20px; display: flex; align-items: center;}.btn{ padding: 5px 10px; background: #333; color: #a3a3a3; border: none; border-radius: 5px; cursor: pointer;}.tab_content{ display: none;}.tab_content.active{ display: block;}.bracket{ color: #e7e192;}.bracket_inner{ color: #96a8f5;}.class,.object{ color: #bb6485; font-weight: bold;}.keyword{ color: #f78c6c;}.operator{ color: #ff5370;}.method{ color: #82aaff;}.string{ color: #d8a378; font-weight: bold;}.number{ color: #f78c6c;}.comment{ color: #428f59 !important;}</style>
<script>
var DATA = {
    "frame": "const Q = (() => {\n    'use strict';\n    const _ob = Object, _ar = Array, _ma = Math, _da = Date, _re = RegExp, \n          _st = setTimeout, _un = undefined, _n = null, _nl = NodeList,\n          _el = Element, _si = setInterval, _c = console, _ct = clearTimeout,\n          _ci = clearInterval, _pr = Promise, _str = String, _nu = Number,\n          _bo = Boolean, _json = JSON, _map = Map, _set = Set, _sym = Symbol,\n          _win = window, _doc = document, _loc = location, _hist = history,\n          _ls = localStorage, _ss = sessionStorage, _f = fetch, _ev = Event,\n          _ac = AbortController, _as = AbortSignal, _err = Error;\n    let GLOBAL = {};\n    let styleData = {\n        root: '',\n        generic: \"\",\n        responsive: {},\n        element: _n,\n        init: false\n    };\n    function applyStyles() {\n        if (!styleData.init) {\n            styleData.element = document.getElementById('qlib-root-styles') || createStyleElement();\n            styleData.init = true;\n        }\n        let finalStyles = styleData.root ? `:root {${styleData.root}}\\n` : '';\n        finalStyles += styleData.generic;\n        const breakpoints = _ob.keys(styleData.responsive);\n        for (let i = 0; i < breakpoints.length; i++) {\n            const size = breakpoints[i];\n            const css = styleData.responsive[size];\n            if (css) {\n                finalStyles += `\\n@media (max-width: ${size}) {\\n${css}\\n}`;\n            }\n        }\n        styleData.element.textContent = finalStyles;\n    }\n    function createStyleElement() {\n        const styleElement = document.createElement('style');\n        styleElement.id = 'qlib-root-styles';\n        document.head.insertBefore(styleElement, document.head.firstChild);\n        return styleElement;\n    }\n    window.addEventListener('load', applyStyles, { once: true });\n    function Q(identifier, attributes, props) {\n        if (!(this instanceof Q)) return new Q(identifier, attributes, props);\n        if (identifier && identifier.nodeType) { \n            this.nodes = [identifier];\n            return;\n        }\n        if (identifier instanceof Q) {\n            this.nodes = identifier.nodes;\n            return;\n        }\n        if (identifier?.constructor === _nl) {\n            this.nodes = _ar.from(identifier);\n            return;\n        }\n        if (typeof identifier === 'string') { \n            const isCreating = attributes || identifier.indexOf('<') > -1;\n            if (isCreating) {\n                const template = document.createElement('template');\n                template.innerHTML = identifier.trim();\n                this.nodes = _ar.from(template.content.childNodes);\n                if (attributes) {\n                    const attrEntries = _ob.entries(attributes);\n                    for (let i = 0, n = this.nodes.length; i < n; i++) {\n                        const element = this.nodes[i];\n                        for (let j = 0, m = attrEntries.length; j < m; j++) {\n                            const [attr, val] = attrEntries[j];\n                            if (attr === 'class') {\n                                element.classList.add(...(Array.isArray(val) ? val : val.split(/\\s+/)));\n                            } else if (attr === 'style') {\n                                if (typeof val === 'object') {\n                                    const styleEntries = _ob.entries(val);\n                                    for (let k = 0, p = styleEntries.length; k < p; k++) {\n                                        const [prop, propVal] = styleEntries[k];\n                                        element.style[prop] = propVal;\n                                    }\n                                } else {\n                                    element.style.cssText = val;\n                                }\n                            } else if (attr === 'text') {\n                                element.textContent = val;\n                            } else if (attr === 'html') {\n                                element.innerHTML = val;\n                            } else {\n                                element.setAttribute(attr, val);\n                            }\n                        }\n                    }\n                }\n                if (props) {\n                    for (let i = 0, n = this.nodes.length; i < n; i++) {\n                        const element = this.nodes[i];\n                        for (let j = 0, m = props.length; j < m; j++) {\n                            element[props[j]] = true;\n                        }\n                    }\n                }\n            } else {\n                this.nodes = _ar.from(document.querySelectorAll(identifier));\n            }\n        }\n    }\n    Q.Ext = (methodName, functionImplementation) =>\n        (Q.prototype[methodName] = functionImplementation, Q);\n    Q.getGLOBAL = key => GLOBAL[key];\n    Q.setGLOBAL = value => (GLOBAL = { ...GLOBAL, ...value });\n    Q.style = (root = _n, style = '', responsive = _n, mapping = _n, enable_mapping = true) => {\n        if (mapping && enable_mapping) {\n            const keys = _ob.keys(mapping);\n            keys.forEach((key) => {\n                let newKey = Q.ID ? Q.ID(5, '_') : `_${_ma.random().toString(36).substring(2, 7)}`;\n                if (style && typeof style === 'string') {\n                    style = style.replace(new _re(`\\\\.${key}\\\\b`, 'gm'), `.${newKey}`);\n                    style = style.replace(new _re(`^\\\\s*\\\\.${key}\\\\s*{`, 'gm'), `.${newKey} {`);\n                    style = style.replace(new _re(`(,\\\\s*)\\\\.${key}\\\\b`, 'gm'), `$1.${newKey}`);\n                    style = style.replace(new _re(`(\\\\s+)\\\\.${key}\\\\b`, 'gm'), `$1.${newKey}`);\n                }\n                mapping[key] = mapping[key].replace(key, newKey);\n            });\n        }\n        if (root && typeof root === 'string') {\n            styleData.root += root.trim() + ';';\n        }\n        if (style && typeof style === 'string') {\n            styleData.generic += style;\n        }\n        if (responsive && typeof responsive === 'object') {\n            const breakpoints = _ob.entries(responsive);\n            for (let i = 0; i < breakpoints.length; i++) {\n                const [size, css] = breakpoints[i];\n                if (css && typeof css === 'string') {\n                    if (!styleData.responsive[size]) {\n                        styleData.responsive[size] = '';\n                    }           \n                    styleData.responsive[size] += css + '\\n';\n                }\n            }\n        }\n        if (document.readyState === 'complete') {\n            applyStyles();\n        }  \n        return mapping;\n    };\n    Q._ = {\n        ob: _ob, ar: _ar, ma: _ma, da: _da, re: _re, st: _st, un: _un,\n        n: _n, nl: _nl, el: _el, si: _si, c: _c, ct: _ct, ci: _ci,\n        pr: _pr, str: _str, nu: _nu, bo: _bo, json: _json, map: _map,\n        set: _set, sym: _sym, win: _win, doc: _doc, loc: _loc, hist: _hist,\n        ls: _ls, ss: _ss, f: _f, ev: _ev, ac: _ac, as: _as, err: _err\n    };\n    return Q;\n})();",
    "basics": {
        "Done": {
            "uuid": "b5612c9f-960c-4011-8670-de5128d6245e",
            "name": "Done",
            "method": "Static",
            "desc": "Executes a function once the window's load event is fired, indicating all resources are loaded.",
            "type": "Event Handling",
            "example": [
                "Q.Done(() => console.log('All resources loaded!'));",
                "let postLoad = () => { document.body.classList.add('loaded'); }; Q.Done(postLoad);",
                "Q.Done(() => { document.getElementById('preloader').classList.add('fade-out'); });",
                "const calculateLayout = () => { const imageHeights = Array.from(document.images).map(img => img.height); console.log('All image heights:', imageHeights); }; Q.Done(calculateLayout);"
            ],
            "dependencies": [],
            "script": "Q.Done=((c)=>{\n    window.addEventListener(\"load\",()=>{while(c.length)c.shift()();c=0});\n    return f=>c?c.push(f):f()\n})([])"
        },
        "Leaving": {
            "uuid": "2d14ce0a-0663-47ad-b10b-e64599a0656e",
            "name": "Leaving",
            "method": "Static",
            "desc": "Attaches a function to the window's beforeunload event, allowing actions before the page is closed or refreshed.",
            "type": "Event Handling",
            "example": [
                "Q.Leaving(e => e.preventDefault());",
                "let goodbyeMessage = e => { e.preventDefault(); e.returnValue = 'Are you sure you want to leave?'; }; Q.Leaving(goodbyeMessage);",
                "Q.Leaving(event => { if (document.querySelector('form').dataset.modified === 'true') { event.preventDefault(); event.returnValue = 'You have unsaved changes'; } });",
                "const saveState = e => { localStorage.setItem('appState', JSON.stringify(currentState)); }; Q.Leaving(saveState);"
            ],
            "dependencies": [],
            "script": "Q.Leaving=((c)=>{\n    let ev;\n    window.addEventListener(\"beforeunload\",e=>{\n      ev=e;while(c.length)c.shift()(e);c=0\n    });\n    return f=>c?c.push(f):f(ev)\n  })([])"
        },
        "Ready": {
            "uuid": "69533978-1685-4089-8d72-0d57a90d3fcc",
            "name": "Ready",
            "method": "Static",
            "desc": "Executes a function when the document is fully loaded, ensuring all elements are accessible.",
            "type": "Event Handling",
            "example": [
                "Q.Ready(() => console.log('Document is ready!'));",
                "let init = () => { console.log('Initialization complete.'); }; Q.Ready(init);",
                "Q.Ready(() => { document.getElementById('loader').style.display = 'none'; document.getElementById('content').style.display = 'block'; });",
                "const setupEventListeners = () => { document.querySelectorAll('.clickable').forEach(el => el.addEventListener('click', handleClick)); }; Q.Ready(setupEventListeners);"
            ],
            "dependencies": [],
            "script": "Q.Ready=((c)=>{\n    document.readyState==='loading'?document.addEventListener(\"DOMContentLoaded\",()=>{while(c.length)c.shift()();c=0},{once:1}):c=0;\n    return f=>c?c.push(f):f();\n  })([])"
        },
        "Resize": {
            "uuid": "68c7e104-8efe-490f-9559-e803c478253e",
            "name": "Resize",
            "method": "Static",
            "desc": "Attaches a function to the window's resize event, executing it with the new innerWidth and innerHeight.",
            "type": "Event Handling",
            "example": [
                "Q.Resize((width, height) => console.log(`Window resized to ${width}x${height}`));",
                "let resizeHandler = (width, height) => { document.body.style.fontSize = (width / 100) + 'em'; }; Q.Resize(resizeHandler);",
                "Q.Resize((width, height) => { const ratio = width / height; document.getElementById('container').style.aspectRatio = ratio; });",
                "const updateLayout = (w, h) => { if (w < 768) { document.body.classList.add('mobile'); } else { document.body.classList.remove('mobile'); } }; Q.Resize(updateLayout);"
            ],
            "dependencies": [],
            "script": "Q.Resize=((c)=>{\n    addEventListener(\"resize\",()=>{\n      for(let i=0,l=c.length;i<l;) c[i++](innerWidth,innerHeight)\n    });\n    return f=>c.push(f)\n  })([])"
        }
    },
    "methods": {
        "addClass": {
            "uuid": "cd1ddbc9-bc1f-415c-ae45-3c767de92817",
            "name": "addClass",
            "method": "Prototype",
            "desc": "Adds one or more classes to each node, ignoring duplicates.",
            "type": "Class Manipulation",
            "example": "Q(selector).addClass(\"class1\"); // Adds a single class\nQ(selector).addClass(\"class1 class2\"); // Adds multiple classes",
            "dependencies": [],
            "script": "Q.Ext('addClass', function (classes) {\n    var b = classes.split(' '),\n        nodes = this.nodes;\n    for (var i = 0, l = nodes.length; i < l; i++) {\n        nodes[i].classList.add.apply(nodes[i].classList, b);\n    }\n    return this;\n});"
        },
        "after": {
            "uuid": "77b6a1cf-2f55-4736-a148-aabb2bd07cbe",
            "name": "after",
            "method": "Prototype",
            "desc": "Inserts content after each element in the current set of matched elements.",
            "type": "DOM Manipulation",
            "example": "Q(selector).after(\"<p>New paragraph</p>\"); // Adds a paragraph as HTML\nQ(selector).after(document.createElement(\"div\")); // Adds a div element\nQ(selector).after(Q(otherSelector)); // Inserts a Q object\nQ(selector).after([document.createElement(\"span\"), document.createElement(\"img\")]); // Inserts multiple elements",
            "dependencies": [],
            "script": "Q.Ext('after', function (...contents) {\n  const a = this.a;\n  for (let i = 0, len = a.length; i < len; i++) {\n    const b = a[i];\n    const c = b.parentNode;\n    if (!c) continue;\n    for (let j = 0, clen = contents.length; j < clen; j++) {\n      const d = contents[j];\n      if (typeof d === \"string\") {\n        b.insertAdjacentHTML('afterend', d);\n      } else if (d?.nodeType === 1) {\n        if (b.f) {\n          c.insertBefore(d, b.f);\n        } else {\n          c.appendChild(d);\n        }\n      } else if (d instanceof Q) {\n        if (b.f) {\n          c.insertBefore(d.a[0], b.f);\n        } else {\n          c.appendChild(d.a[0]);\n        }\n      } else if (Array.isArray(d) || d?.constructor === NodeList) {\n        const e = Array.from(d);\n        let f = b.f;\n        for (let k = 0, slen = e.length; k < slen; k++) {\n          if (f) {\n            c.insertBefore(e[k], f);\n            f = e[k].f;\n          } else {\n            c.appendChild(e[k]);\n          }\n        }\n      }\n    }\n  }\n  return this;\n});"
        },
        "animate": {
            "uuid": "c03e4acd-bdf3-4fa4-8791-2f2510c98786",
            "name": "animate",
            "method": "Prototype",
            "desc": "Animates each node using specified CSS properties over a given duration, with an optional callback when complete.",
            "type": "Animation",
            "example": "Q(selector).animate(500, { opacity: 0 }, () => { console.log('Fade out complete'); }); // Fades out over 500ms\nQ(selector).animate(1000, { left: \"100px\", top: \"50px\" }); // Moves to new position in 1 second\nQ(selector).animate(700, { opacity: 1, backgroundColor: \"#ff0000\" }, () => { alert('Animation finished!'); }); // Changes opacity and background color",
            "dependencies": [
                "each"
            ],
            "script": "Q.Ext('animate', function (a, b, e) {\n  var nodes = this.nodes;\n  for (var i = 0, len = nodes.length; i < len; i++) {\n    var f = nodes[i],\n        keys = Object.keys(b),\n        c = '';\n    for (var j = 0, klen = keys.length; j < klen; j++) {\n      c += keys[j] + ' ' + a + 'ms' + (j < klen - 1 ? ', ' : '');\n    }\n    f.style.transition = c;\n    for (var j = 0; j < klen; j++) {\n      var d = keys[j];\n      f.style[d] = b[d];\n    }\n    if (typeof e === 'function') {\n      setTimeout((function(g){\n          return function(){ e.call(g); };\n      })(f), a);\n    }\n  }\n  return this;\n});"
        },
        "append": {
            "uuid": "4f26b77a-888f-4a84-acde-44a0a28e6aad",
            "name": "append",
            "method": "Prototype",
            "desc": "Appends child nodes, HTML, or multiple elements to each node.",
            "type": "DOM Manipulation",
            "example": "Q(selector).append(\"<p>New paragraph</p>\"); // Adds a paragraph as HTML\nQ(selector).append(document.createElement(\"div\")); // Adds a div element\nQ(selector).append(Q(otherSelector)); // Appends a Q object\nQ(selector).append([document.createElement(\"span\"), document.createElement(\"img\")]); // Appends multiple elements\nQ(selector).append(document.querySelectorAll(\".items\")); // Appends a NodeList of elements",
            "dependencies": [],
            "script": "Q.Ext('append', function (...contents) {\n  const nodes = this.nodes;\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    const b = nodes[i];\n    for (let j = 0, clen = contents.length; j < clen; j++) {\n      const c = contents[j];\n      if (typeof c === \"string\") {\n        b.insertAdjacentHTML('beforeend', c);\n      } else if (c?.nodeType === 1 || c instanceof Q) {\n        b.appendChild(c.nodes ? c.nodes[0] : c);\n      } else if (Array.isArray(c) || c?.constructor === NodeList) {\n        const subNodes = Array.from(c);\n        for (let k = 0, slen = subNodes.length; k < slen; k++) {\n          b.appendChild(subNodes[k]);\n        }\n      }\n    }\n  }\n  return this;\n});"
        },
        "attr": {
            "uuid": "dd95850e-fdef-4901-b92a-a8913f8d3ee7",
            "name": "attr",
            "method": "Prototype",
            "desc": "Gets or sets attributes on the nodes, supporting multiple attributes at once.",
            "type": "Attribute Manipulation",
            "example": "Q(selector).attr(\"id\", \"newId\"); // Sets the \"id\" attribute to \"newId\" <br> Q(selector).attr({ \"src\": \"image.jpg\", \"alt\": \"An image\" }); // Sets multiple attributes <br> Q(selector).attr(\"href\"); // Gets the \"href\" attribute value",
            "dependencies": [],
            "script": "Q.Ext('attr', function (a, b) {\n    var nodes = this.nodes;\n    if (typeof a === 'object') {\n        var keys = Object.keys(a);\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var node = nodes[i];\n            for (var j = 0, klen = keys.length; j < klen; j++) {\n                node.setAttribute(keys[j], a[keys[j]]);\n            }\n        }\n        return this;\n    } else {\n        if (b === undefined) {\n            return nodes[0] && nodes[0].getAttribute(a) || null;\n        }\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            nodes[i].setAttribute(a, b);\n        }\n        return this;\n    }\n});"
        },
        "before": {
            "uuid": "99fe3bd8-4605-4eb2-b944-f3cb670feadc",
            "name": "before",
            "method": "Prototype",
            "desc": "Inserts content before each element in the current set of matched elements.",
            "type": "DOM Manipulation",
            "example": "Q(selector).before(\"<p>New paragraph</p>\"); // Adds a paragraph as HTML\nQ(selector).before(document.createElement(\"div\")); // Adds a div element\nQ(selector).before(Q(otherSelector)); // Inserts a Q object\nQ(selector).before([document.createElement(\"span\"), document.createElement(\"img\")]); // Inserts multiple elements",
            "dependencies": [],
            "script": "Q.Ext('before', function (...contents) {\n  const a = this.a;\n  for (let i = 0, len = a.length; i < len; i++) {\n    const b = a[i];\n    const c = b.parentNode;\n    if (!c) continue;\n    for (let j = 0, clen = contents.length; j < clen; j++) {\n      const d = contents[j];\n      if (typeof d === \"string\") {\n        b.insertAdjacentHTML('beforebegin', d);\n      } else if (d?.nodeType === 1) {\n        c.insertBefore(d, b);\n      } else if (d instanceof Q) {\n        c.insertBefore(d.a[0], b);\n      } else if (Array.isArray(d) || d?.constructor === NodeList) {\n        const e = Array.from(d);\n        for (let k = 0, slen = e.length; k < slen; k++) {\n          c.insertBefore(e[k], b);\n        }\n      }\n    }\n  }\n  return this;\n});"
        },
        "bind": {
            "uuid": "fcf47d83-4368-4107-8540-f9c0870264cf",
            "name": "bind",
            "method": "Prototype",
            "desc": "Adds an event listener to each node, allowing for event delegation to improve performance.",
            "type": "Event Handling",
            "example": "Q(selector).bind(\"click\", () => console.log(\"Clicked\")); // Logs \"Clicked\" when any matching node is clicked <br> Q('.btn').bind(\"mouseover\", (e) => { console.log(`Hovered over: ${e.target.tagName}`); }); // Logs the tag name of the hovered element",
            "dependencies": [],
            "script": "Q.Ext('bind', function (a, b) {\n    if (!this.d) {\n        this.d = {};\n    }\n    if (!this.d[a]) {\n        document.addEventListener(a, (e) => {\n            var nodes = this.nodes;\n            for (var i = 0, l = nodes.length; i < l; i++) {\n                if (nodes[i].contains(e.target)) {\n                    b.call(e.target, e);\n                }\n            }\n        });\n        this.d[a] = true;\n    }\n    return this;\n});"
        },
        "blur": {
            "uuid": "131cc4ac-09ce-4857-873d-74f1a9dff8e2",
            "name": "blur",
            "method": "Prototype",
            "desc": "Removes focus from the first node in the selection, effectively blurring it.",
            "type": "Form Manipulation",
            "example": "Q(selector).blur(); // Removes focus from the first matched input field <br> Q('.active').blur(); // Blurs the first active element <br> Q('textarea').blur(); // Blurs the first textarea in the selection",
            "dependencies": [],
            "script": "Q.Ext('blur', function () {\n    var nodes = this.nodes;\n    for (var i = 0, l = nodes.length; i < l; i++) {\n        nodes[i].blur();\n    }\n    return this;\n});"
        },
        "children": {
            "uuid": "8500da48-0eeb-43c6-9d65-f85f232cabdc",
            "name": "children",
            "method": "Prototype",
            "desc": "Gets the children of each element in the set of matched elements.",
            "type": "DOM Traversal",
            "example": "Q(selector).children(); // Returns all direct children\nQ(selector).children('.specific-class'); // Returns children with the specified class\nQ(selector).children('[data-attribute=\"value\"]'); // Returns children with the specified attribute",
            "dependencies": [],
            "script": "Q.Ext('c', function (d) {\n  const result = [];\n  const a = this.a;\n  for (let i = 0, len = a.length; i < len; i++) {\n    const parent = a[i];\n    if (!parent || !parent.c) continue;\n    const childElements = parent.c;\n    if (d) {\n      for (let j = 0; j < childElements.length; j++) {\n        if (childElements[j].matches && childElements[j].matches(d)) {\n          result.push(childElements[j]);\n        }\n      }\n    } else {\n      for (let j = 0; j < childElements.length; j++) {\n        result.push(childElements[j]);\n      }\n    }\n  }\n  return new Q(result);\n});"
        },
        "click": {
            "uuid": "cc2fd7e3-70c7-4ed8-8f81-536853465748",
            "name": "click",
            "method": "Prototype",
            "desc": "Simulates a click event on each node in the selection.",
            "type": "Event Handling",
            "example": "Q(selector).click();",
            "dependencies": [],
            "script": "Q.Ext('click', function () {\n    var nodes = this.nodes;\n    for (var i = 0, l = nodes.length; i < l; i++) {\n        nodes[i].click();\n    }\n    return this;\n});"
        },
        "clone": {
            "uuid": "afee210d-bf0c-4cc4-a641-c6f108118f60",
            "name": "clone",
            "method": "Prototype",
            "desc": "Creates a deep copy of the first node in the selection, including its child nodes.",
            "type": "DOM Manipulation",
            "example": "Q(selector).clone();",
            "dependencies": [],
            "script": "Q.Ext('clone', function () {\n    return new Q(this.nodes[0].cloneNode(true));\n});"
        },
        "closest": {
            "uuid": "2902ded2-c3b7-4547-9a91-48b93dc1c578",
            "name": "closest",
            "method": "Prototype",
            "desc": "Finds the nearest ancestor node of the first node that matches a given selector.",
            "type": "Traversal",
            "example": "Q(selector).closest(\".parent\");",
            "dependencies": [],
            "script": "Q.Ext('closest', function (selector) {\n    let node = this.nodes[0];\n    while (node) {\n        if (node.matches && node.matches(selector)) {\n            return new Q(node);\n        }\n        node = node.parentElement;\n    }\n    return null;\n});"
        },
        "css": {
            "uuid": "cee3de99-8df1-4b62-ac8e-bc47374e0828",
            "name": "css",
            "method": "Prototype",
            "desc": "Retrieves or sets CSS styles on the selected nodes. Supports setting multiple styles if provided as an object.",
            "type": "Style Manipulation",
            "example": "Q(selector).css('color', 'red');",
            "dependencies": [],
            "script": "Q.Ext('css', function(a, b) {\n  const nodes = this.nodes;\n  if (typeof a === 'object') {\n      for (let i = 0, len = nodes.length; i < len; i++) {\n          const style = nodes[i].style;\n          for (const c in a) {\n              style[c] = a[c];\n          }\n      }\n      return this;\n  }\n  if (b === Q._.un) return getComputedStyle(nodes[0])[a];\n  for (let i = 0, len = nodes.length; i < len; i++) {\n      nodes[i].style[a] = b;\n  }\n  return this;\n});"
        },
        "data": {
            "uuid": "b979ad0b-da8b-4226-8462-609d05caf1a1",
            "name": "data",
            "method": "Prototype",
            "desc": "Retrieves or sets data-* attributes on the selected nodes. Provides an easy way to store and access custom data associated with the elements.",
            "type": "Data Manipulation",
            "example": "Q(selector).data('userId', 123);",
            "dependencies": [],
            "script": "Q.Ext('data', function (a, b) {\n    const nodes = this.nodes;\n    if (b === Q._.un) {\n        return nodes[0] && nodes[0].dataset[a] || Q._.n;\n    }\n    for (let i = 0, len = nodes.length; i < len; i++) {\n        nodes[i].dataset[a] = b;\n    }\n    return this;\n});"
        },
        "detach": {
            "uuid": "a4b3c1aa-aeb8-4fd0-a044-f221729fd9f0",
            "name": "detach",
            "method": "Method",
            "desc": "Removes the elements from the DOM but keeps them in memory for later reattachment",
            "type": "Method",
            "example": "const element = Q('#myElement').detach(); // Element is removed from DOM but preserved\nQ('#container').append(element); // Reattach the element later",
            "dependencies": [],
            "script": "Q.Ext('detach', function() {\n    const nodes = this.nodes;\n    const detachedNodes = [];\n    for (let i = 0, len = nodes.length; i < len; i++) {\n        const node = nodes[i];\n        const parent = node.parentNode;\n        if (parent) {\n            detachedNodes.push(node);\n            parent.removeChild(node);\n        }\n    }\n    this.nodes = detachedNodes;\n    return this;\n});"
        },
        "each": {
            "uuid": "3696aa06-e009-4852-8371-344d44018602",
            "name": "each",
            "method": "Prototype",
            "desc": "Iterates over all nodes in the Q object and executes a callback on each node, providing access to the index and element.",
            "type": "Iteration",
            "example": "Q(selector).each((index, element) => console.log(index, element));",
            "dependencies": [],
            "script": "Q.Ext('each', function (a) {\n    if (!this.nodes) return this;\n    const nodes = this.nodes;\n    for (let i = 0, len = nodes.length; i < len; i++) {\n        a.call(nodes[i], i, nodes[i]);\n    }\n    return this;\n});"
        },
        "empty": {
            "uuid": "f6baffbd-207a-4e84-a09b-5e588eaede4a",
            "name": "empty",
            "method": "Prototype",
            "desc": "Empties the innerHTML of each node.",
            "type": "Content Manipulation",
            "example": "Q(selector).empty();",
            "dependencies": [],
            "script": "Q.Ext('empty', function () {\n  var nodes = this.nodes;\n  for (var i = 0, len = nodes.length; i < len; i++) {\n    nodes[i].innerHTML = '';\n  }\n  return this;\n});"
        },
        "eq": {
            "uuid": "5f0855b2-d837-4507-a5d2-227ab263d647",
            "name": "eq",
            "method": "Prototype",
            "desc": "Returns a specific node by index.",
            "type": "Traversal",
            "example": "Q(selector).eq(1);",
            "dependencies": [],
            "script": "Q.Ext('eq', function (a) {\n  var node = this.nodes[a];\n  return node ? new Q(node) : null;\n});"
        },
        "fadeIn": {
            "uuid": "57ce3706-02e8-4d3e-9707-f95cdd7bc9e0",
            "name": "fadeIn",
            "method": "Prototype",
            "desc": "Fades in each node.",
            "type": "Display",
            "example": "Q(selector).fadeIn(duration, callback);",
            "dependencies": [],
            "script": "Q.Ext('fadeIn', function(a, b) {\n    a = a || 400;\n    var nodes = this.nodes;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        (function(el) {\n            var style = el.style;\n            style.display = '';\n            style.transition = 'opacity ' + a + 'ms';\n            void el.offsetHeight;\n            style.opacity = 1;\n            setTimeout(function() {\n                style.transition = '';\n                if (b) b();\n            }, a);\n        })(nodes[i]);\n    }\n    return this;\n});"
        },
        "fadeOut": {
            "uuid": "5d82b5b8-d624-4b9d-86b4-a6871a8224fa",
            "name": "fadeOut",
            "method": "Prototype",
            "desc": "Fades out each node.",
            "type": "Display",
            "example": "Q(selector).fadeOut(duration, callback);",
            "dependencies": [],
            "script": "Q.Ext('fadeOut', function(a, b) {\n    var nodes = this.nodes;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        (function(el) {\n            var style = el.style;\n            style.transition = 'opacity ' + a + 'ms';\n            style.opacity = 0;\n            setTimeout(function() {\n                style.transition = '';\n                style.display = 'none';\n                if (b) b();\n            }, a);\n        })(nodes[i]);\n    }\n    return this;\n});"
        },
        "fadeTo": {
            "uuid": "f35e96f5-baf5-40e1-bd4a-e7d2ca48b02c",
            "name": "fadeTo",
            "method": "Prototype",
            "desc": "Fades each node to a specific opacity.",
            "type": "Display",
            "example": "Q(selector).fadeTo(opacity, duration, callback);",
            "dependencies": [],
            "script": "Q.Ext('fadeTo', function(a, b, c) {\n    var nodes = this.nodes;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        (function(el) {\n            var style = el.style;\n            style.transition = 'a ' + b + 'ms';\n            void el.offsetHeight;\n            style.a = a;\n            setTimeout(function() {\n                style.transition = '';\n                if (c) c();\n            }, b);\n        })(nodes[i]);\n    }\n    return this;\n});"
        },
        "fadeToggle": {
            "uuid": "d1216af0-187c-4eba-aabc-6187ca3e624d",
            "name": "fadeToggle",
            "method": "Prototype",
            "desc": "Toggles the fade state of each node.",
            "type": "Display",
            "example": "Q(selector).fadeToggle(duration, callback);",
            "dependencies": [],
            "script": "Q.Ext('fadeToggle', function(a, b) {\n    var nodes = this.nodes;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        var computed = window.getComputedStyle(nodes[i]);\n        if (computed.opacity === '0') {\n            this.fadeIn(a, b);\n        } else {\n            this.fadeOut(a, b);\n        }\n    }\n    return this;\n});"
        },
        "find": {
            "uuid": "1eeee2d0-2971-4bb4-b65f-a25b9713b6d0",
            "name": "find",
            "method": "Prototype",
            "desc": "Finds child nodes of the first node that match a specific selector.",
            "type": "Traversal",
            "example": "Q(selector).find(\".child\");",
            "dependencies": [],
            "script": "Q.Ext('find', function(a) {\n    var parent = this.nodes[0];\n    if (!parent) return null;\n    var found = parent.querySelectorAll(a);\n    return found.length ? Q(found) : null;\n});"
        },
        "first": {
            "uuid": "b74fef75-4176-4524-8d3e-240757b39d28",
            "name": "first",
            "method": "Prototype",
            "desc": "Returns the first node.",
            "type": "Traversal",
            "example": "Q(selector).first();",
            "dependencies": [],
            "script": "Q.Ext('first', function () {\n    return new Q(this.nodes[0]);\n});"
        },
        "focus": {
            "uuid": "4f8e002b-53e8-4b7a-a0f9-8b380639351b",
            "name": "focus",
            "method": "Prototype",
            "desc": "Focuses on the first node.",
            "type": "Form Manipulation",
            "example": "Q(selector).focus();",
            "dependencies": [],
            "script": "Q.Ext('focus', function () {\n    var nodes = this.nodes;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        nodes[i].focus();\n    }\n    return this;\n});"
        },
        "hasClass": {
            "uuid": "b7d041dd-493e-4800-b0ac-255d41ac4e7f",
            "name": "hasClass",
            "method": "Prototype",
            "desc": "Checks if the first node has a specific class.",
            "type": "Class Manipulation",
            "example": "Q(selector).hasClass(className);",
            "dependencies": [],
            "script": "Q.Ext('hasClass', function(a) {\n    var node = this.nodes[0];\n    return (node && node.classList.contains(a)) || false;\n});"
        },
        "height": {
            "uuid": "3b5841af-d976-4078-8e96-a9f055414254",
            "name": "height",
            "method": "Prototype",
            "desc": "Gets or sets the height of the first node.",
            "type": "Dimensions",
            "example": "Q(selector).height(value);",
            "dependencies": [],
            "script": "Q.Ext('height', function (a) {\n    var nodes = this.nodes;\n    if (a === undefined) {\n        return nodes[0].offsetHeight;\n    }\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        nodes[i].style.height = a;\n    }\n    return this;\n});"
        },
        "hide": {
            "uuid": "a1cb62d6-ada0-4164-8419-20b64c621eed",
            "name": "hide",
            "method": "Prototype",
            "desc": "Hides each node, optionally with a fade-out effect over a specified duration.",
            "type": "Display",
            "example": "Q(selector).hide(duration, callback);",
            "dependencies": [],
            "script": "Q.Ext('hide', function (a, b) {\n    a = a || 0;\n    var nodes = this.nodes;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        var node = nodes[i];\n        if (a === 0) {\n            node.style.display = 'none';\n            if (b) b();\n        } else {\n            node.style.transition = 'opacity ' + a + 'ms';\n            node.style.opacity = 1;\n            setTimeout((function(n) {\n                return function() {\n                    n.style.opacity = 0;\n                    n.addEventListener('transitionend', function d() {\n                        n.style.display = 'none';\n                        n.style.transition = '';\n                        n.removeEventListener('transitionend', d);\n                        if (b) b();\n                    });\n                };\n            })(node), 0);\n        }\n    }\n    return this;\n});"
        },
        "html": {
            "uuid": "e8d99258-b6d2-4b1b-a45a-3dc7fe7a168d",
            "name": "html",
            "method": "Prototype",
            "desc": "Gets or sets the innerHTML of the nodes. This method allows for easy manipulation of the content inside the selected elements.",
            "type": "Content Manipulation",
            "example": "const currentHtml = Q(selector).html(); // Retrieves the innerHTML of the first selected element <br> Q(selector).html('<div>New Content</div>'); // Sets the innerHTML of each selected element to '<div>New Content</div>' <br> Q(selector).html(['<span>First</span>', '<span>Second</span>']); // Sets the innerHTML with an array of strings <br> const newNode = Q('<p>Paragraph</p>'); Q(selector).html(newNode); // Sets the innerHTML with a Q object containing a new node <br> Q(selector).html(document.createElement('div')); // Sets the innerHTML with a new HTMLElement <br> const nodeList = document.querySelectorAll('.child'); Q(selector).html(nodeList); // Sets the innerHTML with a NodeList of child elements <br> Q(selector).html([]); // Sets the innerHTML to an empty string <br> Q(selector).html(null); // Sets the innerHTML to an empty string",
            "dependencies": [],
            "script": "Q.Ext('html', function (a) {\n    var nodes = this.nodes;\n    if (a === undefined) {\n        return nodes[0] ? nodes[0].innerHTML : null;\n    }\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        var d = nodes[i];\n        d.innerHTML = '';\n        var appendContent = function(b) {\n            if (typeof b === 'string') {\n                d.insertAdjacentHTML('beforeend', b);\n            } else if (b instanceof Q) {\n                for (var j = 0, clen = b.nodes.length; j < clen; j++) {\n                    d.appendChild(b.nodes[j]);\n                }\n            } else if (b?.nodeType === 1 || b?.nodeType != null) {\n                d.appendChild(b);\n            } else if (Array.isArray(b) || b?.constructor === NodeList) {\n                var subs = Array.from(b);\n                for (var k = 0, slen = subs.length; k < slen; k++) {\n                    d.appendChild(subs[k]);\n                }\n            }\n        };\n        if (Array.isArray(a) || a?.constructor === NodeList) {\n            var contArr = Array.from(a);\n            for (var m = 0, mlen = contArr.length; m < mlen; m++) {\n                appendContent(contArr[m]);\n            }\n        } else {\n            appendContent(a);\n        }\n    }\n    return this;\n});"
        },
        "id": {
            "uuid": "2d516411-9c99-4b00-bb30-6efd6ca392c1",
            "name": "id",
            "method": "Prototype",
            "desc": "Gets or sets the id attribute of the first node.",
            "type": "Attributes",
            "example": "Q(selector).id(); // Retrieves or Q(selector).id('new-id');",
            "dependencies": [],
            "script": "Q.Ext('id', function (a) {\n    var node = this.nodes[0];\n    if (a === undefined) return node.id;\n    node.id = a;\n    return this;\n});"
        },
        "index": {
            "uuid": "ea2ec886-7007-4911-b4f5-0662eaa30c1f",
            "name": "index",
            "method": "Prototype",
            "desc": "Returns the index of the first node, or moves the node to a specific index within its parent.",
            "type": "Traversal",
            "example": "Q(selector).index(); // Retrieves the index or Q(selector).index(2);",
            "dependencies": [],
            "script": "Q.Ext('a', function (a) {\n    var first = this.nodes[0];\n    if (a === undefined) {\n        return Array.prototype.indexOf.call(first.parentNode.children, first);\n    }\n    var nodes = this.nodes;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        var node = nodes[i],\n            b = node.parentNode;\n        if (!b) continue;\n        var children = Array.from(b.children);\n        b.removeChild(node);\n        if (a >= children.length) {\n            b.appendChild(node);\n        } else {\n            b.insertBefore(node, children[a]);\n        }\n    }\n    return this;\n});"
        },
        "inside": {
            "uuid": "4026fe3d-0556-43b0-900e-86e79c029e61",
            "name": "inside",
            "method": "Prototype",
            "desc": "Checks if the first node is inside another node, determined by a specific selector.",
            "type": "Traversal",
            "example": "Q(selector).inside(\".parent\");",
            "dependencies": [],
            "script": "Q.Ext('inside', function (a) {\n    var node = this.nodes[0];\n    return node ? node.closest(a) !== null : false;\n});"
        },
        "is": {
            "uuid": "361733c9-70dd-43ea-81db-463ab30f7a62",
            "name": "is",
            "method": "Prototype",
            "desc": "Checks if the first node matches a specific selector or condition, allowing for dynamic queries and element comparisons.",
            "type": "Utilities",
            "example": "Q(selector).is(\":visible\"); // Checks if the element is currently visible",
            "dependencies": [],
            "script": "Q.Ext('is', function (a) {\n    var b = this.nodes[0];\n    if (!b) return false;\n    if (typeof a === 'function') {\n        return a.call(b, 0, b);\n    }\n    if (typeof a === 'string') {\n        switch (a) {\n            case ':visible':\n                return b.offsetWidth > 0 && b.offsetHeight > 0;\n            case ':hidden':\n                return b.offsetWidth === 0 || b.offsetHeight === 0;\n            case ':hover':\n                return b === document.querySelector(':hover');\n            case ':focus':\n                return b === document.activeElement;\n            case ':blur':\n                return b !== document.activeElement;\n            case ':checked':\n                return b.checked;\n            case ':selected':\n                return b.selected;\n            case ':disabled':\n                return b.disabled;\n            case ':enabled':\n                return !b.disabled;\n            default:\n                return b.matches(a);\n        }\n    }\n    if (a?.nodeType === 1 || a?.nodeType != null) {\n        return b === a;\n    }\n    if (a instanceof Q) {\n        return b === a.nodes[0];\n    }\n    return false;\n});"
        },
        "isExists": {
            "uuid": "53aa267a-1cbe-4e71-8166-1cfcd61c9e8e",
            "name": "isExists",
            "method": "Prototype",
            "desc": "Checks if the first node exists in the DOM.",
            "type": "Utilities",
            "example": "Q(selector).isExists(); or Q.isExists('.ok')",
            "dependencies": [],
            "script": "Q.Ext('isExists', function () {\n    var node = this.nodes[0];\n    return node ? document.body.contains(node) : false;\n});\nQ.isExists = function (a) {\n    return document.querySelector(a) !== null;\n};"
        },
        "last": {
            "uuid": "d25b4f7d-5708-4bfb-9070-9fe1e6a053fb",
            "name": "last",
            "method": "Prototype",
            "desc": "Returns the last node.",
            "type": "Traversal",
            "example": "Q(selector).last();",
            "dependencies": [],
            "script": "Q.Ext('last', function () {\n    var nodes = this.nodes;\n    return new Q(nodes[nodes.length - 1]);\n});"
        },
        "map": {
            "uuid": "0d36244f-2199-47ea-bf8d-7ad76633c238",
            "name": "map",
            "method": "Prototype",
            "desc": "Maps each node to a new array.",
            "type": "Array",
            "example": "Q(selector).map(el => el.innerHTML);",
            "dependencies": [],
            "script": "Q.Ext('map', function (a) {\n    var b = [],\n        nodes = this.nodes;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        b.push(a(new Q(nodes[i])));\n    }\n    return b;\n});"
        },
        "off": {
            "uuid": "b4412b08-14f5-48f0-85fa-1a05cc79855e",
            "name": "off",
            "method": "Prototype",
            "desc": "Removes an event listener from each node.",
            "type": "Event Handling",
            "example": "Q(selector).off(\"click\", handler);",
            "dependencies": [],
            "script": "Q.Ext('off', function (a, b, c) {\n    var d = { capture: false, once: false, passive: false },\n        opts = Object.assign({}, d, c),\n        eventList = a.split(' '),\n        nodes = this.nodes;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        for (var j = 0, elen = eventList.length; j < elen; j++) {\n            nodes[i].removeEventListener(eventList[j], b, opts);\n        }\n    }\n    return this;\n});"
        },
        "offset": {
            "uuid": "8f547c7d-e602-4d53-bfb6-f8816ea43b34",
            "name": "offset",
            "method": "Prototype",
            "desc": "Returns the top and left offset of the first node relative to the document.",
            "type": "Dimensions",
            "example": "Q(selector).offset();",
            "dependencies": [],
            "script": "Q.Ext('offset', function () {\n    var node = this.nodes[0],\n        a = node.getBoundingClientRect();\n    return {\n        top: a.top + window.scrollY,\n        left: a.left + window.scrollX\n    };\n});"
        },
        "on": {
            "uuid": "9b8815ad-017d-47f4-9bed-74bc53586cdf",
            "name": "on",
            "method": "Prototype",
            "desc": "Adds an event listener to each node.",
            "type": "Event Handling",
            "example": "Q(selector).on(\"click\", () => console.log(\"Clicked\"));",
            "dependencies": [],
            "script": "Q.Ext('on', function (a, b, c) {\n    var d = { capture: false, once: false, passive: false },\n        opts = Object.assign({}, d, c),\n        eventList = a.split(' '),\n        nodes = this.nodes;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        for (var j = 0, elen = eventList.length; j < elen; j++) {\n            nodes[i].addEventListener(eventList[j], b, opts);\n        }\n    }\n    return this;\n});"
        },
        "parent": {
            "uuid": "df83f6a7-b4c5-49b3-ae14-7f419c40d3bb",
            "name": "parent",
            "method": "Prototype",
            "desc": "Returns the parent node of the first node.",
            "type": "Traversal",
            "example": "Q(selector).parent();",
            "dependencies": [],
            "script": "Q.Ext('parent', function () {\n    var node = this.nodes[0];\n    return new Q(node ? node.parentNode : null);\n});"
        },
        "position": {
            "uuid": "12599aa5-9f21-429e-ac81-3d70b8057a00",
            "name": "position",
            "method": "Prototype",
            "desc": "Returns the top and left position of the first node relative to its offset parent.",
            "type": "Dimension/Position",
            "example": "Q(selector).position();",
            "dependencies": [],
            "script": "Q.Ext('position', function () {\n    var node = this.nodes[0];\n    return {\n        top: node.offsetTop,\n        left: node.offsetLeft\n    };\n});"
        },
        "prepend": {
            "uuid": "25609d57-c6e8-478c-8564-8fb4ea61fed5",
            "name": "prepend",
            "method": "Prototype",
            "desc": "Prepends child nodes or HTML to each node.",
            "type": "DOM Manipulation",
            "example": "Q(selector).prepend(\"<div>Prepended</div>\");",
            "dependencies": [],
            "script": "Q.Ext('prepend', function () {\n    var a = this.a,\n        contents = Array.prototype.slice.call(arguments),\n        i, j, k, b, c, subNodes;\n    for (i = 0; i < a.length; i++) {\n        b = a[i];\n        for (j = 0; j < contents.length; j++) {\n            c = contents[j];\n            if (typeof c === 'string') {\n                b.insertAdjacentHTML('afterbegin', c);\n            } else if (c instanceof Q) {\n                b.insertBefore(c.a[0], b.firstChild);\n            } else if (c?.nodeType === 1 || c?.nodeType != null) {\n                b.insertBefore(c, b.firstChild);\n            } else if (Array.isArray(c) || c?.constructor === NodeList) {\n                subNodes = Array.from(c);\n                for (k = 0; k < subNodes.length; k++) {\n                    b.insertBefore(subNodes[k], b.firstChild);\n                }\n            }\n        }\n    }\n    return this;\n});"
        },
        "prop": {
            "uuid": "b908a569-4b84-47f5-a547-280a4dd83bdf",
            "name": "prop",
            "method": "Prototype",
            "desc": "Gets or sets a property on the nodes.",
            "type": "Property Manipulation",
            "example": "Q(selector).prop(property, value);",
            "dependencies": "",
            "script": "Q.Ext('prop', function (a, b) {\n    var nodes = this.nodes;\n    if (b === undefined) {\n        return nodes[0] ? nodes[0][a] : null;\n    }\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        nodes[i][a] = b;\n    }\n    return this;\n});"
        },
        "remove": {
            "uuid": "4734018f-2480-49c9-96be-806eb69a8995",
            "name": "remove",
            "method": "Prototype",
            "desc": "Removes each node from the DOM.",
            "type": "DOM Manipulation",
            "example": "Q(selector).remove();",
            "dependencies": "",
            "script": "Q.Ext('remove', function() {\n    var nodes = this.nodes;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        nodes[i].remove();\n    }\n    return this;\n});"
        },
        "removeAttr": {
            "uuid": "19a55358-508c-408f-89c9-73430dc29314",
            "name": "removeAttr",
            "method": "Prototype",
            "desc": "Removes an attribute from each node.",
            "type": "Attribute Manipulation",
            "example": "Q(selector).removeAttr(attribute);",
            "dependencies": "",
            "script": "Q.Ext('removeAttr', function (a) {\n    var nodes = this.nodes;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        nodes[i].removeAttribute(a);\n    }\n    return this;\n});"
        },
        "removeClass": {
            "uuid": "623bf4d7-02f9-45ae-b697-06d44cbc270d",
            "name": "removeClass",
            "method": "Prototype",
            "desc": "Removes one or more classes from each node.",
            "type": "Class Manipulation",
            "example": "Q(selector).removeClass(\"class1 class2\");",
            "dependencies": "",
            "script": "Q.Ext('removeClass', function (a) {\n    var b = a.split(' ');\n    for (var i = 0, len = this.nodes.length; i < len; i++) {\n        this.nodes[i].classList.remove.apply(this.nodes[i].classList, b);\n    }\n    return this;\n});"
        },
        "removeData": {
            "uuid": "1932b340-0b92-45da-b811-4be1a577f622",
            "name": "removeData",
            "method": "Prototype",
            "desc": "Removes a data-* attribute from each node.",
            "type": "Data Manipulation",
            "example": "Q(selector).removeData(key);",
            "dependencies": "",
            "script": "Q.Ext('removeData', function (a) {\n    for (let i = 0, n = this.nodes.length; i < n; i++) {\n        delete this.nodes[i].dataset[a];\n    }\n    return this;\n});"
        },
        "removeProp": {
            "uuid": "20633ef2-8600-4d75-859e-a8feeeddb6ba",
            "name": "removeProp",
            "method": "Prototype",
            "desc": "Removes a property from each node.",
            "type": "Property Manipulation",
            "example": "Q(selector).removeProp(property);",
            "dependencies": "",
            "script": "Q.Ext('removeProp', function (a) {\n    for (let i = 0, n = this.nodes.length; i < n; i++) {\n        delete this.nodes[i][a];\n    }\n    return this;\n});"
        },
        "removeTransition": {
            "uuid": "30701472-8634-4b83-bdca-9b4ab7e034bb",
            "name": "removeTransition",
            "method": "Prototype",
            "desc": "Removes the transition from each node.",
            "type": "Display",
            "example": "Q(selector).removeTransition();",
            "dependencies": "",
            "script": "Q.Ext('removeTransition', function () {\n    for (let i = 0, n = this.nodes.length; i < n; i++) {\n        this.nodes[i].style.transition = '';\n    }\n    return this;\n});"
        },
        "scrollHeight": {
            "uuid": "f53ec1a9-a536-4bbe-bd67-ea49dd9c52e4",
            "name": "scrollHeight",
            "method": "Prototype",
            "desc": "Returns the scroll height of the first node.",
            "type": "Scroll Manipulation",
            "example": "Q(selector).scrollHeight();",
            "dependencies": "",
            "script": "Q.Ext('scrollHeight', function () {\n    var node = this.nodes[0];\n    return node.scrollHeight;\n});"
        },
        "scrollLeft": {
            "uuid": "9d27dbd1-9a3a-4714-89bf-6f9a1d8e100f",
            "name": "scrollLeft",
            "method": "Prototype",
            "desc": "Gets or sets the horizontal scroll position of the first node, with an option to increment.",
            "type": "Scroll Manipulation",
            "example": "Q(selector).scrollLeft(value, increment);",
            "dependencies": "",
            "script": "Q.Ext('scrollLeft', function (a, b) {\n    const node = this.nodes[0];\n    if (a === undefined) {\n        return node.scrollLeft;\n    }\n    for (let i = 0, n = this.nodes.length; i < n; i++) {\n        const current = this.nodes[i];\n        const c = current.scrollWidth - current.clientWidth;\n        current.scrollLeft = b \n            ? Math.min(current.scrollLeft + a, c) \n            : Math.min(a, c);\n    }\n    return this;\n});"
        },
        "scrollTop": {
            "uuid": "f166ac4d-2224-4602-846b-c18a15f17eaf",
            "name": "scrollTop",
            "method": "Prototype",
            "desc": "Gets or sets the vertical scroll position of the first node, with an option to increment.",
            "type": "Scroll Manipulation",
            "example": "Q(selector).scrollTop(value, increment);",
            "dependencies": "",
            "script": "Q.Ext('scrollTop', function (a, b) {\n    const node = this.nodes[0];\n    if (a === undefined) {\n        return node.scrollTop;\n    }\n    for (let i = 0, n = this.nodes.length; i < n; i++) {\n        const current = this.nodes[i];\n        const c = current.scrollHeight - current.clientHeight;\n        current.scrollTop = b \n            ? Math.min(current.scrollTop + a, c) \n            : Math.min(a, c);\n    }\n    return this;\n});"
        },
        "scrollWidth": {
            "uuid": "e060cb10-e180-467f-9d28-860aef0f8857",
            "name": "scrollWidth",
            "method": "Prototype",
            "desc": "Returns the scroll width of the first node.",
            "type": "Dimensions",
            "example": "Q(selector).scrollWidth();",
            "dependencies": "",
            "script": "Q.Ext('scrollWidth', function () {\n    var node = this.nodes[0];\n    return node.scrollWidth;\n});"
        },
        "show": {
            "uuid": "ea7e8719-2203-4764-a9bc-f1a9dc63038a",
            "name": "show",
            "method": "Prototype",
            "desc": "Shows each node, optionally with a fade-in effect over a specified duration.",
            "type": "Display",
            "example": "Q(selector).show(duration, callback);",
            "dependencies": "",
            "script": "Q.Ext('show', function (a = 0, b) {\n    for (let i = 0, n = this.nodes.length; i < n; i++) {\n        const c = this.nodes[i];\n        if (a === 0) {\n            c.style.display = '';\n            if (b) b();\n        } else {\n            c.style.transition = `opacity ${a}ms`;\n            c.style.opacity = 0;\n            c.style.display = '';\n            setTimeout(() => {\n                c.style.opacity = 1;\n                c.addEventListener('transitionend', () => {\n                    c.style.transition = '';\n                    if (b) b();\n                }, { once: true });\n            }, 0);\n        }\n    }\n    return this;\n});"
        },
        "size": {
            "uuid": "f34db67f-7255-42fb-81bf-474f16f70523",
            "name": "size",
            "method": "Prototype",
            "desc": "Returns the width and height of the first node.",
            "type": "Dimensions",
            "example": "Q(selector).size();",
            "dependencies": "",
            "script": "Q.Ext('size', function () {\n    const node = this.nodes[0];\n\treturn {\n\t\twidth: node.offsetWidth,\n\t\theight: node.offsetHeight\n\t};\n});"
        },
        "text": {
            "uuid": "482d8ad0-076b-4a6d-aa5e-8095a3620dba",
            "name": "text",
            "method": "Prototype",
            "desc": "Gets or sets the text content of the nodes.",
            "type": "Content Manipulation",
            "example": "Q(selector).text(string);",
            "dependencies": "",
            "script": "Q.Ext('text', function (a) {\n    if (a === undefined) {\n        return this.nodes[0]?.textContent || null;\n    }\n    for (let i = 0, n = this.nodes.length; i < n; i++) {\n        this.nodes[i].textContent = a;\n    }\n    return this;\n});"
        },
        "toggle": {
            "uuid": "e9e75b0c-029f-4f79-a085-47c744174ed8",
            "name": "toggle",
            "method": "Prototype",
            "desc": "Toggles the display of each node.",
            "type": "Utilities",
            "example": "Q(selector).toggle();",
            "dependencies": "",
            "script": "Q.Ext('toggle', function () {\n    var nodes = this.nodes;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n        nodes[i].style.display = (nodes[i].style.display === 'none' ? '' : 'none');\n    }\n    return this;\n});"
        },
        "toggleClass": {
            "uuid": "eb72d7ce-26a3-4939-b618-f2302c52a120",
            "name": "toggleClass",
            "method": "Prototype",
            "desc": "Toggles a class on each node.",
            "type": "Class Manipulation",
            "example": "Q(selector).toggleClass(className);",
            "dependencies": "",
            "script": "Q.Ext('toggleClass', function (a) {\n    for (let i = 0, n = this.nodes.length; i < n; i++) {\n        this.nodes[i].classList.toggle(a);\n    }\n    return this;\n});"
        },
        "trigger": {
            "uuid": "631541ae-79cc-4579-8905-d5b112d39ffe",
            "name": "trigger",
            "method": "Prototype",
            "desc": "Triggers a specific event on each node.",
            "type": "Event Handling",
            "example": "Q(selector).trigger(\"click\");",
            "dependencies": [],
            "script": "Q.Ext('trigger', function (a) {\n    for (let i = 0, n = this.nodes.length; i < n; i++) {\n        this.nodes[i].dispatchEvent(new Event(a));\n    }\n    return this;\n});"
        },
        "unwrap": {
            "uuid": "c55f4ef9-cf56-421b-9277-3c91bdaf1613",
            "name": "unwrap",
            "method": "Prototype",
            "desc": "Removes the parent wrapper of each node.",
            "type": "DOM Manipulation",
            "example": "Q(selector).unwrap();",
            "dependencies": [],
            "script": "Q.Ext('unwrap', function () {\n    for (let i = 0, n = this.nodes.length; i < n; i++) {\n        const b = this.nodes[i];\n        const a = b.parentNode;\n        if (a && a !== document.body) {\n            a.replaceWith(...a.childNodes);\n        }\n    }\n    return this;\n});"
        },
        "val": {
            "uuid": "75a113d9-af97-49c2-8e97-31019bf6b2c8",
            "name": "val",
            "method": "Prototype",
            "desc": "Gets or sets the value of form elements in the nodes.",
            "type": "Form Manipulation",
            "example": "Q(selector).val(value);",
            "dependencies": [],
            "script": "Q.Ext('val', function(a) {\n    if (a === undefined) return this.nodes[0]?.value || null;\n    for (let i = 0, n = this.nodes.length; i < n; i++) {\n        this.nodes[i].value = a;\n    }\n    return this;\n});"
        },
        "wait": {
            "uuid": "2ad2efdb-617f-4199-8591-aba6866ffe9d",
            "name": "wait",
            "method": "Prototype",
            "desc": "Returns a promise that resolves after a given time. Useful for delaying actions.",
            "type": "Utility",
            "example": "Q('.text').wait(1000).text('Hello, World!');",
            "dependencies": [],
            "script": "Q.Ext('wait', function(a) {\n\treturn new Promise(resolve => setTimeout(() => resolve(this), a));\n});"
        },
        "walk": {
            "uuid": "5eac4f90-0e69-4ead-bdbd-cdaacf22d823",
            "name": "walk",
            "method": "Prototype",
            "desc": "Walks through all nodes in the Q object and executes a callback on each node, passing the current node as a Q object or raw element based on the boolean parameter.",
            "type": "Iteration",
            "example": "Q(selector).walk((node) => console.log(node), true); // Passes Q object",
            "dependencies": [],
            "script": "Q.Ext('walk', function (a, b = false) {\n    for (let i = 0, n = this.nodes.length; i < n; i++) {\n        const c = b ? Q(this.nodes[i]) : this.nodes[i];\n        a.call(this.nodes[i], c, i);\n    }\n    return this;\n});"
        },
        "width": {
            "uuid": "9ce98f60-67b3-4235-a03a-a3343163adee",
            "name": "width",
            "method": "Prototype",
            "desc": "Gets or sets the width of the first node.",
            "type": "Dimensions",
            "example": "Q(selector).width(value);",
            "dependencies": [],
            "script": "Q.Ext('width', function (a) {\n    if (typeof a === 'undefined') {\n        return this.nodes[0] ? this.nodes[0].offsetWidth : undefined;\n    }\n    for (let i = 0, n = this.nodes.length; i < n; i++) {\n        this.nodes[i].style.width = a;\n    }\n    return this;\n});"
        },
        "wrap": {
            "uuid": "a4fd8621-5d18-4f84-8cba-48cf0c7a77c4",
            "name": "wrap",
            "method": "Prototype",
            "desc": "Wraps each node with the specified wrapper element.",
            "type": "DOM Manipulation",
            "example": "Q(selector).wrap(\"<div class='wrapper'></div>\");",
            "dependencies": [],
            "script": "Q.Ext('wrap', function (a) {\n    for (let i = 0, n = this.nodes.length; i < n; i++) {\n        const f = this.nodes[i];\n        const b = f.b;\n        let c;\n        if (typeof a === 'string') {\n            const d = document.createElement('e');\n            d.innerHTML = a.trim();\n            c = d.firstElementChild.cloneNode(true);\n        } else {\n            c = a;\n        }\n        b.insertBefore(c, f);\n        c.appendChild(f);\n    }\n    return this;\n});"
        },
        "wrapAll": {
            "uuid": "148cc631-c5e6-46b5-b6cd-46a01aebe836",
            "name": "wrapAll",
            "method": "Prototype",
            "desc": "Wraps all nodes together in a single wrapper element.",
            "type": "DOM Manipulation",
            "example": "Q(selector).wrapAll(\"<div class='wrapper'></div>\");",
            "dependencies": [],
            "script": "Q.Ext('wrapAll', function (a) {\n    if (!this.nodes.length) return this;\n    const b = this.nodes[0].parentNode;\n    let c = typeof a === 'string'\n        ? ((tempDiv => (tempDiv.innerHTML = a.trim(), tempDiv.firstElementChild))\n           (document.createElement('div')))\n        : a;\n    b.insertBefore(c, this.nodes[0]);\n    for (let i = 0, n = this.nodes.length; i < n; i++) {\n        c.appendChild(this.nodes[i]);\n    }\n    return this;\n});"
        },
        "zIndex": {
            "uuid": "46258b6e-5741-47c2-9d58-281f381d2f6a",
            "name": "zIndex",
            "method": "Prototype",
            "desc": "Gets or sets the z-index of the first node.",
            "type": "Display",
            "example": "Q(selector).zIndex(value);",
            "dependencies": [],
            "script": "Q.Ext('zIndex', function (a) {\n    const node = this.nodes[0];\n    if (!node) return;\n    if (a === undefined) {\n        let b = node.style.zIndex || window.getComputedStyle(node).zIndex;\n        return b;\n    }\n    for (let i = 0, n = this.nodes.length; i < n; i++) {\n        this.nodes[i].style.zIndex = a;\n    }\n    return this;\n});"
        }
    },
    "plugins": {
        "Container": {
            "uuid": "a5f03b1c-1ddd-4f75-9087-36998414700e",
            "name": "Container",
            "method": "Plugin",
            "desc": "Useful to create containers for your elements, like tabs, accordions, etc.",
            "type": "Constructor",
            "example": "var container = Q.Container(); // Create a new container instance",
            "dependencies": [
                "style",
                "addClass",
                "removeClass",
                "on",
                "append",
                "Icons"
            ],
            "script": "function Container(options = {}) {\n    if (!(this instanceof Container)) {\n        return new Container(options);\n    }\n    this.elements = [];\n    this.options = options;\n    if (!Container.initialized) {\n        Container.classes = Q.style('', `\n            .container_icon {\n                width: 100%;\n                height: 100%;\n                color: #777; /* Default color */\n                pointer-events: none;\n                z-index: 1;\n            }\n        `, null, {\n            'container_icon': 'container_icon'\n        });\n        Q.Icons();\n        Container.initialized = true;\n        console.log('Container core initialized');\n    }\n}\nContainer.prototype.Icon = function(icon) {\n    const iconInstance = Q.Icons();\n    return iconInstance.get(icon, 'container_icon');\n};\nQ.Container = Container;"
        },
        "Container.Tab": {
            "uuid": "2f1a0c19-d5df-44c5-ad9d-72659033fc59",
            "name": "Container.Tab",
            "method": "Method",
            "desc": "Tab component for Container plugin",
            "type": "Method",
            "example": "var container = Q.Container(); var tabs = container.Tab([{title: 'Tab 1', value: 'tab1', content: 'Content 1'}, {title: 'Tab 2', value: 'tab2', content: 'Content 2'}]);",
            "dependencies": [
                "style",
                "addClass",
                "removeClass",
                "on",
                "append",
                "find",
                "scrollTop",
                "scrollLeft",
                "html",
                "text",
                "data",
                "click"
            ],
            "script": "Container.prototype.Tab = function(data, horizontal = true) {\n    if (!Container.tabClassesInitialized) {\n        Container.tabClasses = Q.style('', `\n            .tab_navigation_buttons {\n                box-sizing: border-box;\n                width: 20px;\n                background-color: #333;\n                display: flex;\n                justify-content: center;\n                padding: 4px;\n            }\n            .tab_navigation_buttons_vertical {\n                width: auto;\n                height: 20px;\n            }\n            .tab_navigation_buttons:hover {\n                background-color: #555;\n            }\n            .tab_container {\n                width: 100%;\n                height: 300px;\n            }\n            .tab_container_vertical {\n                display: flex;\n            }\n            .tab_navigation_header {\n                background-color: #333;\n                display: flex;\n            }\n            .tab_navigation_header_vertical {\n                flex-direction: column;\n                width: auto;\n            }\n            .tab_navigation_tabs {\n                user-select: none;\n                display: flex;\n                flex-direction: row;\n                width: 100%;\n                overflow: hidden;\n            }\n            .tab_navigation_tabs_vertical {\n                flex-direction: column;\n            }\n            .tab_active {\n                background-color: #555;\n                color: #fff;\n            }\n            .tab {\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                cursor: default;\n                padding: 5px 25px;\n            }\n            .tab_disabled {\n                background-color: #333;\n                color: #555;\n            }\n            .tab_content {\n                display: none;\n                width: 100%;\n                height: 100%;\n                overflow: auto;\n            }\n            .tab_content_active {\n                display: block;\n            }\n            .tab_content_container {\n                width: 100%;\n                height: 100%;\n                overflow: auto;\n                position: relative;\n            }\n        `, null, {\n            'tab_navigation_buttons': 'tab_navigation_buttons',\n            'tab_navigation_buttons_vertical': 'tab_navigation_buttons_vertical',\n            'tab_container': 'tab_container',\n            'tab_container_vertical': 'tab_container_vertical',\n            'tab_navigation_header': 'tab_navigation_header',\n            'tab_navigation_header_vertical': 'tab_navigation_header_vertical',\n            'tab_navigation_tabs': 'tab_navigation_tabs',\n            'tab_navigation_tabs_vertical': 'tab_navigation_tabs_vertical',\n            'tab_active': 'tab_active',\n            'tab': 'tab',\n            'tab_disabled': 'tab_disabled',\n            'tab_content_container': 'tab_content_container'\n        });\n        Container.tabClassesInitialized = true;\n    }\n    const wrapper = Q('<div>', { class: Container.tabClasses.tab_container });\n    const header = Q('<div>', { class: Container.tabClasses.tab_navigation_header });\n    const prevBtn = Q('<div>', { class: Container.tabClasses.tab_navigation_buttons });\n    const nextBtn = Q('<div>', { class: Container.tabClasses.tab_navigation_buttons });\n    const tabs = Q('<div>', { class: Container.tabClasses.tab_navigation_tabs });\n    const contentContainer = Q('<div>', { class: Container.tabClasses.tab_content_container });\n    if (!horizontal) {\n        wrapper.addClass(Container.tabClasses.tab_container_vertical);\n        header.addClass(Container.tabClasses.tab_navigation_header_vertical);\n        tabs.addClass(Container.tabClasses.tab_navigation_tabs_vertical);\n        prevBtn.addClass(Container.tabClasses.tab_navigation_buttons_vertical);\n        nextBtn.addClass(Container.tabClasses.tab_navigation_buttons_vertical);\n        prevBtn.append(Q('<div>', { class: 'svg_arrow-up container_icon' }));\n        nextBtn.append(Q('<div>', { class: 'svg_arrow-down container_icon' }));\n    } else {\n        prevBtn.append(Q('<div>', { class: 'svg_arrow-left container_icon' }));\n        nextBtn.append(Q('<div>', { class: 'svg_arrow-right container_icon' }));\n    }\n    header.append(prevBtn, tabs, nextBtn);\n    wrapper.append(header, contentContainer);\n    const data_tabs = {};\n    const data_contents = {};\n    let activeTab = null;\n    prevBtn.on('click', () => {\n        const scrollAmount = horizontal ? tabs.width() : tabs.height();\n        horizontal ? tabs.scrollLeft(-scrollAmount, true) : tabs.scrollTop(-scrollAmount, true);\n    });\n    nextBtn.on('click', () => {\n        const scrollAmount = horizontal ? tabs.width() : tabs.height();\n        horizontal ? tabs.scrollLeft(scrollAmount, true) : tabs.scrollTop(scrollAmount, true);\n    });\n    data.forEach(item => {\n        const tab = Q('<div>', { class: Container.tabClasses.tab })\n            .attr('data-value', item.value)\n            .text(item.title);\n        if (item.disabled) {\n            tab.addClass(Container.tabClasses.tab_disabled);\n        }\n        let content;\n        if (typeof item.content === 'string') {\n            content = Q('<div>').html(item.content);\n        } else if (item.content instanceof Element) {\n            content = Q(item.content);\n        } else if (item.content instanceof Q) {\n            content = item.content;\n        } else {\n            content = Q('<div>');\n        }\n        data_tabs[item.value] = tab;\n        data_contents[item.value] = content;\n        tab.on('click', function() {\n            if (item.disabled) return;\n            const activeTabs = tabs.find('.' + Container.tabClasses.tab_active);\n            if (activeTabs) activeTabs.removeClass(Container.tabClasses.tab_active);\n            tab.addClass(Container.tabClasses.tab_active);\n            showContent(item.value);\n        });\n        tabs.append(tab);\n    });\n    function showContent(value) {\n        if (!data_contents[value]) return;\n        if (activeTab && data_contents[activeTab]) {\n            data_contents[activeTab].detach();\n        }\n        activeTab = value;\n        contentContainer.append(data_contents[value]);\n    }\n    wrapper.select = function(value) {\n        const tab = data_tabs[value];\n        if (tab) tab.click();\n        return this;\n    };\n    wrapper.disabled = function(value, state) {\n        const tab = data_tabs[value];\n        if (tab) {\n            state ? tab.addClass(Container.tabClasses.tab_disabled) : \n                  tab.removeClass(Container.tabClasses.tab_disabled);\n        }\n        return this;\n    };\n    wrapper.addTab = function(tabData) {\n        if (!tabData) return null;\n        const tab = Q('<div>', { class: Container.tabClasses.tab })\n            .attr('data-value', tabData.value)\n            .text(tabData.title);\n        if (tabData.disabled) {\n            tab.addClass(Container.tabClasses.tab_disabled);\n        }\n        let content;\n        if (typeof tabData.content === 'string') {\n            content = Q('<div>').html(tabData.content);\n        } else if (tabData.content instanceof Element) {\n            content = Q(tabData.content);\n        } else if (tabData.content instanceof Q) {\n            content = tabData.content;\n        } else {\n            content = Q('<div>');\n        }\n        data_tabs[tabData.value] = tab;\n        data_contents[tabData.value] = content;\n        tab.on('click', function() {\n            if (tabData.disabled) return;\n            const activeTabs = tabs.find('.' + Container.tabClasses.tab_active);\n            if (activeTabs) activeTabs.removeClass(Container.tabClasses.tab_active);\n            tab.addClass(Container.tabClasses.tab_active);\n            showContent(tabData.value);\n        });\n        tabs.append(tab);\n        return tab;\n    };\n    wrapper.removeTab = function(value) {\n        if (data_tabs[value]) {\n            data_tabs[value].remove();\n            if (activeTab === value) {\n                const availableTab = Object.keys(data_tabs).find(key => key !== value);\n                if (availableTab) {\n                    this.select(availableTab);\n                } else {\n                    contentContainer.empty();\n                    activeTab = null;\n                }\n            }\n            if (data_contents[value]) {\n                data_contents[value].remove();\n            }\n            delete data_tabs[value];\n            delete data_contents[value];\n        }\n        return this;\n    };\n    wrapper.getContent = function(value) {\n        return data_contents[value] || null;\n    };\n    wrapper.updateContent = function(value, newContent) {\n        if (!data_contents[value]) return this;\n        if (typeof newContent === 'string') {\n            data_contents[value].html(newContent);\n        } else if (newContent instanceof Element || newContent instanceof Q) {\n            data_contents[value].empty().append(newContent);\n        }\n        return this;\n    };\n    this.elements.push(wrapper);\n    return wrapper;\n};"
        },
        "Container.Window": {
            "uuid": "75f81f9a-bc1a-4445-bc13-20dc09b41d0d",
            "name": "Container.Window",
            "method": "Plugin",
            "desc": "Creates a draggable, resizable window container with title bar and control buttons",
            "type": "Method",
            "example": "var win = Q.Container().Window({ title: 'My Window', content: 'Hello World' }); win.Open();",
            "dependencies": [
                "style",
                "on",
                "off",
                "addClass",
                "removeClass",
                "append",
                "css",
                "attr",
                "html",
                "text",
                "width",
                "height",
                "data",
                "detach",
                "show",
                "hide",
                "css",
                "bind",
                "Icons"
            ],
            "script": "Container.prototype.Window = function(options = {}) {\n    if (!Container.windowClassesInitialized) {\n        Container.windowClasses = Q.style(`\n            --window-bg-color:rgb(37, 37, 37);\n            --window-border-color: rgba(255, 255, 255, 0.2);\n            --window-shadow-color: rgba(0, 0, 0, 0.1);\n            --window-titlebar-bg:rgb(17, 17, 17);\n            --window-titlebar-text: #ffffff;\n            --window-button-bg:rgb(17, 17, 17);\n            --window-button-hover-bg: #777777;\n            --window-button-text: #ffffff;\n            --window-close-color: #e74c3c;\n            --window-titlebar-height: 28px; /* Add fixed titlebar height */\n        `, `\n            .window_container {\n                position: fixed; /* Change from absolute to fixed */\n                min-width: 200px;\n                background-color: var(--window-bg-color);\n                border: 1px solid var(--window-border-color);\n                border-radius: 4px;\n                box-shadow: 0 4px 8px var(--window-shadow-color);\n                display: flex;\n                flex-direction: column;\n                overflow: hidden;\n                z-index: 1000;\n                transition-property: opacity, transform, width, height, top, left;\n                transition-timing-function: ease-out;\n            }\n            .window_titlebar {\n                background-color: var(--window-titlebar-bg);\n                color: var(--window-titlebar-text);\n                font-size: 12px;\n                cursor: default;\n                user-select: none;\n                display: flex;\n                align-items: center;\n                justify-content: space-between;\n                box-sizing: border-box;\n                height: var(--window-titlebar-height); /* Fixed height for titlebar */\n            }\n            .window_title {\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                flex: 1;\n                margin: 0 10px;\n            }\n            .window_controls {\n                display: flex;\n                height:100%;\n            }\n            .window_button {\n                background-color: var(--window-button-bg);\n                cursor: default;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                position: relative;\n                height: 100%;\n                width: 30px;\n            }\n            .window_button:hover {\n                background-color: var(--window-button-hover-bg);\n            }\n            .window_close:hover {\n                background-color: var(--window-close-color);\n            }\n            .window_content {\n                flex: 1;\n                overflow: auto;\n                padding: 10px;\n                position: relative;\n                background-color: var(--window-bg-color);\n                box-sizing: border-box;\n            }\n            .window_content:empty {\n            padding: 0;\n            }\n            .window_resize_handle {\n                position: absolute;\n                z-index: 1;\n            }\n            .window_resize_n {\n                top: 0;\n                left: 0;\n                right: 0;\n                height: 5px;\n                cursor: n-resize;\n            }\n            .window_resize_e {\n                top: 0;\n                right: 0;\n                bottom: 0;\n                width: 5px;\n                cursor: e-resize;\n            }\n            .window_resize_s {\n                bottom: 0;\n                left: 0;\n                right: 0;\n                height: 5px;\n                cursor: s-resize;\n            }\n            .window_resize_w {\n                top: 0;\n                left: 0;\n                bottom: 0;\n                width: 5px;\n                cursor: w-resize;\n            }\n            .window_resize_nw {\n                top: 0;\n                left: 0;\n                width: 10px;\n                height: 10px;\n                cursor: nw-resize;\n            }\n            .window_resize_ne {\n                top: 0;\n                right: 0;\n                width: 10px;\n                height: 10px;\n                cursor: ne-resize;\n            }\n            .window_resize_se {\n                bottom: 0;\n                right: 0;\n                width: 10px;\n                height: 10px;\n                cursor: se-resize;\n            }\n            .window_resize_sw {\n                bottom: 0;\n                left: 0;\n                width: 10px;\n                height: 10px;\n                cursor: sw-resize;\n            }\n            .window_minimized {\n                height: var(--window-titlebar-height) !important; /* Fixed to titlebar height */\n                width: auto !important;\n                min-width: 200px;\n                position: fixed !important;\n                bottom: 10px;\n                left: 10px;\n                overflow: hidden;\n            }\n            .window_minimized .window_content {\n                display: none !important; /* Biztos\u00edtjuk, hogy val\u00f3ban ne jelenjen meg */\n                height: 0 !important;\n            }\n            .window_minimized .window_resize_handle {\n                display: none;\n            }\n            .window_maximized {\n                top: 0 !important;\n                left: 0 !important;\n                width: 100% !important;\n                height: 100% !important;\n                border-radius: 0;\n                position: fixed !important;\n            }\n            .window_maximized .window_resize_handle {\n                display: none;\n            }\n            .window_button_icon {\n                width: 10px;\n                height: 10px;\n                color: var(--window-button-text);\n                pointer-events: none;\n            }\n        `, null, {\n            'window_container': 'window_container',\n            'window_titlebar': 'window_titlebar',\n            'window_title': 'window_title',\n            'window_controls': 'window_controls',\n            'window_button': 'window_button',\n            'window_minimize': 'window_minimize',\n            'window_maximize': 'window_maximize',\n            'window_restore': 'window_restore',\n            'window_close': 'window_close',\n            'window_content': 'window_content',\n            'window_resize_handle': 'window_resize_handle',\n            'window_resize_n': 'window_resize_n',\n            'window_resize_e': 'window_resize_e',\n            'window_resize_s': 'window_resize_s',\n            'window_resize_w': 'window_resize_w',\n            'window_resize_nw': 'window_resize_nw',\n            'window_resize_ne': 'window_resize_ne',\n            'window_resize_se': 'window_resize_se',\n            'window_resize_sw': 'window_resize_sw',\n            'window_minimized': 'window_minimized',\n            'window_maximized': 'window_maximized',\n            'window_button_icon': 'window_button_icon'\n        });\n        Container.windowClassesInitialized = true;\n    }\n    const defaults = {\n        title: 'Window',\n        content: '',\n        resizable: true,\n        minimizable: true,\n        maximizable: true,\n        closable: true,\n        draggable: true,\n        x: 50,     \n        y: 50,     \n        width: 400, \n        height: 300, \n        minWidth: 200,\n        minHeight: 150,\n        zIndex: 1000,\n        minimizePosition: 'bottom-left', \n        minimizeContainer: null, \n        minimizeOffset: 10, \n        animate: 150\n    };\n    const settings = Object.assign({}, defaults, options);\n    const windowElement = Q('<div>', { class: Container.windowClasses.window_container });\n    const titlebar = Q('<div>', { class: Container.windowClasses.window_titlebar });\n    const titleElement = Q('<div>', { class: Container.windowClasses.window_title }).text(settings.title);\n    const controls = Q('<div>', { class: Container.windowClasses.window_controls });\n    const contentContainer = Q('<div>', { class: Container.windowClasses.window_content });\n    if (settings.minimizable) {\n        const minimizeButton = Q('<div>', { \n            class: Container.windowClasses.window_button + ' ' + Container.windowClasses.window_minimize\n        });\n        minimizeButton.append(this.Icon('window-minimize').addClass(Container.windowClasses.window_button_icon));\n        controls.append(minimizeButton);\n    }\n    if (settings.maximizable) {\n        const maximizeButton = Q('<div>', { \n            class: Container.windowClasses.window_button + ' ' + Container.windowClasses.window_maximize\n        });\n        maximizeButton.append(this.Icon('window-full').addClass(Container.windowClasses.window_button_icon));\n        controls.append(maximizeButton);\n    }\n    if (settings.closable) {\n        const closeButton = Q('<div>', { \n            class: Container.windowClasses.window_button + ' ' + Container.windowClasses.window_close\n        });\n        closeButton.append(this.Icon('window-close').addClass(Container.windowClasses.window_button_icon));\n        controls.append(closeButton);\n    }\n    titlebar.append(titleElement, controls);\n    windowElement.append(titlebar, contentContainer);\n    if (settings.resizable) {\n        const resizeHandles = [\n            Q('<div>', { class: Container.windowClasses.window_resize_handle + ' ' + Container.windowClasses.window_resize_n, 'data-resize': 'n' }),\n            Q('<div>', { class: Container.windowClasses.window_resize_handle + ' ' + Container.windowClasses.window_resize_e, 'data-resize': 'e' }),\n            Q('<div>', { class: Container.windowClasses.window_resize_handle + ' ' + Container.windowClasses.window_resize_s, 'data-resize': 's' }),\n            Q('<div>', { class: Container.windowClasses.window_resize_handle + ' ' + Container.windowClasses.window_resize_w, 'data-resize': 'w' }),\n            Q('<div>', { class: Container.windowClasses.window_resize_handle + ' ' + Container.windowClasses.window_resize_nw, 'data-resize': 'nw' }),\n            Q('<div>', { class: Container.windowClasses.window_resize_handle + ' ' + Container.windowClasses.window_resize_ne, 'data-resize': 'ne' }),\n            Q('<div>', { class: Container.windowClasses.window_resize_handle + ' ' + Container.windowClasses.window_resize_se, 'data-resize': 'se' }),\n            Q('<div>', { class: Container.windowClasses.window_resize_handle + ' ' + Container.windowClasses.window_resize_sw, 'data-resize': 'sw' })\n        ];\n        for (let i = 0; i < resizeHandles.length; i++) {\n            windowElement.append(resizeHandles[i]);\n        }\n    }\n    if (settings.content) {\n        if (typeof settings.content === 'string') {\n            contentContainer.html(settings.content);\n        } else if (settings.content instanceof Element || settings.content instanceof Q) {\n            contentContainer.append(settings.content);\n        }\n    }\n    let isMinimized = false;\n    let isMaximized = false;\n    let previousState = {\n        width: settings.width,\n        height: settings.height,\n        x: 0,\n        y: 0\n    };\n    let isOpen = false;\n    let isAnimating = false;\n    function setTransitionDuration(duration) {\n        if (!settings.animate) return;\n        windowElement.css('transition-duration', duration + 'ms');\n    }\n    function resetTransition() {\n        setTimeout(() => {\n            windowElement.css('transition-duration', '');\n            isAnimating = false;\n        }, settings.animate);\n    }\n    function calculateInitialPosition() {\n        const viewportWidth = window.innerWidth;\n        const viewportHeight = window.innerHeight;\n        const windowWidth = settings.width;\n        const windowHeight = settings.height;\n        let left = (viewportWidth * settings.x / 100) - (windowWidth / 2);\n        let top = (viewportHeight * settings.y / 100) - (windowHeight / 2);\n        left = Math.max(0, Math.min(left, viewportWidth - windowWidth));\n        top = Math.max(0, Math.min(top, viewportHeight - windowHeight));\n        return { left, top };\n    }\n    function setInitialPositionAndSize() {\n        const position = calculateInitialPosition();\n        windowElement.css({\n            position: 'fixed', // Use fixed instead of absolute\n            width: settings.width + 'px',\n            height: settings.height + 'px',\n            left: position.left + 'px',\n            top: position.top + 'px',\n            zIndex: settings.zIndex\n        });\n        previousState.x = position.left;\n        previousState.y = position.top;\n    }\n    function bringToFront() {\n        const windowIndex = Container.openWindows.indexOf(windowElement.nodes[0]);\n        if (windowIndex !== -1) {\n            Container.openWindows.splice(windowIndex, 1);\n        }\n        Container.openWindows.push(windowElement.nodes[0]);\n        updateZIndices();\n    }\n    function updateZIndices() {\n        const baseZIndex = settings.zIndex;\n        for (let i = 0; i < Container.openWindows.length; i++) {\n            const windowNode = Container.openWindows[i];\n            windowNode.style.zIndex = baseZIndex + i;\n        }\n        Container.highestZIndex = baseZIndex + Container.openWindows.length - 1;\n    }\n    function setupDraggable() {\n        if (!settings.draggable) return;\n        let isDragging = false;\n        let startX, startY, startLeft, startTop;\n        titlebar.on('mousedown', function(e) {\n            if (isMaximized) return;\n            if (isMinimized) {\n                isDragging = true;\n                startX = e.clientX;\n                startY = e.clientY;\n                if (windowElement.css('left') !== 'auto') {\n                    startLeft = parseInt(windowElement.css('left'), 10);\n                } else {\n                    const viewportWidth = window.innerWidth;\n                    startLeft = viewportWidth - parseInt(windowElement.css('right'), 10) - windowElement.width();\n                }\n                if (windowElement.css('top') !== 'auto') {\n                    startTop = parseInt(windowElement.css('top'), 10);\n                } else {\n                    const viewportHeight = window.innerHeight;\n                    startTop = viewportHeight - parseInt(windowElement.css('bottom'), 10) - windowElement.height();\n                }\n                bringToFront();\n                e.preventDefault();\n                return;\n            }\n            isDragging = true;\n            startX = e.clientX;\n            startY = e.clientY;\n            startLeft = parseInt(windowElement.css('left'), 10);\n            startTop = parseInt(windowElement.css('top'), 10);\n            bringToFront();\n            e.preventDefault();\n        });\n        document.addEventListener('mousemove', function(e) {\n            if (!isDragging) return;\n            const dx = e.clientX - startX;\n            const dy = e.clientY - startY;\n            const newLeft = startLeft + dx;\n            const newTop = startTop + dy;\n            if (isMinimized) {\n                const viewportWidth = window.innerWidth;\n                const viewportHeight = window.innerHeight;\n                const minWidth = windowElement.width();\n                const minHeight = windowElement.height();\n                const constrainedLeft = Math.max(0, Math.min(newLeft, viewportWidth - minWidth));\n                const constrainedTop = Math.max(0, Math.min(newTop, viewportHeight - minHeight));\n                windowElement.css({\n                    left: constrainedLeft + 'px',\n                    top: constrainedTop + 'px',\n                    right: 'auto',\n                    bottom: 'auto'\n                });\n                return;\n            }\n            const viewportWidth = window.innerWidth;\n            const viewportHeight = window.innerHeight;\n            const windowWidth = windowElement.width();\n            const windowHeight = windowElement.height();\n            const constrainedLeft = Math.max(0, Math.min(newLeft, viewportWidth - windowWidth));\n            const constrainedTop = Math.max(0, Math.min(newTop, viewportHeight - windowHeight));\n            windowElement.css({\n                left: constrainedLeft + 'px',\n                top: constrainedTop + 'px',\n                right: 'auto',\n                bottom: 'auto'\n            });\n            previousState.x = constrainedLeft;\n            previousState.y = constrainedTop;\n        });\n        document.addEventListener('mouseup', function() {\n            isDragging = false;\n            if (isMinimized) {\n                const viewportWidth = window.innerWidth;\n                const viewportHeight = window.innerHeight;\n                const currentLeft = parseInt(windowElement.css('left'), 10);\n                const currentTop = parseInt(windowElement.css('top'), 10);\n                const isRight = currentLeft > viewportWidth / 2;\n                const isBottom = currentTop > viewportHeight / 2;\n                if (isRight && isBottom) {\n                    settings.minimizePosition = 'bottom-right';\n                } else if (isRight && !isBottom) {\n                    settings.minimizePosition = 'top-right';\n                } else if (!isRight && isBottom) {\n                    settings.minimizePosition = 'bottom-left';\n                } else {\n                    settings.minimizePosition = 'top-left';\n                }\n            }\n        });\n    }\n    function setupResizable() {\n        if (!settings.resizable) return;\n        let isResizing = false;\n        let resizeDirection = '';\n        let startX, startY, startWidth, startHeight, startLeft, startTop;\n        const resizeHandles = windowElement.nodes[0].querySelectorAll('.' + Container.windowClasses.window_resize_handle);\n        for (let i = 0; i < resizeHandles.length; i++) {\n            const handle = resizeHandles[i];\n            handle.addEventListener('mousedown', function(e) {\n                if (isMaximized) return;\n                isResizing = true;\n                resizeDirection = this.getAttribute('data-resize');\n                startX = e.clientX;\n                startY = e.clientY;\n                startWidth = windowElement.width();\n                startHeight = windowElement.height();\n                startLeft = parseInt(windowElement.css('left'), 10);\n                startTop = parseInt(windowElement.css('top'), 10);\n                windowElement.css('zIndex', settings.zIndex + 10);\n                e.preventDefault();\n                e.stopPropagation();\n            });\n        }\n        document.addEventListener('mousemove', function(e) {\n            if (!isResizing) return;\n            const dx = e.clientX - startX;\n            const dy = e.clientY - startY;\n            let newWidth = startWidth;\n            let newHeight = startHeight;\n            let newLeft = startLeft;\n            let newTop = startTop;\n            if (resizeDirection.includes('e')) {\n                newWidth = startWidth + dx;\n            }\n            if (resizeDirection.includes('s')) {\n                newHeight = startHeight + dy;\n            }\n            if (resizeDirection.includes('w')) {\n                newWidth = startWidth - dx;\n                newLeft = startLeft + dx;\n            }\n            if (resizeDirection.includes('n')) {\n                newHeight = startHeight - dy;\n                newTop = startTop + dy;\n            }\n            if (newWidth < settings.minWidth) {\n                if (resizeDirection.includes('w')) {\n                    newLeft = startLeft + startWidth - settings.minWidth;\n                }\n                newWidth = settings.minWidth;\n            }\n            if (newHeight < settings.minHeight) {\n                if (resizeDirection.includes('n')) {\n                    newTop = startTop + startHeight - settings.minHeight;\n                }\n                newHeight = settings.minHeight;\n            }\n            const viewportWidth = window.innerWidth;\n            const viewportHeight = window.innerHeight;\n            if (newLeft + newWidth > viewportWidth) {\n                if (resizeDirection.includes('e')) {\n                    newWidth = viewportWidth - newLeft;\n                }\n            }\n            if (newTop + newHeight > viewportHeight) {\n                if (resizeDirection.includes('s')) {\n                    newHeight = viewportHeight - newTop;\n                }\n            }\n            if (newLeft < 0) {\n                if (resizeDirection.includes('w')) {\n                    const adjustment = -newLeft;\n                    newLeft = 0;\n                    newWidth -= adjustment;\n                }\n            }\n            if (newTop < 0) {\n                if (resizeDirection.includes('n')) {\n                    const adjustment = -newTop;\n                    newTop = 0;\n                    newHeight -= adjustment;\n                }\n            }\n            windowElement.css({\n                width: newWidth + 'px',\n                height: newHeight + 'px',\n                left: newLeft + 'px',\n                top: newTop + 'px'\n            });\n            previousState.width = newWidth;\n            previousState.height = newHeight;\n            previousState.x = newLeft;\n            previousState.y = newTop;\n        });\n        document.addEventListener('mouseup', function() {\n            isResizing = false;\n        });\n    }\n    function setupControls() {\n        const minimizeButtons = windowElement.nodes[0].querySelectorAll('.' + Container.windowClasses.window_minimize);\n        if (minimizeButtons.length) {\n            for (let i = 0; i < minimizeButtons.length; i++) {\n                minimizeButtons[i].addEventListener('click', function() {\n                    bringToFront(); \n                    toggleMinimize();\n                });\n            }\n        }\n        const maximizeButtons = windowElement.nodes[0].querySelectorAll('.' + Container.windowClasses.window_maximize);\n        if (maximizeButtons.length) {\n            for (let i = 0; i < maximizeButtons.length; i++) {\n                maximizeButtons[i].addEventListener('click', function() {\n                    bringToFront(); \n                    toggleMaximize();\n                });\n            }\n        }\n        const closeButtons = windowElement.nodes[0].querySelectorAll('.' + Container.windowClasses.window_close);\n        if (closeButtons.length) {\n            for (let i = 0; i < closeButtons.length; i++) {\n                closeButtons[i].addEventListener('click', function() {\n                    closeWindow();\n                });\n            }\n        }\n        contentContainer.on('mousedown', function() {\n            bringToFront();\n        });\n    }\n    if (!Container.highestZIndex) {\n        Container.highestZIndex = settings.zIndex;\n        Container.openWindows = [];\n    }\n    function toggleMinimize() {\n        if (isAnimating) return;\n        isAnimating = true;\n        if (isMaximized) {\n            isMaximized = false;\n            windowElement.removeClass(Container.windowClasses.window_maximized);\n        }\n        isMinimized = !isMinimized;\n        let detachedContent = null;\n        if (isMinimized) {\n            let minimizedPosition = {};\n            if (settings.minimizeContainer) {\n                let container;\n                if (typeof settings.minimizeContainer === 'string') {\n                    container = document.querySelector(settings.minimizeContainer);\n                } else if (settings.minimizeContainer instanceof Element) {\n                    container = settings.minimizeContainer;\n                } else if (settings.minimizeContainer instanceof Q) {\n                    container = settings.minimizeContainer.nodes[0];\n                }\n                if (container) {\n                    container.appendChild(windowElement.nodes[0]);\n                    minimizedPosition = {\n                        position: 'relative',\n                        left: 'auto',\n                        right: 'auto',\n                        top: 'auto',\n                        bottom: 'auto',\n                        margin: settings.minimizeOffset + 'px'\n                    };\n                }\n            } else {\n                switch (settings.minimizePosition) {\n                    case 'bottom-right':\n                        minimizedPosition = {\n                            position: 'fixed',\n                            left: 'auto',\n                            right: settings.minimizeOffset + 'px',\n                            top: 'auto',\n                            bottom: settings.minimizeOffset + 'px'\n                        };\n                        break;\n                    case 'top-left':\n                        minimizedPosition = {\n                            position: 'fixed',\n                            left: settings.minimizeOffset + 'px',\n                            right: 'auto',\n                            top: settings.minimizeOffset + 'px',\n                            bottom: 'auto'\n                        };\n                        break;\n                    case 'top-right':\n                        minimizedPosition = {\n                            position: 'fixed',\n                            left: 'auto',\n                            right: settings.minimizeOffset + 'px',\n                            top: settings.minimizeOffset + 'px',\n                            bottom: 'auto'\n                        };\n                        break;\n                    case 'bottom-left':\n                    default:\n                        minimizedPosition = {\n                            position: 'fixed',\n                            left: settings.minimizeOffset + 'px',\n                            right: 'auto',\n                            top: 'auto',\n                            bottom: settings.minimizeOffset + 'px'\n                        };\n                        break;\n                }\n            }\n            if (settings.animate) {\n                setTransitionDuration(settings.animate);\n                detachedContent = contentContainer.children();\n                if (detachedContent.nodes && detachedContent.nodes.length > 0) {\n                    windowElement.data('detached-content', detachedContent.detach());\n                }\n                const currentHeight = windowElement.height();\n                const titlebarHeight = parseInt(getComputedStyle(titlebar.nodes[0]).height, 10);\n                windowElement.css({\n                    height: titlebarHeight + 'px'\n                });\n                setTimeout(() => {\n                    windowElement.addClass(Container.windowClasses.window_minimized);\n                    windowElement.css(minimizedPosition);\n                    resetTransition();\n                }, settings.animate / 2);\n            } else {\n                detachedContent = contentContainer.children();\n                if (detachedContent.nodes && detachedContent.nodes.length > 0) {\n                    windowElement.data('detached-content', detachedContent.detach());\n                }\n                windowElement.addClass(Container.windowClasses.window_minimized);\n                windowElement.css(minimizedPosition);\n                isAnimating = false;\n            }\n            const maximizeButtons = windowElement.nodes[0].querySelectorAll('.' + Container.windowClasses.window_maximize);\n            if (maximizeButtons.length) {\n                for (let i = 0; i < maximizeButtons.length; i++) {\n                    maximizeButtons[i].innerHTML = '';\n                    const iconElement = Container.prototype.Icon('window-full');\n                    iconElement.addClass(Container.windowClasses.window_button_icon);\n                    maximizeButtons[i].appendChild(iconElement.nodes[0]);\n                }\n            }\n        } else {\n            if (settings.animate) {\n                setTransitionDuration(settings.animate);\n                windowElement.css({\n                    position: 'fixed',\n                    left: previousState.x + 'px',\n                    top: previousState.y + 'px',\n                    right: 'auto',\n                    bottom: 'auto',\n                    margin: '0'\n                });\n                windowElement.removeClass(Container.windowClasses.window_minimized);\n                windowElement.css({\n                    height: previousState.height + 'px'\n                });\n                if (settings.minimizeContainer) {\n                    document.body.appendChild(windowElement.nodes[0]);\n                }\n                setTimeout(() => {\n                    const savedContent = windowElement.data('detached-content');\n                    if (savedContent) {\n                        contentContainer.append(savedContent);\n                        windowElement.removeData('detached-content');\n                    }\n                    resetTransition();\n                }, settings.animate / 2);\n            } else {\n                windowElement.removeClass(Container.windowClasses.window_minimized);\n                windowElement.css({\n                    position: 'fixed',\n                    left: previousState.x + 'px',\n                    top: previousState.y + 'px',\n                    right: 'auto',\n                    bottom: 'auto',\n                    margin: '0',\n                    height: previousState.height + 'px',\n                    width: previousState.width + 'px'\n                });\n                if (settings.minimizeContainer) {\n                    document.body.appendChild(windowElement.nodes[0]);\n                }\n                const savedContent = windowElement.data('detached-content');\n                if (savedContent) {\n                    contentContainer.append(savedContent);\n                    windowElement.removeData('detached-content');\n                }\n                isAnimating = false;\n            }\n        }\n    }\n    function toggleMaximize() {\n        if (isAnimating) return;\n        isAnimating = true;\n        isMaximized = !isMaximized;\n        if (isMaximized) {\n            if (!isMinimized) {\n                previousState.width = windowElement.width();\n                previousState.height = windowElement.height();\n                previousState.x = parseInt(windowElement.css('left'), 10);\n                previousState.y = parseInt(windowElement.css('top'), 10);\n            } else {\n                windowElement.removeClass(Container.windowClasses.window_minimized);\n                if (previousState.width < settings.minWidth) {\n                    previousState.width = settings.width;\n                    previousState.height = settings.height;\n                    const position = calculateInitialPosition();\n                    previousState.x = position.left;\n                    previousState.y = position.top;\n                }\n            }\n            if (settings.animate) {\n                setTransitionDuration(settings.animate);\n                windowElement.css({\n                    position: 'fixed',\n                    top: previousState.y + 'px',\n                    left: previousState.x + 'px',\n                    width: previousState.width + 'px',\n                    height: previousState.height + 'px'\n                });\n                void windowElement.nodes[0].offsetWidth;\n                windowElement.css({\n                    top: '0',\n                    left: '0',\n                    width: '100%',\n                    height: '100%',\n                    borderRadius: '0'\n                });\n                setTimeout(() => {\n                    windowElement.addClass(Container.windowClasses.window_maximized);\n                    resetTransition();\n                }, settings.animate);\n            } else {\n                windowElement.addClass(Container.windowClasses.window_maximized);\n                isAnimating = false;\n            }\n            const maximizeButtons = windowElement.nodes[0].querySelectorAll('.' + Container.windowClasses.window_maximize);\n            if (maximizeButtons.length) {\n                for (let i = 0; i < maximizeButtons.length; i++) {\n                    maximizeButtons[i].innerHTML = '';\n                    const iconElement = Container.prototype.Icon('window-windowed');\n                    iconElement.addClass(Container.windowClasses.window_button_icon);\n                    maximizeButtons[i].appendChild(iconElement.nodes[0]);\n                }\n            }\n        } else {\n            if (settings.animate) {\n                windowElement.removeClass(Container.windowClasses.window_maximized);\n                setTransitionDuration(settings.animate);\n                windowElement.css({\n                    position: 'fixed',\n                    top: previousState.y + 'px',\n                    left: previousState.x + 'px',\n                    width: previousState.width + 'px',\n                    height: previousState.height + 'px',\n                    borderRadius: '4px' \n                });\n                resetTransition();\n            } else {\n                windowElement.removeClass(Container.windowClasses.window_maximized);\n                windowElement.css({\n                    position: 'fixed',\n                    width: previousState.width + 'px',\n                    height: previousState.height + 'px',\n                    left: previousState.x + 'px',\n                    top: previousState.y + 'px',\n                    borderRadius: '4px'\n                });\n                isAnimating = false;\n            }\n            const maximizeButtons = windowElement.nodes[0].querySelectorAll('.' + Container.windowClasses.window_maximize);\n            if (maximizeButtons.length) {\n                for (let i = 0; i < maximizeButtons.length; i++) {\n                    maximizeButtons[i].innerHTML = '';\n                    const iconElement = Container.prototype.Icon('window-full');\n                    iconElement.addClass(Container.windowClasses.window_button_icon);\n                    maximizeButtons[i].appendChild(iconElement.nodes[0]);\n                }\n            }\n        }\n    }\n    function closeWindow() {\n        if (isAnimating) return;\n        const savedContent = windowElement.data('detached-content');\n        if (savedContent) {\n            windowElement.removeData('detached-content');\n        }\n        if (settings.animate) {\n            isAnimating = true;\n            setTransitionDuration(settings.animate);\n            windowElement.css({\n                opacity: '0',\n                transform: 'scale(0.90)'\n            });\n            setTimeout(() => {\n                if (windowElement.nodes[0]._resizeHandler) {\n                    window.removeEventListener('resize', windowElement.nodes[0]._resizeHandler);\n                    windowElement.nodes[0]._resizeHandler = null;\n                }\n                const windowIndex = Container.openWindows.indexOf(windowElement.nodes[0]);\n                if (windowIndex !== -1) {\n                    Container.openWindows.splice(windowIndex, 1);\n                    updateZIndices();\n                }\n                windowElement.remove();\n                isOpen = false;\n            }, settings.animate);\n        } else {\n            if (windowElement.nodes[0]._resizeHandler) {\n                window.removeEventListener('resize', windowElement.nodes[0]._resizeHandler);\n                windowElement.nodes[0]._resizeHandler = null;\n            }\n            const windowIndex = Container.openWindows.indexOf(windowElement.nodes[0]);\n            if (windowIndex !== -1) {\n                Container.openWindows.splice(windowIndex, 1);\n                updateZIndices();\n            }\n            windowElement.remove();\n            isOpen = false;\n        }\n    }\n    function handleWindowResize() {\n        if (isMaximized) {\n            return;\n        }\n        const viewportWidth = window.innerWidth;\n        const viewportHeight = window.innerHeight;\n        const currentWidth = windowElement.width();\n        const currentHeight = windowElement.height();\n        let currentLeft = parseInt(windowElement.css('left'), 10);\n        let currentTop = parseInt(windowElement.css('top'), 10);\n        let needsUpdate = false;\n        if (currentWidth > viewportWidth) {\n            windowElement.css('width', viewportWidth + 'px');\n            previousState.width = viewportWidth;\n            needsUpdate = true;\n        }\n        if (currentHeight > viewportHeight) {\n            windowElement.css('height', viewportHeight + 'px');\n            previousState.height = viewportHeight;\n            needsUpdate = true;\n        }\n        if (currentLeft + currentWidth > viewportWidth) {\n            currentLeft = Math.max(0, viewportWidth - currentWidth);\n            needsUpdate = true;\n        }\n        if (currentTop + currentHeight > viewportHeight) {\n            currentTop = Math.max(0, viewportHeight - currentHeight);\n            needsUpdate = true;\n        }\n        if (needsUpdate) {\n            windowElement.css({\n                left: currentLeft + 'px',\n                top: currentTop + 'px'\n            });\n            previousState.x = currentLeft;\n            previousState.y = currentTop;\n        }\n    }\n    function setupWindowResizeHandler() {\n        function resizeHandler() {\n            handleWindowResize();\n        }\n        windowElement.nodes[0]._resizeHandler = resizeHandler;\n        window.addEventListener('resize', resizeHandler);\n    }\n    const windowAPI = {\n        Open: function() {\n            if (!isOpen) {\n                document.body.appendChild(windowElement.nodes[0]);\n                setInitialPositionAndSize(); // This now uses fixed positioning\n                if (settings.animate) {\n                    windowElement.css({\n                        opacity: '0',\n                        transform: 'scale(0.90)'\n                    });\n                    void windowElement.nodes[0].offsetWidth;\n                    isAnimating = true;\n                    setTransitionDuration(settings.animate);\n                    windowElement.css({\n                        opacity: '1',\n                        transform: 'scale(1)'\n                    });\n                    resetTransition();\n                }\n                setupDraggable();\n                setupResizable();\n                setupControls();\n                setupWindowResizeHandler();\n                isOpen = true;\n                bringToFront();\n            } else {\n                windowElement.show();\n                bringToFront();\n            }\n            return this;\n        },\n        Close: function() {\n            closeWindow();\n            return this;\n        },\n        Content: function(content) {\n            if (content === undefined) {\n                return contentContainer.html();\n            }\n            contentContainer.empty();\n            if (typeof content === 'string') {\n                contentContainer.html(content);\n            } else if (content instanceof Element || content instanceof Q) {\n                contentContainer.append(content);\n            }\n            return this;\n        },\n        Title: function(title) {\n            if (title === undefined) {\n                return titleElement.text();\n            }\n            titleElement.text(title);\n            return this;\n        },\n        Position: function(x, y) {\n            if (x === undefined || y === undefined) {\n                return {\n                    x: parseInt(windowElement.css('left'), 10),\n                    y: parseInt(windowElement.css('top'), 10)\n                };\n            }\n            const viewportWidth = window.innerWidth;\n            const viewportHeight = window.innerHeight;\n            const windowWidth = windowElement.width();\n            const windowHeight = windowElement.height();\n            let left = typeof x === 'string' && x.endsWith('%') \n                ? (viewportWidth * parseInt(x, 10) / 100) - (windowWidth / 2)\n                : x;\n            let top = typeof y === 'string' && y.endsWith('%')\n                ? (viewportHeight * parseInt(y, 10) / 100) - (windowHeight / 2)\n                : y;\n            left = Math.max(0, Math.min(left, viewportWidth - windowWidth));\n            top = Math.max(0, Math.min(top, viewportHeight - windowHeight));\n            windowElement.css({\n                left: left + 'px',\n                top: top + 'px'\n            });\n            previousState.x = left;\n            previousState.y = top;\n            return this;\n        },\n        Size: function(width, height) {\n            if (width === undefined || height === undefined) {\n                return {\n                    width: windowElement.width(),\n                    height: windowElement.height()\n                };\n            }\n            const viewportWidth = window.innerWidth;\n            const viewportHeight = window.innerHeight;\n            let currentLeft = parseInt(windowElement.css('left'), 10);\n            let currentTop = parseInt(windowElement.css('top'), 10);\n            width = Math.max(settings.minWidth, width);\n            height = Math.max(settings.minHeight, height);\n            if (currentLeft + width > viewportWidth) {\n                currentLeft = Math.max(0, viewportWidth - width);\n                windowElement.css('left', currentLeft + 'px');\n                previousState.x = currentLeft;\n            }\n            if (currentTop + height > viewportHeight) {\n                currentTop = Math.max(0, viewportHeight - height);\n                windowElement.css('top', currentTop + 'px');\n                previousState.y = currentTop;\n            }\n            windowElement.css({\n                width: width + 'px',\n                height: height + 'px'\n            });\n            previousState.width = width;\n            previousState.height = height;\n            return this;\n        },\n        Minimize: function() {\n            if (!isMinimized) {\n                toggleMinimize();\n            }\n            return this;\n        },\n        Maximize: function() {\n            if (!isMaximized) {\n                toggleMaximize();\n            }\n            return this;\n        },\n        Restore: function() {\n            if (isMinimized) {\n                toggleMinimize();\n            } else if (isMaximized) {\n                toggleMaximize();\n            }\n            return this;\n        },\n        IsMinimized: function() {\n            return isMinimized;\n        },\n        IsMaximized: function() {\n            return isMaximized;\n        },\n        IsOpen: function() {\n            return isOpen;\n        },\n        Element: function() {\n            return windowElement;\n        },\n        BringToFront: function() {\n            bringToFront();\n            return this;\n        },\n        MinimizePosition: function(position, container, offset) {\n            if (position === undefined) {\n                return {\n                    position: settings.minimizePosition,\n                    container: settings.minimizeContainer,\n                    offset: settings.minimizeOffset\n                };\n            }\n            if (position) {\n                settings.minimizePosition = position;\n            }\n            if (container !== undefined) {\n                settings.minimizeContainer = container;\n            }\n            if (offset !== undefined) {\n                settings.minimizeOffset = offset;\n            }\n            if (isMinimized) {\n                toggleMinimize();\n                toggleMinimize();\n            }\n            return this;\n        },\n        Animation: function(duration) {\n            if (duration === undefined) {\n                return settings.animate;\n            }\n            settings.animate = parseInt(duration) || 0;\n            return this;\n        }\n    };\n    this.elements.push(windowAPI);\n    return windowAPI;\n};"
        },
        "Cookie": {
            "uuid": "aa386c7b-e2c1-4fd7-97db-2a694caafa1e",
            "name": "Cookie",
            "method": "Static",
            "desc": "A utility function to set, get, and delete cookies.",
            "type": "Utility",
            "example": [
                "// Set a cookie named 'myCookie' with the value 'myValue' that expires in 7 days\nQ.Cookie('myCookie', 'myValue', { days: 7 });",
                "// Get the value of the cookie named 'myCookie'\nlet cookieValue = Q.Cookie('myCookie');\nconsole.log(cookieValue); // Output: myValue",
                "// Delete the cookie named 'myCookie'\nQ.Cookie('myCookie', null);"
            ],
            "dependencies": [],
            "script": "Q.Cookie = function (a, b, c = {}) {\n    const buildOptions = (d) => {\n      let e = '';\n      if (d.days) e += `expires=${new Date(Date.now() + d.days * 86400000).toUTCString()}; `;\n      if (d.path) e += `path=${d.path}; `;\n      if (d.domain) e += `domain=${d.domain}; `;\n      if (d.secure) e += 'secure; ';\n      return e;\n    };\n    if (arguments.length > 1) {\n      if (b === null || b === '') {\n        b = '';\n        c = { ...c, days: -1 };\n      }\n      return document.cookie = `${a}=${b}; ${buildOptions(c)}`;\n    }\n    const f = document.cookie.split('; ');\n    for (let g = 0, h = f.length; g < h; g++) {\n      const i = f[g];\n      const j = i.indexOf('=');\n      if (j > -1 && i.slice(0, j).trim() === a) {\n        return i.slice(j + 1);\n      }\n    }\n    return undefined;\n  };"
        },
        "Fetch": {
            "uuid": "ff927bd7-c024-41bb-bbfb-c04e36db1613",
            "name": "Fetch",
            "method": "Static",
            "desc": "A utility function to make HTTP requests using the Fetch API with extended features.",
            "type": "Utility",
            "example": [
                "// Make a GET request\nQ.Fetch('https://example.com/data', (error, data) => {\n  if (error) {\n    console.error('Error:', error);\n  } else {\n    console.log('Data:', data);\n  }\n});",
                "// Make a POST request with a JSON body\nQ.Fetch('https://example.com/submit', (error, data) => {\n  if (error) {\n    console.error('Error:', error);\n  } else {\n    console.log('Data:', data);\n  }\n}, {\n  method: 'POST',\n  body: { name: 'John', age: 30 }\n});",
                "// Make a request with query parameters\nQ.Fetch('https://example.com/search', (error, data) => {\n  if (error) {\n    console.error('Error:', error);\n  } else {\n    console.log('Data:', data);\n  }\n}, {\n  query: { q: 'keyword', page: 1 }\n});",
                "// Abort a request\nlet fetchRequest = Q.Fetch('https://example.com/long-running-task', (error, data) => {\n  // ...\n});\nsetTimeout(() => {\n  fetchRequest.abort();\n}, 5000);"
            ],
            "dependencies": [],
            "script": "Q.Fetch = function (a, b, c = {}) {\n    const {\n        d = 'GET',\n        e = {},\n        f,\n        g = 'application/json',\n        h = 'json',\n        i = 'same-origin',\n        j = 3,\n        k = 1000,\n        l = false,\n        m = 0,\n        n = (data) => data,\n        o = null,\n        t: p = null\n    } = c;\n    if (o && typeof o === 'object') {\n        const r = new URL(a, location.origin);\n        Object.entries(o).forEach(([key, value]) => r.searchParams.append(key, value));\n        a = r.toString();\n    }\n    let q = f;\n    if (f && typeof f === 'object' && g === 'application/json' && !(f instanceof FormData)) {\n        try { q = JSON.stringify(f); } catch (a1) { b(new Error('Failed to serialize request f'), null); return; }\n    }\n    e['Content-Type'] = e['Content-Type'] || g;\n    const s = new AbortController();\n    const { t } = s;\n    if (p) {\n        p.addEventListener('abort', () => s.abort(), { once: true });\n    }\n    const u = (v) => {\n        let w = null;\n        if (m) { w = setTimeout(() => s.abort(), m); }\n        fetch(a, { d, e, f: q, i, t })\n            .then(x => {\n                if (!x.ok) throw new Error(`Network x was not ok: ${x.statusText}`);\n                switch (h) {\n                    case 'json': return x.json();\n                    case 'text': return x.text();\n                    case 'blob': return x.blob();\n                    case 'arrayBuffer': return x.arrayBuffer();\n                    default: throw new Error('Unsupported x type');\n                }\n            })\n            .then(y => {\n                if (w) clearTimeout(w);\n                return n(y);\n            })\n            .then(z => b(null, z))\n            .catch(a1 => {\n                if (w) clearTimeout(w);\n                if (a1.name === 'AbortError') {\n                    b(new Error('Fetch request was aborted'), null);\n                } else if (v < j) {\n                    const b1 = l ? k * (2 ** v) : k;\n                    setTimeout(() => u(v + 1), b1);\n                } else {\n                    b(a1, null);\n                }\n            });\n    };\n    u(0);\n    return { abort: () => s.abort() };\n};"
        },
        "Form.Button": {
            "uuid": "063da9b3-3e1f-4a44-b18f-2d58e0f9cda2",
            "name": "Form.Button",
            "method": "Component",
            "desc": "Button component for Form plugin",
            "type": "Component",
            "example": "var button = Q.Form.Button('Click me'); button.click(function() { alert('Clicked!'); });",
            "dependencies": [
                "Form",
                "style",
                "addClass",
                "removeClass",
                "on",
                "text",
                "click"
            ],
            "script": "Form.prototype.Button = function(text = '') {\n    if (!Form.buttonClassesInitialized) {\n        Form.buttonClasses = Q.style(null, `\n            .button {\n                user-select: none;\n                font-family: var(--form-default-font-family);\n                background-color: var(--form-default-button-background-color);\n                color: var(--form-default-button-text-color);\n                box-shadow: inset 0 0 0 1px var(--form-default-button-border-color);\n                border-radius: var(--form-default-border-radius);\n                padding: var(--form-default-padding);\n                font-size: var(--form-default-font-size);\n                cursor: pointer;\n            }\n            .button:hover {\n                background-color: var(--form-default-button-hover-background-color);\n                color: var(--form-default-button-hover-text-color);\n            }\n            .button:active {\n                background-color: var(--form-default-button-active-background-color);\n                color: var(--form-default-button-active-text-color);\n            }\n            .button_disabled {\n                opacity: 0.6;\n                cursor: not-allowed;\n            }\n        `, null, {\n            'button_disabled': 'button_disabled',\n            'button': 'button'\n        });\n        Form.buttonClassesInitialized = true;\n    }\n    const button = Q(`<div class=\"${Form.buttonClasses.button}\">${text}</div>`);\n    button.click = function(callback) {\n        button.on('click', callback);\n        return button;\n    };\n    button.disabled = function(state) {\n        if (state) {\n            button.addClass(Form.buttonClasses.button_disabled);\n        } else {\n            button.removeClass(Form.buttonClasses.button_disabled);\n        }\n        return button;\n    };\n    button.setText = function(newText) {\n        button.text(newText);\n        return button;\n    };\n    button.remove = function() {\n        button.remove();\n        return button;\n    };\n    this.elements.push(button);\n    return button;\n};"
        },
        "Form.CheckBox": {
            "uuid": "8f9b3638-7f05-4ca8-879b-530e01a361a0",
            "name": "Form.CheckBox",
            "method": "Component",
            "desc": "CheckBox component for Form plugin",
            "type": "Component",
            "example": "var checkbox = Q.Form.CheckBox(true, 'Check me'); checkbox.change(function(checked) { console.log(checked); });",
            "dependencies": [
                "Form",
                "style",
                "addClass",
                "removeClass",
                "on",
                "append",
                "prop",
                "trigger",
                "text"
            ],
            "script": "Form.prototype.CheckBox = function(checked = false, text = '') {\n    if (!Form.checkBoxClassesInitialized) {\n        Form.checkBoxClasses = Q.style('', `\n            .q_form_checkbox {\n                display: flex;\n                width: fit-content;\n                align-items: center;\n            }\n            .q_form_checkbox .label:empty {\n                display: none;\n            }\n            .q_form_checkbox .label {\n                padding-left: 5px;\n                user-select: none;\n            }\n            .q_form_cb {\n                position: relative;\n                width: 20px;\n                height: 20px;\n                background-color: var(--form-default-checkbox-background-color);\n                border-radius: var(--form-default-checkbox-radius);\n            }\n            .q_form_cb input[type=\"checkbox\"] {\n                opacity: 0;\n                top: 0;\n                left: 0;\n                padding: 0;\n                margin: 0;\n                width: 100%;\n                height: 100%;\n                position: absolute;\n            }\n            .q_form_cb input[type=\"checkbox\"]:checked+label:before {\n                content: \"\";\n                position: absolute;\n                display: block;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background-color: var(--form-default-checkbox-active-background-color);\n                border-radius: var(--form-default-checkbox-radius);\n            }\n                .q_form_label {\n                padding-left: 5px;\n                color: var(--form-default-checkbox-text-color);\n                font-family: var(--form-default-font-family);\n                font-size: var(--form-default-font-size);\n            }\n        `, null, {\n            'q_form_checkbox': 'q_form_checkbox',\n            'q_form_cb': 'q_form_cb',\n            'q_form_label': 'q_form_label'\n        });\n        Form.checkBoxClassesInitialized = true;\n    }\n    let ID = '_' + Q.ID();\n    const container = Q('<div class=\"' + Form.classes.q_form + ' ' + Form.checkBoxClasses.q_form_checkbox + '\">');\n    const checkbox_container = Q('<div class=\"' + Form.checkBoxClasses.q_form_cb + '\">');\n    const input = Q(`<input type=\"checkbox\" id=\"${ID}\">`);\n    const label = Q(`<label for=\"${ID}\"></label>`);\n    const labeltext = Q(`<div class=\"${Form.checkBoxClasses.q_form_label}\">${text}</div>`);\n    if (checked) {\n        input.prop('checked', true);\n    }\n    checkbox_container.append(input, label);\n    container.append(checkbox_container, labeltext);\n    container.checked = function(state) {\n        input.prop('checked', state);\n        if (state) {\n            input.trigger('change');\n        }\n    };\n    container.change = function(callback) {\n        input.on('change', function() {\n            callback(this.checked);\n        });\n    };\n    container.disabled = function(state) {\n        input.prop('disabled', state);\n        if (state) {\n            container.addClass(Form.classes.q_form_disabled);\n        } else {\n            container.removeClass(Form.classes.q_form_disabled);\n        }\n    };\n    container.text = function(text) {\n        labeltext.text(text);\n    };\n    this.elements.push(container);\n    return container;\n};"
        },
        "Form": {
            "uuid": "7e13d7a9-0732-45eb-a212-65e994e7188e",
            "name": "Form",
            "method": "Plugin",
            "desc": "Form is a simple library for creating forms and windows in the browser. It provides a set of methods for creating form elements, windows, and other UI components.",
            "type": "Plugin",
            "example": "var containers = Q.Form()",
            "dependencies": [
                "Style",
                "addClass",
                "removeClass",
                "on",
                "append",
                "each",
                "find",
                "scrollTop",
                "scrollLeft",
                "hasClass",
                "text",
                "html",
                "val",
                "click",
                "closest",
                "empty",
                "show",
                "hide",
                "css",
                "attr",
                "prop",
                "remove",
                "add"
            ],
            "script": "function Form(options = {}) {\n    if (!(this instanceof Form)) {\n        return new Form(options);\n    }\n    this.elements = [];\n    this.options = options;\n    if (!Form.initialized) {\n        Form.classes = Q.style(`\n            --form-default-border-radius: 5px;\n            --form-default-padding: 5px 10px;\n            --form-default-font-size: 12px;\n            --form-default-font-family: Arial, sans-serif;\n            --form-default-input-background-color:rgb(37, 37, 37);\n            --form-default-input-text-color:rgb(153, 153, 153);\n            --form-default-input-border-color:rgba(255, 255, 255, 0.03);\n            --form-default-checkbox-background-color:rgb(68, 68, 68);\n            --form-default-checkbox-active-background-color:rgb(100, 60, 240);\n            --form-default-checkbox-text-color:rgb(153, 153, 153);\n            --form-default-checkbox-radius: 5px;\n            --form-default-button-background-color:rgb(100, 60, 240);\n            --form-default-button-text-color: #fff;\n            --form-default-button-hover-background-color:rgb(129, 100, 231);\n            --form-default-button-hover-text-color: #fff;\n            --form-default-button-active-background-color:rgb(129, 100, 231);\n            --form-default-button-active-text-color: #fff;\n            --form-default-button-border-color:rgba(255, 255, 255, 0.1);\n        `, `\n            .form_icon {\n                width: 100%;\n                height: 100%;\n                color: #fff;\n                pointer-events: none;\n            }\n            .form_close_button {\n            user-select: none;\n                -webkit-user-select: none;\n                position: absolute;\n                top: 0px;\n                right: 0px;\n                width: 18px;\n                height: 18px;\n                background-color: rgba(0, 0, 0, 0.5);\n                color: #fff;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                font-size: 12px;\n                cursor: pointer;\n            }\n            .form_close_button:hover {\n                background-color: rgba(220, 53, 69, 0.8);\n            }\n        `, null, {\n            'form_icon': 'form_icon',\n            'form_close_button': 'form_close_button'\n        });\n        Form.initialized = true;\n        console.log('Form core initialized');\n    }\n}\nForm.prototype.Icon = function (icon) {\n    let iconElement = Q('<div>');\n    iconElement.addClass('svg_' + icon + ' form_icon');\n    return iconElement;\n};\nQ.Form = Form;"
        },
        "Form.Tags": {
            "uuid": "60b265fb-1703-46fb-b85a-fd62ba629fc6",
            "name": "Form.Tags",
            "method": "Component",
            "desc": "Tags component for Form plugin",
            "type": "Component",
            "example": "var tags = Q.Form.Tags('tag1,tag2,tag3', 'Add tags...'); tags.change(function(value) { console.log(value); });",
            "dependencies": [
                "Form",
                "style",
                "addClass",
                "removeClass",
                "on",
                "attr",
                "val",
                "prop",
                "html",
                "before",
                "after",
                "css",
                "find",
                "focus",
                "children"
            ],
            "script": "Form.prototype.Tags = function(value = '', placeholder = '', options = {}) {\n    const defaultOptions = {\n        separator: ',',\n        maxTags: null,\n        minChars: 1\n    };\n    options = Object.assign({}, defaultOptions, options);\n    if (!Form.tagsClassesInitialized) {\n        Form.tagsClasses = Q.style('', `\n            .form_tags_container {\n                display: flex;\n                flex-wrap: wrap;\n                gap: 5px;\n                width: 100%;\n                min-height: 36px;\n                padding: 3px;\n                border: 1px solid var(--form-default-input-border-color);\n                border-radius: var(--form-default-border-radius);\n                background-color: var(--form-default-input-background-color);\n                cursor: text;\n            }\n            .form_tags_container:focus-within {\n                border-color: var(--form-default-button-background-color);\n                outline: none;\n            }\n            .form_tag {\n                display: inline-flex;\n                align-items: center;\n                padding: 3px 8px;\n                background-color: var(--form-default-button-background-color);\n                color: var(--form-default-button-text-color);\n                border-radius: var(--form-default-border-radius);\n                font-size: var(--form-default-font-size);\n                font-family: var(--form-default-font-family);\n                user-select: none;\n            }\n            .form_tag_editable {\n                background-color: var(--form-default-button-hover-background-color);\n            }\n            .form_tag_remove {\n                margin-left: 5px;\n                cursor: pointer;\n                width: 14px;\n                height: 14px;\n                display: inline-flex;\n                align-items: center;\n                justify-content: center;\n                font-size: 10px;\n                border-radius: 50%;\n                background-color: rgba(255, 255, 255, 0.2);\n            }\n            .form_tag_input {\n                flex-grow: 1;\n                min-width: 60px;\n                border: none;\n                outline: none;\n                padding: 5px;\n                font-family: var(--form-default-font-family);\n                font-size: var(--form-default-font-size);\n                background: transparent;\n                color: var(--form-default-input-text-color);\n            }\n            .form_tag.dragging {\n                opacity: 0.5;\n            }\n            .form_tag[draggable=true] {\n                cursor: move;\n            }\n        `, null, {\n            'form_tags_container': 'form_tags_container',\n            'form_tag': 'form_tag',\n            'form_tag_editable': 'form_tag_editable',\n            'form_tag_remove': 'form_tag_remove',\n            'form_tag_input': 'form_tag_input'\n        });\n        Form.tagsClassesInitialized = true;\n    }\n    const container = Q(`<div class=\"${Form.classes.q_form} ${Form.tagsClasses.form_tags_container}\"></div>`);\n    const input = Q(`<input class=\"${Form.tagsClasses.form_tag_input}\" placeholder=\"${placeholder}\" type=\"text\">`);\n    const state = {\n        tags: [],\n        draggedTag: null,\n        currentEditTag: null\n    };\n    container.append(input);\n    if (value && typeof value === 'string' && value.trim() !== '') {\n        const initialTags = value.split(options.separator)\n                               .map(tag => tag.trim())\n                               .filter(Boolean);\n        initialTags.forEach(tag => addTag(tag));\n    }\n    function addTag(text) {\n        if (!text || text.length < options.minChars) return;\n        if (options.maxTags !== null && state.tags.length >= options.maxTags) return;\n        if (state.tags.includes(text)) return;\n        const tag = Q(`<div class=\"${Form.tagsClasses.form_tag}\" draggable=\"true\"></div>`);\n        const tagText = Q(`<span>${text}</span>`);\n        const removeBtn = Q(`<span class=\"${Form.tagsClasses.form_tag_remove}\">\u00d7</span>`);\n        tag.append(tagText, removeBtn);\n        state.tags.push(text);\n        input.before(tag);\n        setupDragAndDrop(tag);\n        tag.on('click', function(e) {\n            if (e.target.classList.contains(Form.tagsClasses.form_tag_remove.split(' ')[0])) return;\n            tag.html('');\n            tag.addClass(Form.tagsClasses.form_tag_editable);\n            const editInput = Q(`<input type=\"text\" value=\"${text}\" style=\"border:none; background:transparent; color:inherit; outline:none; width:auto;\">`);\n            tag.append(editInput);\n            editInput.focus();\n            state.currentEditTag = { tag, originalText: text };\n            editInput.on('blur', function() {\n                finishEditing(editInput.val());\n            });\n            editInput.on('keydown', function(e) {\n                if (e.key === 'Enter') {\n                    finishEditing(editInput.val());\n                    e.preventDefault();\n                } else if (e.key === 'Escape') {\n                    finishEditing(text); \n                    e.preventDefault();\n                }\n            });\n        });\n        removeBtn.on('click', function() {\n            removeTag(tag, text);\n        });\n        if (typeof container.changeCallback === 'function') {\n            container.changeCallback(state.tags.join(options.separator));\n        }\n    }\n    function finishEditing(newText) {\n        if (!state.currentEditTag) return;\n        const { tag, originalText } = state.currentEditTag;\n        const index = state.tags.indexOf(originalText);\n        if (index !== -1) {\n            state.tags.splice(index, 1);\n        }\n        if (newText && newText.trim() && newText.length >= options.minChars) {\n            tag.removeClass(Form.tagsClasses.form_tag_editable);\n            tag.html(`<span>${newText}</span><span class=\"${Form.tagsClasses.form_tag_remove}\">\u00d7</span>`);\n            tag.find(`.${Form.tagsClasses.form_tag_remove.split(' ')[0]}`).on('click', function() {\n                removeTag(tag, newText);\n            });\n            state.tags.push(newText);\n        } else {\n            tag.remove();\n        }\n        state.currentEditTag = null;\n        if (typeof container.changeCallback === 'function') {\n            container.changeCallback(state.tags.join(options.separator));\n        }\n    }\n    function removeTag(tagElement, text) {\n        tagElement.remove();\n        const index = state.tags.indexOf(text);\n        if (index !== -1) {\n            state.tags.splice(index, 1);\n        }\n        if (typeof container.changeCallback === 'function') {\n            container.changeCallback(state.tags.join(options.separator));\n        }\n    }\n    function setupDragAndDrop(tag) {\n        tag.on('dragstart', function(e) {\n            state.draggedTag = tag;\n            tag.addClass('dragging');\n            if (e.dataTransfer) {\n                e.dataTransfer.setData('text/plain', '');\n                e.dataTransfer.effectAllowed = 'move';\n            }\n        });\n        tag.on('dragend', function() {\n            state.draggedTag = null;\n            tag.removeClass('dragging');\n        });\n        tag.on('dragover', function(e) {\n            if (e.preventDefault) {\n                e.preventDefault(); \n            }\n            return false;\n        });\n        tag.on('dragenter', function(e) {\n            e.preventDefault();\n        });\n        tag.on('drop', function(e) {\n            e.stopPropagation();\n            if (!state.draggedTag || state.draggedTag === tag) {\n                return;\n            }\n            const allTags = Array.from(container.children()).filter(\n                el => el.classList.contains(Form.tagsClasses.form_tag.split(' ')[0])\n            );\n            const fromIndex = allTags.indexOf(state.draggedTag);\n            const toIndex = allTags.indexOf(tag);\n            if (fromIndex < toIndex) {\n                tag.after(state.draggedTag);\n            } else {\n                tag.before(state.draggedTag);\n            }\n            const movedTag = state.tags.splice(fromIndex, 1)[0];\n            state.tags.splice(toIndex, 0, movedTag);\n            if (typeof container.changeCallback === 'function') {\n                container.changeCallback(state.tags.join(options.separator));\n            }\n            return false;\n        });\n    }\n    container.on('click', function(e) {\n        if (e.target === container.element) {\n            input.focus();\n        }\n    });\n    input.on('keydown', function(e) {\n        if (e.key === 'Enter' || e.key === ',' || e.key === ';' || (options.separator === ' ' && e.key === ' ')) {\n            const value = input.val().trim();\n            if (value) {\n                addTag(value);\n                input.val('');\n                e.preventDefault();\n            }\n        }\n        else if (e.key === 'Backspace' && input.val() === '' && state.tags.length > 0) {\n            const tagElements = container.nodes[0].querySelectorAll(`.${Form.tagsClasses.form_tag.split(' ')[0]}`);\n            if (tagElements.length > 0) {\n                const lastTag = Q(tagElements[tagElements.length - 1]);\n                lastTag.click(); \n            }\n        }\n    });\n    input.on('paste', function(e) {\n        let pastedText;\n        if (window.clipboardData && window.clipboardData.getData) {\n            pastedText = window.clipboardData.getData('Text');\n        } else if (e.clipboardData && e.clipboardData.getData) {\n            pastedText = e.clipboardData.getData('text/plain');\n        }\n        if (pastedText) {\n            e.preventDefault();\n            const tags = pastedText.split(options.separator).map(tag => tag.trim()).filter(Boolean);\n            tags.forEach(tag => addTag(tag));\n            input.val('');\n        }\n    });\n    input.on('blur', function() {\n        const inputValue = input.val();\n        const value = inputValue ? inputValue.trim() : '';\n        if (value) {\n            addTag(value);\n            input.val('');\n        }\n    });\n    container.val = function(value) {\n        if (value === undefined) {\n            return state.tags.join(options.separator);\n        }\n        if (value === '') {\n            if (container.nodes && container.nodes.length > 0) {\n                const tagElements = container.nodes[0].querySelectorAll(`.${Form.tagsClasses.form_tag.split(' ')[0]}`);\n                for (let i = 0; i < tagElements.length; i++) {\n                    if (tagElements[i].parentNode) {\n                        tagElements[i].parentNode.removeChild(tagElements[i]);\n                    }\n                }\n            }\n            state.tags = [];\n        } else {\n            if (container.nodes && container.nodes.length > 0) {\n                const tagElements = container.nodes[0].querySelectorAll(`.${Form.tagsClasses.form_tag.split(' ')[0]}`);\n                for (let i = 0; i < tagElements.length; i++) {\n                    if (tagElements[i].parentNode) {\n                        tagElements[i].parentNode.removeChild(tagElements[i]);\n                    }\n                }\n            }\n            state.tags = [];\n            const newTags = value.split(options.separator).map(tag => tag.trim()).filter(Boolean);\n            newTags.forEach(tag => addTag(tag));\n        }\n        if (typeof container.changeCallback === 'function') {\n            container.changeCallback(state.tags.join(options.separator));\n        }\n        return container;\n    };\n    container.placeholder = function(text) {\n        input.attr('placeholder', text);\n        return container;\n    };\n    container.disabled = function(state) {\n        input.prop('disabled', state);\n        container.css('pointer-events', state ? 'none' : 'auto');\n        if (state) {\n            container.addClass(Form.classes.q_form_disabled);\n        } else {\n            container.removeClass(Form.classes.q_form_disabled);\n        }\n        return container;\n    };\n    container.setSeparator = function(separator) {\n        options.separator = separator;\n        return container;\n    };\n    container.reset = function() {\n        return container.val('');\n    };\n    container.change = function(callback) {\n        container.changeCallback = callback;\n        return container;\n    };\n    this.elements.push(container);\n    return container;\n};"
        },
        "Form.TextArea": {
            "uuid": "22f52cd3-c530-4c9f-a87c-0b1ff978acf0",
            "name": "Form.TextArea",
            "method": "Component",
            "desc": "TextArea component for Form plugin",
            "type": "Component",
            "example": "var textarea = Q.Form.TextArea('Initial content', 'Enter text...'); textarea.change(function(value) { console.log(value); });",
            "dependencies": [
                "Form",
                "style",
                "addClass",
                "removeClass",
                "on",
                "attr",
                "val",
                "prop"
            ],
            "script": "Form.prototype.TextArea = function(value = '', placeholder = '') {\n    if (!Form.textAreaClassesInitialized) {\n        Form.textAreaClasses = Q.style('', `\n            .form_textarea {\n                width: 100%;\n                padding: var(--form-default-padding);\n                font-family: var(--form-default-font-family);\n                font-size: var(--form-default-font-size);\n                border-radius: var(--form-default-border-radius);\n                background-color: var(--form-default-input-background-color);\n                color: var(--form-default-input-text-color);\n                border: 1px solid var(--form-default-input-border-color);\n                resize: none;\n                min-height: 100px;\n            }\n            .form_textarea:focus {\n                border-color: var(--form-default-button-background-color);\n                outline: none;\n            }\n        `, null, {\n            'form_textarea': 'form_textarea'\n        });\n        Form.textAreaClassesInitialized = true;\n    }\n    const textarea = Q(`<textarea class=\"${Form.classes.q_form} ${Form.textAreaClasses.form_textarea}\" placeholder=\"${placeholder}\">${value}</textarea>`);\n    textarea.placeholder = function(text) {\n        textarea.attr('placeholder', text);\n    };\n    textarea.disabled = function(state) {\n        textarea.prop('disabled', state);\n        if (state) {\n            textarea.addClass(Form.classes.q_form_disabled);\n        } else {\n            textarea.removeClass(Form.classes.q_form_disabled);\n        }\n    };\n    textarea.reset = function() {\n        textarea.val('');\n    };\n    textarea.change = function(callback) {\n        textarea.on('change', function() {\n            callback(this.value);\n        });\n    };\n    this.elements.push(textarea);\n    return textarea;\n};"
        },
        "Form.TextBox": {
            "uuid": "e78dec8a-2184-45e6-acd8-3bf4746401ce",
            "name": "Form.TextBox",
            "method": "Component",
            "desc": "TextBox component for Form plugin",
            "type": "Component",
            "example": "var textbox = Q.Form.TextBox('text', 'Initial value', 'Enter text...'); textbox.change(function(value) { console.log(value); });",
            "dependencies": [
                "Form",
                "style",
                "addClass",
                "removeClass",
                "on",
                "attr",
                "val",
                "prop"
            ],
            "script": "Form.prototype.TextBox = function(type = 'text', value = '', placeholder = '') {\n    if (!Form.textBoxClassesInitialized) {\n        Form.textBoxClasses = Q.style('', `\n            .q_form_input {\n                width: 100%;\n                font-family: var(--form-default-font-family);\n                padding: var(--form-default-padding);\n                font-size: var(--form-default-font-size);\n                border-radius: var(--form-default-border-radius);\n                background-color: var(--form-default-input-background-color);\n                color: var(--form-default-input-text-color);\n                border: 1px solid var(--form-default-input-border-color);\n                resize: none;\n            }\n            .q_form_input:focus {\n                border-color: var(--form-default-button-background-color);\n                outline: none;\n            }\n        `, null, {\n            'q_form_input': 'q_form_input'\n        });\n        Form.textBoxClassesInitialized = true;\n    }\n    const input = Q(`<input class=\"${Form.classes.q_form} ${Form.textBoxClasses.q_form_input}\" type=\"${type}\" placeholder=\"${placeholder}\" value=\"${value}\">`);\n    input.placeholder = function(text) {\n        input.attr('placeholder', text);\n    };\n    input.disabled = function(state) {\n        input.prop('disabled', state);\n        if (state) {\n            input.addClass(Form.classes.q_form_disabled);\n        } else {\n            input.removeClass(Form.classes.q_form_disabled);\n        }\n    };\n    input.reset = function() {\n        input.val('');\n    };\n    input.change = function(callback) {\n        input.on('change', function() {\n            callback(this.value);\n        });\n    };\n    this.elements.push(input);\n    return input;\n};"
        },
        "Form.Uploader": {
            "uuid": "0cb2b681-c69d-4048-85ef-dd16f45fb9fc",
            "name": "Form.Uploader",
            "method": "Component",
            "desc": "File upload component with drag and drop functionality",
            "type": "Component",
            "example": "var uploader = Q.Form.Uploader({ fileTypes: '.jpg,.png', preview: true }); uploader.change(function(files) { console.log(files); });",
            "dependencies": [
                "Form",
                "style",
                "addClass",
                "removeClass",
                "on",
                "attr",
                "val",
                "prop",
                "html",
                "append",
                "css",
                "text",
                "remove"
            ],
            "script": "Form.prototype.Uploader = function (options = {}) {\n    const defaultOptions = {\n        fileTypes: '*', // Accepted file types: 'image/jpeg,image/png' or '.jpg,.png'\n        preview: true,  // Show previews for images/videos\n        thumbSize: 100, // Thumbnail size (px)\n        allowDrop: true, // Allow drag and drop\n        multiple: false, // Allow multiple file selection\n        placeholder: 'Drop files here or click to select'\n    };\n    options = Object.assign({}, defaultOptions, options);\n    if (!Form.uploaderClassesInitialized) {\n        Form.uploaderClasses = Q.style('', `\n            .form_uploader_container {\n            user-select: none;\n                -webkit-user-select: none;\n                display: flex;\n                flex-direction: column;\n                width: 100%;\n                border: 2px dashed var(--form-default-input-border-color);\n                border-radius: var(--form-default-border-radius);\n                background-color: var(--form-default-input-background-color);\n                padding: 10px;\n            }\n            .form_uploader_container.drag_over {\n                border-color: var(--form-default-button-background-color);\n                background-color: rgba(100, 60, 240, 0.05);\n            }\n            .form_uploader_drop_area {\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: center;\n                padding: 20px;\n                text-align: center;\n                cursor: pointer;\n                color: var(--form-default-input-text-color);\n                min-height: 120px;\n            }\n            .form_uploader_icon {\n                font-size: 32px;\n                margin-bottom: 10px;\n                opacity: 0.7;\n            }\n            .form_uploader_text {\n                margin-bottom: 10px;\n                font-family: var(--form-default-font-family);\n                font-size: var(--form-default-font-size);\n            }\n            .form_uploader_button {\n                padding: var(--form-default-padding);\n                background-color: var(--form-default-button-background-color);\n                color: var(--form-default-button-text-color);\n                border: none;\n                border-radius: var(--form-default-border-radius);\n                cursor: pointer;\n                font-family: var(--form-default-font-family);\n                font-size: var(--form-default-font-size);\n            }\n            .form_uploader_button:hover {\n                background-color: var(--form-default-button-hover-background-color);\n            }\n            .form_uploader_input {\n                display: none;\n            }\n            .form_uploader_preview_container {\n                display: flex;\n                flex-wrap: wrap;\n                gap: 5px;\n                margin-top: 5px;\n            }\n            .form_uploader_preview_item {\n                position: relative;\n                border-radius: var(--form-default-border-radius);\n                overflow: hidden;\n                border: 1px solid var(--form-default-input-border-color);\n            }\n            .form_uploader_preview_image {\n                object-fit: cover;\n                display: block;\n            }\n            .form_uploader_preview_video {\n                object-fit: cover;\n                display: block;\n            }\n            .form_uploader_preview_icon {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                color: var(--form-default-input-text-color);\n                background-color: rgba(37, 37, 37, 0.8);\n                font-size: 24px;\n            }\n            .form_uploader_preview_info {\n                position: absolute;\n                bottom: 0;\n                left: 0;\n                right: 0;\n                padding: 4px 6px;\n                background: rgba(0, 0, 0, 0.7);\n                color: #fff;\n                font-size: 10px;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n                overflow: hidden;\n            }\n        `, null, {\n            'form_uploader_container': 'form_uploader_container',\n            'drag_over': 'drag_over',\n            'form_uploader_drop_area': 'form_uploader_drop_area',\n            'form_uploader_icon': 'form_uploader_icon',\n            'form_uploader_text': 'form_uploader_text',\n            'form_uploader_button': 'form_uploader_button',\n            'form_uploader_input': 'form_uploader_input',\n            'form_uploader_preview_container': 'form_uploader_preview_container',\n            'form_uploader_preview_item': 'form_uploader_preview_item',\n            'form_uploader_preview_image': 'form_uploader_preview_image',\n            'form_uploader_preview_video': 'form_uploader_preview_video',\n            'form_uploader_preview_icon': 'form_uploader_preview_icon',\n            'form_uploader_preview_info': 'form_uploader_preview_info'\n        });\n        Form.uploaderClassesInitialized = true;\n    }\n    const container = Q(`<div class=\"${Form.classes.q_form} ${Form.uploaderClasses.form_uploader_container}\"></div>`);\n    const dropArea = Q(`<div class=\"${Form.uploaderClasses.form_uploader_drop_area}\"></div>`);\n    const uploadIcon = Q(`<div class=\"${Form.uploaderClasses.form_uploader_icon}\">\ud83d\udcc2</div>`);\n    const text = Q(`<div class=\"${Form.uploaderClasses.form_uploader_text}\">${options.placeholder}</div>`);\n    const browseButton = Q(`<button type=\"button\" class=\"${Form.uploaderClasses.form_uploader_button}\">Browse Files</button>`);\n    const fileInput = Q(`<input type=\"file\" class=\"${Form.uploaderClasses.form_uploader_input}\">`);\n    if (options.multiple) {\n        fileInput.attr('multiple', true);\n    }\n    if (options.fileTypes && options.fileTypes !== '*') {\n        fileInput.attr('accept', options.fileTypes);\n    }\n    dropArea.append(uploadIcon, text, browseButton);\n    container.append(dropArea, fileInput);\n    let previewContainer = null;\n    if (options.preview) {\n        previewContainer = Q(`<div class=\"${Form.uploaderClasses.form_uploader_preview_container}\"></div>`);\n        container.append(previewContainer);\n    }\n    const state = {\n        files: [],\n        fileObjects: []\n    };\n    function formatFileSize(bytes) {\n        if (bytes === 0) return '0 B';\n        const k = 1024;\n        const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n    }\n    function getFileExtension(filename) {\n        return filename.split('.').pop().toUpperCase();\n    }\n    function handleFiles(files) {\n        if (!files || files.length === 0) return;\n        Array.from(files).forEach(file => {\n            const fileInfo = {\n                name: file.name,\n                size: file.size,\n                formattedSize: formatFileSize(file.size),\n                type: file.type,\n                extension: getFileExtension(file.name)\n            };\n            state.files.push(fileInfo);\n            state.fileObjects.push(file);\n            if (options.preview) {\n                generatePreview(file, fileInfo);\n            }\n        });\n        if (typeof container.changeCallback === 'function') {\n            container.changeCallback(state.files);\n        }\n    }\n    function generatePreview(file, fileInfo) {\n        const previewItem = Q(`<div class=\"${Form.uploaderClasses.form_uploader_preview_item}\"></div>`);\n        const fileInfoElement = Q(`<div class=\"${Form.uploaderClasses.form_uploader_preview_info}\">${file.name} (${fileInfo.formattedSize})</div>`);\n        const removeButton = Q(`<div class=\"${Form.classes.form_close_button}\">\u00d7</div>`);\n        previewItem.css({\n            width: options.thumbSize + 'px',\n            height: options.thumbSize + 'px'\n        });\n        const titleInfo = `Name: ${file.name}\\nSize: ${fileInfo.formattedSize}\\nType: ${file.type}`;\n        previewItem.attr('title', titleInfo);\n        if (file.type.startsWith('image/')) {\n            const img = Q(`<img class=\"${Form.uploaderClasses.form_uploader_preview_image}\" alt=\"${file.name}\">`);\n            img.css({\n                width: '100%',\n                height: '100%'\n            });\n            img.attr('title', titleInfo);\n            const reader = new FileReader();\n            reader.onload = function (e) {\n                img.attr('src', e.target.result);\n                fileInfo.preview = e.target.result;\n            };\n            reader.readAsDataURL(file);\n            previewItem.append(img);\n        }\n        else if (file.type.startsWith('video/')) {\n            const video = Q(`<video class=\"${Form.uploaderClasses.form_uploader_preview_video}\" controls muted>`);\n            video.css({\n                width: '100%',\n                height: '100%'\n            });\n            video.attr('title', titleInfo);\n            const reader = new FileReader();\n            reader.onload = function (e) {\n                video.attr('src', e.target.result);\n                fileInfo.preview = e.target.result;\n            };\n            reader.readAsDataURL(file);\n            previewItem.append(video);\n        }\n        else {\n            const fileIcon = Q(`<div class=\"${Form.uploaderClasses.form_uploader_preview_icon}\"></div>`);\n            fileIcon.css({\n                width: '100%',\n                height: '100%'\n            });\n            fileIcon.attr('title', titleInfo);\n            fileIcon.text(fileInfo.extension);\n            previewItem.append(fileIcon);\n        }\n        previewItem.append(fileInfoElement, removeButton);\n        fileInfo.element = previewItem;\n        if (previewContainer) {\n            previewContainer.append(previewItem);\n        }\n        removeButton.on('click', () => {\n            removeFile(fileInfo);\n        });\n    }\n    function removeFile(fileInfo) {\n        const index = state.files.indexOf(fileInfo);\n        if (index !== -1) {\n            state.files.splice(index, 1);\n            state.fileObjects.splice(index, 1);\n            if (fileInfo.element) {\n                fileInfo.element.remove();\n            }\n            if (typeof container.changeCallback === 'function') {\n                container.changeCallback(state.files);\n            }\n        }\n    }\n    function resetUploader() {\n        state.files = [];\n        state.fileObjects = [];\n        if (previewContainer) {\n            previewContainer.html('');\n        }\n        fileInput.val('');\n    }\n    if (options.allowDrop) {\n        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {\n            dropArea.on(eventName, (e) => {\n                e.preventDefault();\n                e.stopPropagation();\n            });\n        });\n        ['dragenter', 'dragover'].forEach(eventName => {\n            dropArea.on(eventName, () => {\n                container.addClass(Form.uploaderClasses.drag_over);\n            });\n        });\n        ['dragleave', 'drop'].forEach(eventName => {\n            dropArea.on(eventName, () => {\n                container.removeClass(Form.uploaderClasses.drag_over);\n            });\n        });\n        dropArea.on('drop', (e) => {\n            const files = e.dataTransfer.files;\n            if (!options.multiple && files.length > 1) {\n                handleFiles([files[0]]);\n            } else {\n                handleFiles(files);\n            }\n        });\n    }\n    browseButton.on('click', function () {\n        fileInput.nodes[0].click();\n    });\n    dropArea.on('click', function (e) {\n        if (e.target !== browseButton.nodes[0]) {\n            fileInput.nodes[0].click();\n        }\n    });\n    fileInput.on('change', function () {\n        if (!options.multiple) {\n            resetUploader(); // Clear previous files if not multiple\n        }\n        handleFiles(this.files);\n    });\n    container.val = function (value) {\n        if (value === undefined) {\n            return {\n                files: state.files,\n                fileObjects: state.fileObjects\n            };\n        }\n        if (value === '' || value === null) {\n            resetUploader();\n            return container;\n        }\n        return container;\n    };\n    container.reset = function () {\n        resetUploader();\n        return container;\n    };\n    container.disabled = function (state) {\n        if (state) {\n            container.css('opacity', '0.5');\n            container.css('pointer-events', 'none');\n            fileInput.prop('disabled', true);\n        } else {\n            container.css('opacity', '1');\n            container.css('pointer-events', 'auto');\n            fileInput.prop('disabled', false);\n        }\n        return container;\n    };\n    container.change = function (callback) {\n        container.changeCallback = callback;\n        return container;\n    };\n    this.elements.push(container);\n    return container;\n};"
        },
        "Icons": {
            "uuid": "d7f5b21b-7712-4eeb-bf38-d0882fe307a3",
            "name": "Icons",
            "method": "Plugin",
            "desc": "A plugin to add additional icons to the VulpiniQ library.",
            "type": "Plugin",
            "example": [
                "// Initialize the icons plugin\nQ.Icons();",
                "// Get an icon element\nlet icon = Q.Icons().get('arrow-down');\ndocument.body.appendChild(icon.el);",
                "// Get an icon element with additional classes\nlet icon2 = Q.Icons().get('arrow-down', 'my-custom-class');\ndocument.body.appendChild(icon2.el);"
            ],
            "dependencies": [],
            "script": "Q.Icons = function () {\n  let a = Q.getGLOBAL('icons');\n  let b = {};\n  if (a && a.icons) {\n    b = a.icons;\n  }\n  else {\n    b = Q.style(`\n\t--icon_arrow-down: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 134.49459 62.707709\"><path d=\"M 100.93685,31.353867 C 82.480099,48.598492 67.319803,62.707709 67.247301,62.707709 c -0.0725,0 -15.232809,-14.109215 -33.689561,-31.353842 L 3.5365448e-8,6.6845858e-7 H 67.247301 134.4946 Z\"/></svg>');\n\t--icon_arrow-left: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 62.707704 134.4946\"><path d=\"M 31.353844,100.93685 C 14.109219,82.480099 1.6018623e-6,67.319803 1.6018623e-6,67.247301 1.6018623e-6,67.174801 14.109217,52.014492 31.353844,33.55774 L 62.70771,0 V 67.247301 134.4946 Z\"/></svg>');\n\t--icon_arrow-right: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 62.707704 134.4946\"><path d=\"m 31.353868,33.55775 c 17.244625,18.456749 31.353842,33.617045 31.353842,33.689547 0,0.0725 -14.109215,15.232809 -31.353842,33.689563 L 1.6018623e-6,134.4946 V 67.247297 0 Z\"/></svg>');\n\t--icon_arrow-up: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 134.49459 62.707709\"><path d=\"M 33.55775,31.353843 C 52.014499,14.109218 67.174795,6.6845858e-7 67.247297,6.6845858e-7 67.319797,6.6845858e-7 82.480106,14.109216 100.93686,31.353843 L 134.4946,62.707709 H 67.247297 3.5365448e-8 Z\"/></svg>');\n\t--icon_navigation-close: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 2666.6667 2666.6667\"><path d=\"M 1276.6667,2434.5485 C 950.24325,2418.4963 647.60291,2257.2797 449.65648,1994.0001 360.09366,1874.8766 294.54616,1735.7649 260.06678,1591.6333 c -40.82486,-170.6571 -40.82486,-347.2761 0,-517.9332 71.52438,-298.98806 268.8554,-557.46223 540.12266,-707.48002 258.68606,-143.06006 568.06486,-175.54075 852.57376,-89.50899 276.927,83.73908 511.1437,274.85672 650.2832,530.62227 168.8614,310.40014 177.2264,688.09064 22.2995,1006.84964 -77.0037,158.4335 -189.7203,295.013 -331.3458,401.4939 -205.303,154.3568 -458.4668,231.6017 -717.3334,218.8716 z m 130.2294,-151.2014 c 229.6976,-18.6692 437.2639,-114.273 599.1754,-275.9766 47.6541,-47.593 83.7471,-91.4686 120.133,-146.0371 91.2885,-136.9067 142.8941,-286.0616 157.3086,-454.6667 3.0513,-35.6912 3.0513,-112.3088 0,-148 -9.7543,-114.0948 -35.6813,-216.2096 -79.956,-314.91095 C 2140.8657,803.99837 2044.7703,680.42081 1924.6667,585.10582 1705.8186,411.42656 1421.4281,342.88551 1146,397.43913 961.28159,434.02604 793.07082,524.16769 658.61926,658.61926 508.15954,809.07897 413.50356,1001.5246 386.76219,1211.3334 c -5.50464,43.1886 -7.16468,71.3013 -7.16468,121.3333 0,50.0321 1.66004,78.1448 7.16468,121.3333 31.40785,246.4213 158.34097,471.0271 353.9045,626.2276 118.14734,93.7625 258.15376,158.5796 405.33331,187.6524 50.7995,10.0346 91.5353,14.8142 153.3334,17.9909 18.4799,0.95 83.6306,-0.5787 107.5627,-2.5238 z m 134.7679,-630.3487 -208.3296,-208.3296 -207.9982,207.9951 -207.99834,207.9951 -54.66892,-54.6567 c -30.0679,-30.0612 -54.66892,-55.2602 -54.66892,-55.9978 0,-0.7375 93.30001,-94.6396 207.33338,-208.6711 l 207.3333,-207.3301 -206.6689,-206.6721 -206.66886,-206.67213 55.00599,-54.99402 55.006,-54.99402 206.66127,206.66447 206.6613,206.6646 207.6661,-207.6629 207.666,-207.66288 55.3378,55.32571 55.3378,55.32571 -207.6673,207.67046 -207.6673,207.6705 208.3339,208.3372 208.334,208.3371 -55.0055,54.9935 -55.0054,54.9935 z\"/></svg>');\n\t--icon_navigation-left: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 682.66669 682.66669\"><path d=\"M 312.95615,622.51118 C 282.12556,619.5403 247.03663,609.52248 218.00001,595.4014 129.37889,552.30321 70.013661,466.90205 60.059145,368.19207 51.577814,284.09034 83.346262,198.0417 144.85111,138.52292 212.10881,73.437059 306.81846,45.865772 398.4674,64.691724 519.45153,89.543525 610.11296,190.57708 622.60754,314.47462 c 8.48133,84.10173 -23.28712,170.15036 -84.79196,229.66914 -59.89864,57.96444 -141.4913,86.4009 -224.85943,78.36742 z m 71.04386,-40.49085 c 101.01231,-18.37977 179.6848,-97.26565 198.14953,-198.68699 3.46591,-19.0372 3.48193,-65.25956 0.0291,-84 -18.78642,-101.96514 -96.94357,-180.11939 -198.8453,-198.83796 -18.89894,-3.471598 -65.10105,-3.471598 -84,0 C 197.45585,119.2095 119.27,197.39245 100.48802,299.33334 c -3.452807,18.74044 -3.436783,64.9628 0.0291,84 16.64224,91.4109 82.13775,165.12641 170.46427,191.85833 8.26023,2.49995 21.0186,5.49414 28.35193,6.65376 7.33334,1.15962 14.83334,2.3709 16.66667,2.69173 8.26494,1.44635 55.91079,-0.31712 68,-2.51683 z M 320.66668,412.53122 c -36.66667,-38.4534 -66.66667,-70.49248 -66.66667,-71.19795 0,-0.70547 30.15,-32.79758 67,-71.31579 l 67,-70.03311 v 141.34115 c 0,77.73764 -0.15,141.29162 -0.33333,141.23108 -0.18334,-0.0605 -30.33334,-31.57197 -67,-70.02538 z\"/></svg>');\n\t--icon_navigation-right: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 682.66669 682.66669\"><path d=\"M 312.95615,622.51118 C 103.83077,602.35954 -10.876679,362.01744 104.94177,186.66667 225.81958,3.6559506 499.6699,21.151057 595.4014,218.00001 691.73222,416.0813 532.80292,643.69595 312.95615,622.51118 Z m 71.04386,-40.49085 C 527.6749,555.87785 617.23885,410.16562 575.1842,270.98141 536.24285,142.10102 399.55264,68.634561 270.98141,107.48249 119.67709,153.19925 50.784795,329.22352 130.9177,465.35432 c 35.94209,61.05887 100.57273,105.76313 168.41564,116.49111 7.33334,1.15962 14.83334,2.3709 16.66667,2.69173 8.26494,1.44635 55.91079,-0.31712 68,-2.51683 z M 294.66668,341.34179 V 199.98437 l 67,70.03311 c 36.85,38.51821 67,70.60056 67,71.2941 0,0.69354 -30.15,32.78948 -67,71.32431 l -67,70.06332 z\"/></svg>');\n\t--icon_window-close: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 101.7211 101.72111\"><path d=\"M 2.8176856,98.903421 -4.0360052e-7,96.085741 22.611458,73.473146 45.222917,50.860554 22.611458,28.247962 -4.0360052e-7,5.6353711 2.8176856,2.8176851 5.6353716,-9.1835591e-7 28.247963,22.611458 50.860555,45.222916 73.473147,22.611458 96.085743,-9.1835591e-7 98.903423,2.8176851 101.72111,5.6353711 79.109651,28.247962 56.498193,50.860554 79.109651,73.473146 101.72111,96.085741 98.903423,98.903421 96.085743,101.72111 73.473147,79.109651 50.860555,56.498192 28.247963,79.109651 5.6353716,101.72111 Z\"/></svg>');\n\t--icon_window-full: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 101.7211 101.72111\"><path d=\"M 17.303708,50.860554 V 17.303708 H 50.860555 84.417403 V 50.860554 84.417401 H 50.860555 17.303708 Z m 58.724482,0 V 25.692919 H 50.860555 25.69292 V 50.860554 76.028189 H 50.860555 76.02819 Z\"/></svg>');\n\t--icon_window-minimize: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 101.7211 101.72111\"><path d=\"M 0.5252846,83.893071 V 79.698469 H 50.860555 101.19582 v 4.194602 4.19461 H 50.860555 0.5252846 Z\"/></svg>');\n\t--icon_window-windowed: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 101.7211 101.72111\"><path d=\"M 17.303708,50.860554 V 17.303708 h 8.389212 8.389212 V 8.9144961 0.52528408 H 67.638978 101.19582 V 34.082131 67.638977 h -8.389207 -8.38921 v 8.389212 8.389212 H 50.860555 17.303708 Z m 58.724482,0 V 25.692919 H 50.860555 25.69292 V 50.860554 76.028189 H 50.860555 76.02819 Z M 92.806613,34.082131 V 8.9144961 H 67.638978 42.471343 v 4.1946059 4.194606 h 20.973029 20.973031 v 20.973029 20.973029 h 4.1946 4.19461 z\"/></svg>');\n\t--icon_zoom-in: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0V0z\"/></svg>');\n\t--icon_zoom-out: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0V0z\"/></svg>');\n`,`\n.svg_icon {-webkit-mask-size: cover;mask-size: cover;-webkit-mask-repeat: no-repeat;mask-repeat: no-repeat;-webkit-mask-position: center;mask-position: center;background-color: currentColor;}\n.svg_iconsize { width:100%;height:100%; }\n.arrow-down { mask-image: var(--icon_arrow-down);}\n.arrow-left { mask-image: var(--icon_arrow-left);}\n.arrow-right { mask-image: var(--icon_arrow-right);}\n.arrow-up { mask-image: var(--icon_arrow-up);}\n.navigation-close { mask-image: var(--icon_navigation-close);}\n.navigation-left { mask-image: var(--icon_navigation-left);}\n.navigation-right { mask-image: var(--icon_navigation-right);}\n.window-close { mask-image: var(--icon_window-close);}\n.window-full { mask-image: var(--icon_window-full);}\n.window-minimize { mask-image: var(--icon_window-minimize);}\n.window-windowed { mask-image: var(--icon_window-windowed);}\n.zoom-in { mask-image: var(--icon_zoom-in);}\n.zoom-out { mask-image: var(--icon_zoom-out);}\n`,null\n,{\n  \"arrow-down\": \"arrow-down\",\n  \"arrow-left\": \"arrow-left\",\n  \"arrow-right\": \"arrow-right\",\n  \"arrow-up\": \"arrow-up\",\n  \"navigation-close\": \"navigation-close\",\n  \"navigation-left\": \"navigation-left\",\n  \"navigation-right\": \"navigation-right\",\n  \"window-close\": \"window-close\",\n  \"window-full\": \"window-full\",\n  \"window-minimize\": \"window-minimize\",\n  \"window-windowed\": \"window-windowed\",\n  \"zoom-in\": \"zoom-in\",\n  \"zoom-out\": \"zoom-out\",\n  \"svg_icon\": \"svg_icon\",\n  \"svg_iconsize\": \"svg_iconsize\"\n}, false);\n  }\n  return {\n    get: function (name, additional = '') {\n      if (additional === '') {\n        additional = b['svg_iconsize'];\n      }\n      return Q('<div>', {class: b['svg_icon'] + ' ' + b[name] + ' ' + additional});\n    }\n  }\n};"
        },
        "Image.Blur": {
            "uuid": "7b6a085a-996a-4b5f-b7aa-3cd1fff3d27c",
            "name": "Image.Blur",
            "method": "Plugin",
            "desc": "Apply standard blur to images.",
            "type": "Component",
            "example": "const image = Q.Image(); <br> image.Blur({ radius: 5 }); // Applies a blur with a radius of 5 <br> image.Blur({ radius: 8, quality: 2 }); // Higher quality blur with larger radius",
            "dependencies": "Image",
            "script": "Q.Image.prototype.Blur = function(blurOptions = {}) {\n        const defaults = {\n            type: 'gaussian', // gaussian, box, motion, lens\n            radius: 5,         // Basic blur radius\n            quality: 1,        // Number of iterations for higher quality\n            direction: 0,      // Angle in degrees\n            distance: 10,      // Distance of motion\n            focalDistance: 0.5,  // 0-1, center of focus\n            shape: 'circle',     // circle, hexagon, pentagon, octagon\n            blades: 6,           // Number of aperture blades (5-8)\n            bladeCurvature: 0,   // 0-1, curvature of blades\n            rotation: 0,         // Rotation angle of the aperture in degrees\n            specularHighlights: 0, // 0-1, brightness of highlights\n            noise: 0              // 0-1, amount of noise\n        };\n        const settings = Object.assign({}, defaults, blurOptions);\n        const canvas_node = this.node;\n        const ctx = canvas_node.getContext('2d', { willReadFrequently: true });\n        const data = ctx.getImageData(0, 0, canvas_node.width, canvas_node.height);\n        const pixels = data.data;\n        const width = canvas_node.width;\n        const height = canvas_node.height;\n        let blurredPixels;\n        switch(settings.type.toLowerCase()) {\n            case 'box':\n                blurredPixels = applyBoxBlur(pixels, width, height, settings);\n                break;\n            case 'motion':\n                blurredPixels = applyMotionBlur(pixels, width, height, settings);\n                break;\n            case 'lens':\n                blurredPixels = applyLensBlur(pixels, width, height, settings);\n                break;\n            case 'gaussian':\n            default:\n                blurredPixels = applyGaussianBlur(pixels, width, height, settings);\n                break;\n        }\n        for (let i = 0; i < pixels.length; i++) {\n            pixels[i] = blurredPixels[i];\n        }\n        ctx.putImageData(data, 0, 0);\n        this.saveToHistory();\n        return this;\n    };\n    function applyGaussianBlur(pixels, width, height, settings) {\n        const { kernel, size } = gaussianKernel(settings.radius);\n        const half = Math.floor(size / 2);\n        const iterations = Math.round(settings.quality);\n        let currentPixels = new Uint8ClampedArray(pixels);\n        for (let i = 0; i < iterations; i++) {\n            currentPixels = applyBlur(currentPixels, width, height, kernel, size, half);\n        }\n        return currentPixels;\n    }\n    function applyBoxBlur(pixels, width, height, settings) {\n        const radius = Math.round(settings.radius);\n        const iterations = Math.round(settings.quality);\n        const size = 2 * radius + 1;\n        const half = radius;\n        const kernel = new Float32Array(size * size);\n        const weight = 1 / (size * size);\n        for (let i = 0; i < size * size; i++) {\n            kernel[i] = weight;\n        }\n        let currentPixels = new Uint8ClampedArray(pixels);\n        for (let i = 0; i < iterations; i++) {\n            currentPixels = applyBlur(currentPixels, width, height, kernel, size, half);\n        }\n        return currentPixels;\n    }\n    function applyMotionBlur(pixels, width, height, settings) {\n        const radius = Math.max(1, Math.round(settings.radius));\n        const distance = Math.max(1, Math.round(settings.distance));\n        const angle = settings.direction * Math.PI / 180; // Convert to radians\n        const size = 2 * distance + 1;\n        const kernel = new Float32Array(size * size).fill(0);\n        const half = Math.floor(size / 2);\n        let totalWeight = 0;\n        for (let t = -half; t <= half; t++) {\n            const x = Math.round(Math.cos(angle) * t) + half;\n            const y = Math.round(Math.sin(angle) * t) + half;\n            if (x >= 0 && x < size && y >= 0 && y < size) {\n                let weight = 1;\n                if (radius > 1) {\n                    const dist = Math.abs(t) / half;\n                    weight = Math.exp(-dist * dist / (2 * (radius / distance) * (radius / distance)));\n                }\n                kernel[y * size + x] = weight;\n                totalWeight += weight;\n            }\n        }\n        if (totalWeight > 0) {\n            for (let i = 0; i < kernel.length; i++) {\n                kernel[i] /= totalWeight;\n            }\n        }\n        return applyBlur(pixels, width, height, kernel, size, half);\n    }\n    function applyLensBlur(pixels, width, height, settings) {\n        const radius = Math.max(1, Math.round(settings.radius));\n        const size = 2 * radius + 1;\n        const half = radius;\n        const kernel = new Float32Array(size * size).fill(0);\n        const rotation = settings.rotation * Math.PI / 180; // Convert to radians\n        const blades = Math.max(5, Math.min(8, settings.blades));\n        const curvature = Math.max(0, Math.min(1, settings.bladeCurvature));\n        let totalWeight = 0;\n        const focalFactor = 1 - settings.focalDistance;\n        for (let y = 0; y < size; y++) {\n            for (let x = 0; x < size; x++) {\n                const dx = x - half;\n                const dy = y - half;\n                const distance = Math.sqrt(dx * dx + dy * dy);\n                if (distance <= radius) {\n                    const angle = Math.atan2(dy, dx) + rotation;\n                    let weight = 0;\n                    switch (settings.shape) {\n                        case 'hexagon':\n                        case 'pentagon':\n                        case 'octagon':\n                            const bladeAngle = 2 * Math.PI / blades;\n                            const normalizedAngle = (angle % bladeAngle) / bladeAngle - 0.5;\n                            const bladeDistance = radius * (1 - curvature * Math.abs(normalizedAngle));\n                            weight = distance <= bladeDistance ? 1 : 0;\n                            break;\n                        case 'circle':\n                        default:\n                            weight = 1;\n                            const normalizedDist = distance / radius;\n                            if (normalizedDist > focalFactor) {\n                                weight *= Math.max(0, 1 - (normalizedDist - focalFactor) / (1 - focalFactor));\n                            }\n                            break;\n                    }\n                    if (settings.specularHighlights > 0) {\n                        const highlightFactor = Math.max(0, 1 - distance / radius);\n                        weight *= 1 + settings.specularHighlights * highlightFactor * 2;\n                    }\n                    if (settings.noise > 0) {\n                        weight *= 1 + (Math.random() - 0.5) * settings.noise;\n                    }\n                    kernel[y * size + x] = Math.max(0, weight);\n                    totalWeight += kernel[y * size + x];\n                }\n            }\n        }\n        if (totalWeight > 0) {\n            for (let i = 0; i < kernel.length; i++) {\n                kernel[i] /= totalWeight;\n            }\n        }\n        return applyBlur(pixels, width, height, kernel, size, half);\n    }\n    function gaussianKernel(radius) {\n        const size = 2 * radius + 1;\n        const kernel = new Float32Array(size * size);\n        const sigma = radius / 3;\n        let sum = 0;\n        const center = radius;\n        for (let y = 0; y < size; y++) {\n            for (let x = 0; x < size; x++) {\n                const dx = x - center;\n                const dy = y - center;\n                const weight = Math.exp(-(dx * dx + dy * dy) / (2 * sigma * sigma));\n                kernel[y * size + x] = weight;\n                sum += weight;\n            }\n        }\n        for (let i = 0; i < kernel.length; i++) {\n            kernel[i] /= sum;\n        }\n        return { kernel, size };\n    }\n    function applyBlur(pixels, width, height, kernel, size, half) {\n        const output = new Uint8ClampedArray(pixels.length);\n        for (let y = 0; y < height; y++) {\n            for (let x = 0; x < width; x++) {\n                let r = 0, g = 0, b = 0, a = 0;\n                const dstOff = (y * width + x) * 4;\n                let weightSum = 0;\n                for (let ky = 0; ky < size; ky++) {\n                    for (let kx = 0; kx < size; kx++) {\n                        const ny = y + ky - half;\n                        const nx = x + kx - half;\n                        if (ny >= 0 && ny < height && nx >= 0 && nx < width) {\n                            const srcOff = (ny * width + nx) * 4;\n                            const weight = kernel[ky * size + kx];\n                            r += pixels[srcOff] * weight;\n                            g += pixels[srcOff + 1] * weight;\n                            b += pixels[srcOff + 2] * weight;\n                            a += pixels[srcOff + 3] * weight;\n                            weightSum += weight;\n                        }\n                    }\n                }\n                if (weightSum > 0) {\n                    r /= weightSum;\n                    g /= weightSum;\n                    b /= weightSum;\n                    a /= weightSum;\n                }\n                output[dstOff] = r;\n                output[dstOff + 1] = g;\n                output[dstOff + 2] = b;\n                output[dstOff + 3] = a;\n            }\n        }\n        return output;\n    }"
        },
        "Image.Brightness": {
            "uuid": "5ea41bbd-56e5-476b-8efc-2e0129e51c04",
            "name": "Image.Brightness",
            "method": "Plugin",
            "desc": "Adjust image brightness.",
            "type": "Component",
            "example": "const image = Q.Image(); <br> image.Brightness(20); // Increases brightness by 20 <br> image.Brightness(-15, { clamp: true }); // Decreases brightness with value clamping",
            "dependencies": "Image",
            "script": "Q.Image.prototype.Brightness = function(value, brightOptions = {}) {\n        const defaultOptions = {\n            preserveAlpha: true,\n            clamp: true   // Whether to clamp values to 0-255 range\n        };\n        const finalOptions = Object.assign({}, defaultOptions, brightOptions);\n        const canvas_node = this.node;\n        let data = canvas_node.getContext('2d').getImageData(0, 0, canvas_node.width, canvas_node.height);\n        let pixels = data.data;\n        for (let i = 0; i < pixels.length; i += 4) {\n            pixels[i] += value;     // Red\n            pixels[i + 1] += value; // Green\n            pixels[i + 2] += value; // Blue\n            if (finalOptions.clamp) {\n                pixels[i] = Math.min(255, Math.max(0, pixels[i]));\n                pixels[i + 1] = Math.min(255, Math.max(0, pixels[i + 1]));\n                pixels[i + 2] = Math.min(255, Math.max(0, pixels[i + 2]));\n            }\n        }\n        canvas_node.getContext('2d').putImageData(data, 0, 0);\n        this.saveToHistory();\n        return this;\n    };"
        },
        "Image.Contrast": {
            "uuid": "90424e11-24dd-4c8c-badf-7059d13f24f6",
            "name": "Image.Contrast",
            "method": "Plugin",
            "desc": "Adjust image contrast.",
            "type": "Component",
            "example": "const image = Q.Image(); <br> image.Contrast(50); // Increases contrast by 50 <br> image.Contrast(-20, { preserveHue: true }); // Decreases contrast while preserving hue",
            "dependencies": "Image",
            "script": "(function() {\n    const originalImage = Q.Image;\n    Q.Image = function(options = {}) {\n        const Image = originalImage(options);\n        return Image;\n    };\n    Q.Image.prototype.Contrast = function(value, contrastOptions = {}) {\n        const defaultOptions = {\n            preserveHue: true,  \n            clamp: true        \n        };\n        const finalOptions = Object.assign({}, defaultOptions, contrastOptions);\n        const canvas_node = this.node;\n        let data = canvas_node.getContext('2d').getImageData(0, 0, canvas_node.width, canvas_node.height);\n        let pixels = data.data;\n        let factor = (259 * (value + 255)) / (255 * (259 - value));\n        for (let i = 0; i < pixels.length; i += 4) {\n            pixels[i] = factor * (pixels[i] - 128) + 128;\n            pixels[i + 1] = factor * (pixels[i + 1] - 128) + 128;\n            pixels[i + 2] = factor * (pixels[i + 2] - 128) + 128;\n            if (finalOptions.clamp) {\n                pixels[i] = Math.min(255, Math.max(0, pixels[i]));\n                pixels[i + 1] = Math.min(255, Math.max(0, pixels[i + 1]));\n                pixels[i + 2] = Math.min(255, Math.max(0, pixels[i + 2]));\n            }\n        }\n        canvas_node.getContext('2d').putImageData(data, 0, 0);\n        this.saveToHistory();\n        return this;\n    };\n})();"
        },
        "Image": {
            "uuid": "e132d8da-0f97-46bd-847a-7586d320c25c",
            "name": "Image",
            "method": "Plugin",
            "desc": "Useful to manipulate images.",
            "type": "Component",
            "example": "var image = Q.Image();",
            "dependencies": "RGB2HSL, HSL2RGB",
            "script": "Q.Image = function (options) {\n    const defaultOptions = {\n        width: 0,\n        height: 0,\n        format: 'png',\n        fill: 'transparent',\n        quality: 1,\n        historyLimit: 10,\n        autoSaveHistory: true    \n    };\n    this.options = Object.assign({}, defaultOptions, options);\n    this.canvas = Q('<canvas>');\n    this.node = this.canvas.nodes[0];\n    if (this.options.width && this.options.height) {\n        this.node.width = this.options.width;\n        this.node.height = this.options.height;\n    }\n    this.history = {\n        states: [],        \n        position: -1,      \n        isUndoRedoing: false \n    };\n};\nQ.Image.prototype.Load = function(src, callback) {\n    const img = new Image();\n    img.crossOrigin = 'Anonymous';\n    img.onload = () => {\n        if (this.node.width === 0 || this.node.height === 0 || \n            this.options.width === 0 || this.options.height === 0) {\n            this.node.width = img.width;\n            this.node.height = img.height;\n        }\n        const ctx = this.node.getContext('2d');\n        ctx.clearRect(0, 0, this.node.width, this.node.height);\n        ctx.drawImage(img, 0, 0, img.width, img.height, \n                      0, 0, this.node.width, this.node.height);\n        this.history.states = [];\n        this.history.position = -1;\n        this.saveToHistory();\n        if (callback) callback.call(this, null);\n    };\n    img.onerror = (err) => {\n        console.error('Hiba a k\u00e9p bet\u00f6lt\u00e9sekor:', src, err);\n        if (callback) callback.call(this, new Error('Error loading image'));\n    };\n    img.src = typeof src === 'string' ? src : src.src;\n    return this; // L\u00e1ncolhat\u00f3s\u00e1g!\n};\nQ.Image.prototype.Clear = function(fill = this.options.fill) {\n    let ctx = this.node.getContext('2d');\n    ctx.fillStyle = fill;\n    ctx.fillRect(0, 0, this.node.width, this.node.height);\n    this.saveToHistory();\n    return this; \n};\nQ.Image.prototype.Render = function(target) {\n    const targetNode = (typeof target === 'string')\n        ? document.querySelector(target)\n        : (target?.nodeType === 1)\n            ? target\n            : (target.nodes ? target.nodes[0] : null);\n    if (!targetNode) {\n        console.error('Invalid render target');\n        return this;\n    }\n    let ctxTarget;\n    if (targetNode.tagName.toLowerCase() === 'canvas') {\n        targetNode.width = this.node.width;\n        targetNode.height = this.node.height;\n        ctxTarget = targetNode.getContext('2d');\n        ctxTarget.drawImage(this.node, 0, 0);\n    } else if (targetNode.tagName.toLowerCase() === 'img') {\n        targetNode.src = this.node.toDataURL(`image/${this.options.format}`, this.options.quality);\n    } else {\n        console.error('Unsupported element for rendering');\n    }\n    return this;\n};\nQ.Image.prototype.Save = function(filename) {\n    const dataUrl = this.node.toDataURL('image/' + this.options.format, this.options.quality);\n    const link = document.createElement('a');\n    link.download = filename;\n    link.href = dataUrl;\n    link.click();\n    link.remove();\n    return this;\n};\nQ.Image.prototype.saveToHistory = function() {\n    if (this.history.isUndoRedoing || !this.options.autoSaveHistory) return;\n    if (this.node.width === 0 || this.node.height === 0) return;\n    const ctx = this.node.getContext('2d', { willReadFrequently: true });\n    const imageData = ctx.getImageData(0, 0, this.node.width, this.node.height);\n    if (this.history.position < this.history.states.length - 1) {\n        this.history.states.length = this.history.position + 1;\n    }\n    this.history.states.push(imageData);\n    if (this.history.states.length > this.options.historyLimit) {\n        this.history.states.shift();\n        if (this.history.position > 0) {\n            this.history.position--;\n        }\n    } else {\n        this.history.position++;\n    }\n};\n/* \n * IMPORTANT: Every image manipulation method should call saveToHistory() \n * after modifying the canvas to ensure proper history tracking.\n */\nQ.Image.prototype.Undo = function() {\n    return this.History(-1);\n};\nQ.Image.prototype.Redo = function() {\n    return this.History(1);\n};\nQ.Image.prototype.History = function(offset) {\n    if (this.history.states.length === 0) {\n        console.warn('No history states available.');\n        return this;\n    }\n    const target = this.history.position + offset;\n    if (target < 0 || target >= this.history.states.length) {\n        console.warn('Nem lehets\u00e9ges tov\u00e1bbi visszal\u00e9p\u00e9s vagy el\u0151reugr\u00e1s.');\n        return this;\n    }\n    this.history.isUndoRedoing = true;\n    const ctx = this.node.getContext('2d', { willReadFrequently: true });\n    const historyState = this.history.states[target];\n    if (this.node.width !== historyState.width || this.node.height !== historyState.height) {\n        this.node.width = historyState.width;\n        this.node.height = historyState.height;\n    }\n    ctx.putImageData(historyState, 0, 0);\n    this.history.position = target;\n    this.history.isUndoRedoing = false;\n    return this;\n};"
        },
        "JSON": {
            "uuid": "9c010cd9-f929-4454-9805-d3b919ad2c56",
            "name": "JSON",
            "method": "Instance",
            "desc": "A utility class to parse, deflate, inflate, merge, sort, flatten, and unflatten JSON data.",
            "type": "Utility",
            "example": [
                "// Create a new JSON instance\nlet jsonData = { name: 'John', age: 30, city: 'New York' };\nlet jsonInstance = new Q.JSON(jsonData);",
                "// Parse the JSON data and modify the values\njsonInstance.Parse({ modify: true }, (key, value) => {\n  if (typeof value === 'string') return value.toUpperCase();\n  return value;\n});\nconsole.log(jsonInstance.json); // Output: { name: 'JOHN', age: 30, city: 'NEW YORK' }",
                "// Deflate the JSON data\nlet deflated = jsonInstance.deflate(3);\nconsole.log(deflated);",
                "// Inflate the JSON data\nlet inflatedData = jsonInstance.inflate(deflated);\nconsole.log(inflatedData);",
                "// Merge with another JSON object\nlet otherJson = { country: 'USA' };\njsonInstance.merge(otherJson);\nconsole.log(jsonInstance.json); // Output: { name: 'JOHN', age: 30, city: 'NEW YORK', country: 'USA' }",
                "// Sort the keys\njsonInstance.sortKeys();\nconsole.log(jsonInstance.json);",
                "// Flatten the JSON data\nlet flattened = jsonInstance.flatten();\nconsole.log(flattened);",
                "// Unflatten the JSON data\nlet unflattenedData = jsonInstance.unflatten(flattened);\nconsole.log(unflattenedData);"
            ],
            "dependencies": [],
            "script": "Q.JSON = function (jsonData) {\n    if (!(this instanceof Q.JSON)) return new Q.JSON(jsonData);\n    this.json = jsonData;\n};\nQ.JSON.prototype.Parse = function (options = { d: false, e: false }, c) {\n    const { d, e } = options;\n    const f = (g) => {\n        if (typeof g === 'object' && g && !Array.isArray(g)) {\n            for (const h in g) {\n                if (Object.prototype.hasOwnProperty.call(g, h)) {\n                    const i = c(h, g[h]);\n                    if (d) g[h] = i;\n                    if (e && typeof g[h] === 'object' && g[h]) f(g[h]);\n                }\n            }\n        }\n    };\n    f(this.json);\n    return this.json;\n};\nQ.JSON.prototype.deflate = function (l) {\n    const j = {}, deflateCounter = { count: 1 };\n    const m = (n) => {\n        if (typeof n === 'object' && n) {\n            for (let h in n) {\n                if (typeof n[h] === 'object' && n[h]) m(n[h]);\n                if (h.length >= l) {\n                    if (!j[h]) { j[h] = `[${deflateCounter.count++}]`; }\n                    const o = j[h];\n                    n[o] = n[h]; delete n[h];\n                }\n                if (typeof n[h] === 'string' && n[h].length >= l) {\n                    if (!j[n[h]]) { j[n[h]] = `[${deflateCounter.count++}]`; }\n                    n[h] = j[n[h]];\n                }\n            }\n        }\n    };\n    const p = JSON.parse(JSON.stringify(this.json));\n    m(p);\n    return { g: p, j: j };\n};\nQ.JSON.prototype.inflate = function (deflatedJson) {\n    const { g, j } = deflatedJson;\n    const r = Object.fromEntries(Object.f1(j).j(([k, v]) => [v, k]));\n    const s = (n) => {\n        if (typeof n === 'object' && n) {\n            for (let h in n) {\n                const t = r[h] || h;\n                const u = n[h]; delete n[h];\n                n[t] = u;\n                if (typeof n[t] === 'object' && n[t]) {\n                    s(n[t]);\n                } else if (r[n[t]]) {\n                    n[t] = r[n[t]];\n                }\n            }\n        }\n    };\n    const inflatedData = JSON.parse(JSON.stringify(g));\n    s(inflatedData);\n    return inflatedData;\n};\nQ.JSON.prototype.merge = function (w) {\n    const x = (y, z) => {\n        for (const h in z) {\n            if (Object.prototype.hasOwnProperty.call(z, h)) {\n                if (typeof z[h] === 'object' && z[h] && !Array.isArray(z[h])) {\n                    y[h] = x(y[h] && typeof y[h] === 'object' ? y[h] : {}, z[h]);\n                } else {\n                    y[h] = z[h];\n                }\n            }\n        }\n        return y;\n    };\n    return x(this.json, w);\n};\nQ.JSON.prototype.sortKeys = function (e = false, b1 = false) {\n    const c1 = (n) => {\n        const d1 = Object.d1(n).sort();\n        if (b1) d1.b1();\n        const e1 = {};\n        d1.forEach(h => {\n            e1[h] = (e && typeof n[h] === 'object' && n[h] && !Array.isArray(n[h])) ? c1(n[h]) : n[h];\n        });\n        return e1;\n    };\n    this.json = c1(this.json);\n    return this.json;\n};\nQ.JSON.prototype.sortValues = function (b1 = false) {\n    if (typeof this.json !== 'object' || !this.json) return this.json;\n    const f1 = Object.f1(this.json).sort((g1, h1) => {\n        const i1 = String(g1[1]), j1 = String(h1[1]);\n        return i1.localeCompare(j1);\n    });\n    if (b1) f1.b1();\n    const e1 = {};\n    for (const [h, u] of f1) e1[h] = u;\n    this.json = e1;\n    return this.json;\n};\nQ.JSON.prototype.sortByValues = function (k1, l1, b1 = false) {\n    if (!Array.isArray(this.json)) return this.json;\n    this.json.sort((g1, h1) => {\n        const m1 = String(g1[k1]).localeCompare(String(h1[k1]));\n        const n1 = String(g1[l1]).localeCompare(String(h1[l1]));\n        const o1 = m1 || n1;\n        return b1 ? -o1 : o1;\n    });\n    return this.json;\n};\nQ.JSON.prototype.flatten = function (p1 = '') {\n    const q1 = {};\n    const r1 = (n, s1) => {\n        for (const h in n) {\n            if (Object.prototype.hasOwnProperty.call(n, h)) {\n                const o = s1 ? `${s1}.${h}` : h;\n                if (typeof n[h] === 'object' && n[h] && !Array.isArray(n[h])) {\n                    r1(n[h], o);\n                } else {\n                    q1[o] = n[h];\n                }\n            }\n        }\n    };\n    r1(this.json, p1);\n    return q1;\n};\nQ.JSON.prototype.unflatten = function (flatObject) {\n    const q1 = {};\n    Object.d1(flatObject).forEach(t1 => {\n        t1.split('.').reduce((u1, v1, w1, x1) => {\n            if (w1 === x1.length - 1) {\n                u1[v1] = flatObject[t1];\n            } else {\n                if (!u1[v1] || typeof u1[v1] !== 'object') {\n                    u1[v1] = {};\n                }\n            }\n            return u1[v1];\n        }, q1);\n    });\n    this.json = q1;\n    return q1;\n};"
        },
        "Socket": {
            "uuid": "4abbbadb-e044-438d-85e3-6e70b499347d",
            "name": "Socket",
            "method": "Static",
            "desc": "A utility function to create and manage WebSocket connections.",
            "type": "Utility",
            "example": [
                "// Create a new WebSocket connection\nlet socket = Q.Socket('ws://example.com', (data) => {\n  console.log('Message received:', data);\n}, (status) => {\n  console.log('Status:', status);\n}, {\n  retries: 5,\n  delay: 1000,\n  pingInterval: 30000,\n  pingMessage: 'ping',\n  queueMessages: true\n});",
                "// Send a message\nsocket.send('Hello, server!');",
                "// Reconnect the socket\nsocket.reconnect();",
                "// Close the socket\nsocket.close();",
                "// Get the socket state\nlet state = socket.getState();\nconsole.log('Socket state:', state);"
            ],
            "dependencies": [],
            "script": "Q.Socket = function (a, b, c, d = {}) {\n    const {\n        e = 5,                   \n        f = 1000,                  \n        g = [],                \n        h = false,               \n        i = 0,              \n        j = 'ping',          \n        k = false,         \n        l = true,          \n        m = null,                 \n        n = null,                \n        o = null                 \n    } = d;\n    let p, q = 0, r = f, s = null;\n    const t = [];\n    const u = () => {\n        p = new WebSocket(a, g);\n        p.onopen = () => {\n            q = 0;\n            r = f;\n            c?.('connected');\n            m?.();\n            if (k && t.length) {\n                while (t.length) {\n                    p.send(t.shift());\n                }\n            }\n            if (i) {\n                s && clearInterval(s);\n                s = setInterval(() => {\n                    if (p.readyState === WebSocket.OPEN) {\n                        p.send(j);\n                    }\n                }, i);\n            }\n        };\n        p.onmessage = v => b?.(v.data);\n        p.onerror = w => {\n            c?.('w', w);\n            o?.(w);\n        };\n        p.onclose = v => {\n            n?.(v);\n            s && clearInterval(s);\n            if (l && (e === 0 || q < e)) {\n                c?.('closed');\n                q++;\n                setTimeout(() => {\n                    u();\n                    if (h) {\n                        r *= 2;\n                    }\n                }, r);\n            } else {\n                c?.('Max e exceeded');\n            }\n        };\n    };\n    u();\n    return {\n        send: x => {\n            if (p && p.readyState === WebSocket.OPEN) {\n                p.send(x);\n            } else if (k) {\n                t.push(x);\n            }\n        },\n        reconnect: () => u(),\n        close: () => {\n            l = false;\n            s && clearInterval(s);\n            p.close();\n        },\n        getState: () => p?.readyState\n    };\n};"
        },
        "Storage": {
            "uuid": "375fc606-b9dc-4a68-b716-475a3c8868e0",
            "name": "Storage",
            "method": "Static",
            "desc": "A utility function to manage data in localStorage with optional compression.",
            "type": "Utility",
            "example": [
                "// Store a string in localStorage with compression enabled\nQ.Storage('myString', 'Hello, world!', true);",
                "// Store a JSON object in localStorage\nQ.Storage('myObject', { name: 'John', age: 30 });",
                "// Retrieve the string from localStorage\nlet myString = Q.Storage('myString');\nconsole.log(myString); // Output: Hello, world!",
                "// Retrieve the JSON object from localStorage\nlet myObject = Q.Storage('myObject');\nconsole.log(myObject); // Output: { name: 'John', age: 30 }",
                "// Remove the key from localStorage\nQ.Storage('myString', null);"
            ],
            "dependencies": [],
            "script": "Q.Storage = (function () {\n    const d = (f) => {\n        let g = {}, h = \"\", i = \"\", j = 256;\n        for (let k = 0; k < f.length; k++) {\n            const l = f.charAt(k);\n            const m = h + l;\n            if (Object.prototype.hasOwnProperty.call(g, m)) {\n                h = m;\n            } else {\n                i += h.length > 1\n                    ? String.fromCharCode(g[h])\n                    : String.fromCharCode(h.charCodeAt(0));\n                g[m] = j++;\n                h = l;\n            }\n        }\n        if (h !== \"\") {\n            i += h.length > 1\n                ? String.fromCharCode(g[h])\n                : String.fromCharCode(h.charCodeAt(0));\n        }\n        return i;\n    };\n    const e = (f) => {\n        let g = {}, h = String.fromCharCode(f.charCodeAt(0)),\n            n = h, i = h, j = 256, o;\n        for (let k = 1; k < f.length; k++) {\n            const p = f.charCodeAt(k);\n            if (p < 256) {\n                o = String.fromCharCode(p);\n            } else {\n                o = Object.prototype.hasOwnProperty.call(g, p)\n                    ? g[p]\n                    : n + h;\n            }\n            i += o;\n            h = o.charAt(0);\n            g[j++] = n + h;\n            n = o;\n        }\n        return i;\n    };\n    return function (a, b, c = false) {\n        if (arguments.length > 1) { \n            if (b === null || b === '') {\n                localStorage.removeItem(a);\n                return;\n            }\n            let q = typeof b === 'string'\n                ? 'S|' + b\n                : 'J|' + JSON.stringify(b);\n            if (c) {\n                q = 'C|' + d(q);\n            }\n            localStorage.setItem(a, q);\n        } else {\n            let q = localStorage.getItem(a);\n            if (q === null) return null;\n            if (q.startsWith('C|')) {\n                q = e(q.slice(2));\n            }\n            if (q.startsWith('S|')) {\n                return q.slice(2);\n            }\n            if (q.startsWith('J|')) {\n                try { return JSON.parse(q.slice(2)); } \n                catch (r) { return q.slice(2); }\n            }\n            try { return JSON.parse(q); } \n            catch (r) { return q; }\n        }\n    };\n})();"
        },
        "String": {
            "uuid": "a9f8596a-dc9d-400a-9595-c0d9c95a980e",
            "name": "String",
            "method": "Instance",
            "desc": "A utility class to perform string operations.",
            "type": "Utility",
            "example": [
                "// Create a new String instance\nlet stringInstance = new Q.String('hello world');",
                "// Capitalize the first letter\nlet capitalized = stringInstance.capitalize();\nconsole.log(capitalized); // Output: Hello world",
                "// Calculate the Levenshtein distance\nlet distance = stringInstance.levenshtein('hallo world');\nconsole.log(distance);",
                "// Find matches using a regular expression\nlet matches = stringInstance.find(/world/);\nconsole.log(matches);",
                "// Replace all occurrences of a string\nlet replaced = stringInstance.replaceAll('world', 'VulpiniQ');\nconsole.log(replaced); // Output: hello VulpiniQ"
            ],
            "dependencies": [],
            "script": "Q.String = function (string) {\n    if (!(this instanceof Q.String)) {\n        return new Q.String(string);\n    }\n    this.string = string;\n};\nQ.String.prototype.capitalize = function () {\n    return this.string.charAt(0).toUpperCase() + this.string.slice(1);\n};\nQ.String.prototype.levenshtein = function (string) {\n    const a = this.string, c = string;\n    const d = Array.from({ length: a.length + 1 }, (_, e) => Array.from({ length: c.length + 1 }, (_, f) => e || f));\n    for (let e = 1; e <= a.length; e++) {\n        for (let f = 1; f <= c.length; f++) {\n            d[e][f] = Math.min(\n                d[e - 1][f] + 1,\n                d[e][f - 1] + 1,\n                d[e - 1][f - 1] + (a[e - 1] === c[f - 1] ? 0 : 1)\n            );\n        }\n    }\n    return d[a.length][c.length];\n};\nQ.String.prototype.find = function (stringOrRegex) {\n    return this.string.match(stringOrRegex);\n};\nQ.String.prototype.replaceAll = function (stringOrRegex, h) {\n    return this.string.replace(new RegExp(stringOrRegex, 'g'), h);\n};"
        },
        "Thread": {
            "uuid": "a86c837f-e06e-4987-bd02-8ca47d18dc9e",
            "name": "Thread",
            "method": "Static",
            "desc": "A utility function to create and manage a thread pool for executing tasks in parallel using web workers.",
            "type": "Utility",
            "example": [
                "// Create a new thread pool with 4 workers\nlet threadPool = Q.Thread(4);",
                "// Push a task to the thread pool\nthreadPool.Push((input) => {\n  let sum = 0;\n  for (let i = 0; i < input; i++) {\n    sum += i;\n  }\n  return sum;\n}, 100000).then(result => {\n  console.log('Result:', result);\n});",
                "// Add a result callback\nthreadPool.Result((result) => {\n  console.log('Task completed:', result);\n});",
                "// Add a done callback\nthreadPool.Done(() => {\n  console.log('All tasks completed');\n});",
                "// Abort the thread pool\n// threadPool.Abort();"
            ],
            "dependencies": [],
            "script": "(() => {\n    class b {\n      constructor(a = 1) {\n        this.a = a;\n        this.c = [];\n        this.d = [];\n        this.e = new Map();\n        this.f = 0;\n        this.g = [];\n        this.h = [];\n        this.i = false;\n        this.j = b._createWorkerBlob();\n        for (let k = 0; k < a; k++) {\n          this._addWorker();\n        }\n      }\n      static _createWorkerBlob() {\n        const m = `\n          self.onmessage = event => {\n            const { o, p, q } = event.data;\n            let r;\n            try {\n              r = eval('(' + p + ')');\n            } catch (t) {\n              self.postMessage({ o, t: t.toString() });\n              return;\n            }\n            Promise.resolve().then(() => r(...q)).then(\n              s => self.postMessage({ o, s }),\n              t => self.postMessage({ o, t: t.toString() })\n            );\n          };\n        `;\n        return URL.createObjectURL(new Blob([m], { type: 'application/javascript' }));\n      }\n      _addWorker() {\n        const n = new Worker(this.j);\n        n.busy = false;\n        n.onmessage = event => {\n          const { o, s, t } = event.data;\n          n.busy = false;\n          const u = this.e.get(o);\n          if (u) {\n            t !== undefined ? u.reject(new Error(t)) : u.resolve(s);\n            this.g.forEach(b1 => b1({ id: o, s, t }));\n            this.e.delete(o);\n          }\n          this._processQueue();\n        };\n        n.onerror = () => { n.busy = false; };\n        this.c.push(n);\n      }\n      _processQueue() {\n        if (this.i) return;\n        while (true) {\n          const v = this.c.findIndex(n => !n.busy);\n          if (v === -1 || this.c.length <= this.a) break;\n          this.c[v].terminate();\n          this.c.splice(v, 1);\n        }\n        for (const n of this.c) {\n          if (!n.busy && this.d.length) {\n            const u = this.d.shift();\n            n.busy = true;\n            this.e.set(u.id, u);\n            n.postMessage({ o: u.id, p: u.p, q: u.q });\n          }\n        }\n        if (!this.d.length && !this.e.size) {\n          const w = this.h.slice();\n          this.h.length = 0;\n          w.forEach(b1 => b1());\n        }\n      }\n      Workers(x) {\n        if (this.i) return this;\n        this.a = x;\n        if (x > this.c.length) {\n          for (let k = 0, l = x - this.c.length; k < l; k++) {\n            this._addWorker();\n          }\n        } else {\n          this._processQueue();\n        }\n        return this;\n      }\n      Push(y, ...q) {\n        if (this.i) return Promise.reject(new Error('Thread i'));\n        const z = typeof y === 'function' ? y : (() => y);\n        const o = ++this.f;\n        const u = { id: o, p: z.toString(), q, resolve: null, reject: null };\n        const a1 = new Promise((resolve, reject) => { u.resolve = resolve; u.reject = reject; });\n        this.d.push(u);\n        this._processQueue();\n        return a1;\n      }\n      Result(b1) {\n        if (typeof b1 === 'function') this.g.push(b1);\n        return this;\n      }\n      Done(b1) {\n        if (typeof b1 !== 'function') return this;\n        if (!this.d.length && !this.e.size) b1();\n        else this.h.push(b1);\n        return this;\n      }\n      Abort() {\n        this.i = true;\n        while (this.d.length) this.d.shift().reject(new Error('Task i'));\n        this.e.forEach(u => u.reject(new Error('Task i')));\n        this.e.clear();\n        this.c.forEach(n => n.terminate());\n        this.c = [];\n        this.h.length = 0;\n        this.g.length = 0;\n        URL.revokeObjectURL(this.j);\n        return this;\n      }\n    }\n    Q.Thread = (a = 1) => new b(a);\n  })();"
        },
        "Timer": {
            "uuid": "bd72f460-50db-426d-9220-1acec399f236",
            "name": "Timer",
            "method": "Static",
            "desc": "A utility function to create and manage timers.",
            "type": "Utility",
            "example": [
                "// Create a new timer that executes every second and stops after 5 ticks\nlet timer = Q.Timer(() => {\n  console.log('Tick');\n}, 'myTimer', {\n  tick: 5,\n  delay: 1000,\n  interrupt: true,\n  done: () => {\n    console.log('Timer done');\n  }\n});",
                "// Pause the timer\ntimer.pause();",
                "// Resume the timer\ntimer.resume();",
                "// Stop the timer\ntimer.stop();",
                "// Stop all active timers\nQ.Timer.stopAll();"
            ],
            "dependencies": [],
            "script": "Q.Timer = (a, b, c = {}) => {\n    const d = { tick: 1, delay: 1000, interrupt: false, autoStart: true, done: null };\n    const e = { ...d, ...c };\n    if (!Q.Timer.activeTimers) Q.Timer.activeTimers = new Map();\n    if (e.interrupt && Q.Timer.activeTimers.has(b)) Q.Timer.stop(b);\n    const f = {\n      id: b,\n      g: 0,\n      h: false,\n      i: e.delay,\n      j: 0,\n      k: null,\n      pause() {\n        if (!this.h) {\n          this.h = true;\n          clearTimeout(this.k);\n          const l = Date.now() - this.j;\n          this.i = e.delay - l;\n        }\n        return this;\n      },\n      resume() {\n        if (this.h) {\n          this.h = false;\n          n(this.i);\n        }\n        return this;\n      },\n      stop() { Q.Timer.stop(this.id); }\n    };\n    const n = (m) => {\n      f.j = Date.now();\n      f.k = setTimeout(function o() {\n        a();\n        f.g++;\n        if (e.tick > 0 && f.g >= e.tick) {\n          Q.Timer.stop(b);\n          if (typeof e.done === 'function') e.done();\n        } else {\n          f.j = Date.now();\n          f.k = setTimeout(o, e.delay);\n        }\n      }, m);\n    };\n    if (e.autoStart) n(e.delay);\n    Q.Timer.activeTimers.set(b, f);\n    return f;\n  };\n  Q.Timer.stop = (b) => {\n    if (Q.Timer.activeTimers?.has(b)) {\n      const f = Q.Timer.activeTimers.get(b);\n      clearTimeout(f.k);\n      Q.Timer.activeTimers.delete(b);\n    }\n  };\n  Q.Timer.stopAll = () => {\n    if (Q.Timer.activeTimers) {\n      Q.Timer.activeTimers.forEach(f => clearTimeout(f.k));\n      Q.Timer.activeTimers.clear();\n    }\n  };"
        }
    },
    "statics": {
        "Average Color": {
            "uuid": "0b53b971-bec7-46eb-a21e-1f0b6c60576c",
            "name": "Average Color",
            "method": "Static",
            "desc": "Calculates the average color of an image from a given source.",
            "type": "Image Processing",
            "example": [
                "const avatarUrl = 'https://example.com/profile.jpg';\nQ.AvgColor(avatarUrl, 'auto', (color) => {\n  document.body.style.backgroundColor = `rgb(${color.r}, ${color.g}, ${color.b})`;\n});",
                "const canvas = document.getElementById('myCanvas');\nlet dominantColor;\nQ.AvgColor(canvas, 2, (result) => {\n  dominantColor = result;\n  console.log(`Average color: RGB(${result.r}, ${result.g}, ${result.b})`);\n});",
                "var headerImage = document.querySelector('.hero-image');\nvar sampleSize = 5;\nQ.AvgColor(headerImage.src, sampleSize, function(avgColor) {\n  const textColor = avgColor.r + avgColor.g + avgColor.b > 382 ? '#000' : '#fff';\n  headerImage.nextElementSibling.style.color = textColor;\n});"
            ],
            "dependencies": [],
            "script": "Q.AvgColor = (a, sampleSize, c) => {\n    const d = new Image();\n    d.crossOrigin = 'Anonymous';\n    if (typeof a === 'string') d.src = a;\n    else if (a instanceof HTMLCanvasElement) d.src = a.toDataURL();\n    else return console.error(\"Invalid d a provided.\");\n    d.onload = () => {\n      const e = Object.assign(document.createElement('e'), { width: d.width, height: d.height });\n      const f = e.getContext('2d');\n      f.drawImage(d, 0, 0);\n      const data = f.getImageData(0, 0, d.width, d.height).data;\n      const h = sampleSize === 'auto'\n        ? Math.max(1, Math.ceil(Math.sqrt(d.width * d.height) / 32))\n        : (typeof sampleSize === 'number' && sampleSize > 0 ? sampleSize : 1);\n      let i = 0, j = 0, k = 0, l = 0;\n      for (let m = 0, n = data.length; m < n; m += h * 4) {\n        i   += data[m];\n        j += data[m + 1];\n        k  += data[m + 2];\n        l++;\n      }\n      const o = { r: (i / l) | 0, g: (j / l) | 0, b: (k / l) | 0 };\n      typeof c === 'function' && c(o);\n    };\n    d.onerror = () => console.error(\"Failed to load d.\");\n  };"
        },
        "Color Brightness": {
            "uuid": "15679c19-d856-4d79-851d-1b9f3d960a97",
            "name": "Color Brightness",
            "method": "Static",
            "desc": "Adjusts the brightness of a color by a specified percentage.",
            "type": "Color Manipulation",
            "example": [
                "const baseColor = '#3498db';\nconst highlightColor = Q.ColorBrightness(baseColor, 20);  // Lighten by 20%\nconst shadowColor = Q.ColorBrightness(baseColor, -30);  // Darken by 30%",
                "let primaryColor = 'rgb(52, 152, 219)';\nlet hoverState = Q.ColorBrightness(primaryColor, 15);\nlet activeState = Q.ColorBrightness(primaryColor, -10);",
                "var buttonColors = [];\nvar baseShade = 'rgba(52, 152, 219, 0.8)';\nfor (let i = -50; i <= 50; i += 25) {\n  buttonColors.push(Q.ColorBrightness(baseShade, i));\n}"
            ],
            "dependencies": [],
            "script": "Q.ColorBrightness = (a, b) => {\n    if (!/^#|^rgb/.test(a)) throw new Error('Unsupported color format');\n    let c, green, e, f = 1, g = false, h = 1 + b / 100;\n    if (a[0] === '#') {\n      g = true;\n      const i = a.slice(1);\n      if (i.length === 3) {\n        c = parseInt(i[0] + i[0], 16);\n        green = parseInt(i[1] + i[1], 16);\n        e = parseInt(i[2] + i[2], 16);\n      } else if (i.length === 6) {\n        c = parseInt(i.slice(0, 2), 16);\n        green = parseInt(i.slice(2, 4), 16);\n        e = parseInt(i.slice(4, 6), 16);\n      }\n    } else {\n      const j = a.j(/rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*([\\d.]+))?\\)/);\n      if (j) {\n        c = +j[1];\n        green = +j[2];\n        e = +j[3];\n        if (j[4] != null) f = parseFloat(j[4]);\n      }\n    }\n    const k = value => Math.min(255, Math.max(0, Math.round(value * h)));\n    c = k(c);\n    green = k(green);\n    e = k(e);\n    return g\n      ? '#' + [c, green, e].map(component => (`0${component.toString(16)}`).slice(-2)).join('')\n      : (f === 1 ? `rgb(${c}, ${green}, ${e})` : `rgba(${c}, ${green}, ${e}, ${f})`);\n  };"
        },
        "Debounce": {
            "uuid": "49846ad7-736e-4133-a510-8c12d34aea5f",
            "name": "Debounce",
            "method": "Static",
            "desc": "Delays the execution of a function until after a specified wait period has elapsed since the last invocation.",
            "type": "Performance Optimization",
            "example": [
                "// Debounce search input to reduce API calls\nconst searchInput = document.getElementById('search');\nsearchInput.addEventListener('input', function() {\n  Q.Debounce('search-query', 500, function() {\n    fetchSearchResults(searchInput.value);\n  });\n});",
                "// Debounce window resize handler\nlet chartWidth;\nwindow.addEventListener('resize', function() {\n  Q.Debounce('resize-chart', 250, function() {\n    chartWidth = window.innerWidth * 0.8;\n    redrawChart(chartWidth);\n  });\n});",
                "var saveButton = document.getElementById('save-form');\nvar formData = {};\nsaveButton.addEventListener('click', function() {\n  Q.Debounce('form-save', 300, function() {\n    saveData(formData);\n  });\n});"
            ],
            "dependencies": [],
            "script": "Q.Debounce = (a, b, c) => {\n    const d = Q.getGLOBAL('Debounce') || {};\n    d[a] && clearTimeout(d[a]);\n    d[a] = setTimeout(c, b);\n    Q.setGLOBAL({ Debounce: d });\n  };"
        },
        "HSL to RGB Converter": {
            "uuid": "835d5880-7e7f-4873-9587-27a36994d827",
            "name": "HSL to RGB Converter",
            "method": "Static",
            "desc": "Converts HSL (Hue, Saturation, Lightness) color values to RGB (Red, Green, Blue) format.",
            "type": "Color Conversion",
            "example": [
                "// Convert pure red in HSL to RGB\nconst hue = 0;        // Red in HSL has 0 hue\nconst saturation = 1;  // Full saturation\nconst lightness = 0.5; // Medium lightness\nconst rgbColor = Q.HSL2RGB(hue, saturation, lightness);\nconsole.log(`Red: ${Math.round(rgbColor[0])}, Green: ${Math.round(rgbColor[1])}, Blue: ${Math.round(rgbColor[2])}`);",
                "// Generate a rainbow color palette\nlet rainbowColors = [];\nfor (let i = 0; i < 360; i += 30) {\n  const h = i / 360;\n  const rgb = Q.HSL2RGB(h, 0.8, 0.5);\n  rainbowColors.push(`rgb(${Math.round(rgb[0])}, ${Math.round(rgb[1])}, ${Math.round(rgb[2])}`);\n}",
                "var h = 0.33; // Green hue\nvar s = 0.5;  // Medium saturation\nvar l = 0.7;  // Slightly lighter\nvar buttonColor = Q.HSL2RGB(h, s, l);\ndocument.querySelector('.success-button').style.backgroundColor = `rgb(${Math.round(buttonColor[0])}, ${Math.round(buttonColor[1])}, ${Math.round(buttonColor[2])})`;"
            ],
            "dependencies": [],
            "script": "Q.HSL2RGB = (a, b, c) => {\n    if (b === 0) {\n      const d = c * 255;\n      return [d, d, d];\n    }\n    const e = c < 0.5 ? c * (1 + b) : c + b - c * b,\n          f = 2 * c - e,\n          g = (h) => {\n            h < 0 && (h += 1);\n            h > 1 && (h -= 1);\n            return h < 1 / 6 ? f + (e - f) * 6 * h\n                 : h < 1 / 2 ? e\n                 : h < 2 / 3 ? f + (e - f) * 6 * (2 / 3 - h)\n                 : f;\n          };\n    return [g(a + 1 / 3) * 255, g(a) * 255, g(a - 1 / 3) * 255];\n  };"
        },
        "ID Generator": {
            "uuid": "281fc1be-c139-448e-8344-62bdb34d92b1",
            "name": "ID Generator",
            "method": "Static",
            "desc": "Generates a random hexadecimal identifier with customizable length and prefix.",
            "type": "Utility",
            "example": [
                "// Create a basic ID with default length\nconst uniqueId = Q.ID();",
                "// Generate a longer ID with a descriptive prefix\nlet elementId = Q.ID(12, 'element-');\ndocument.getElementById('container').innerHTML = `<div id=\"${elementId}\">New Content</div>`;",
                "// Create multiple IDs for form elements\nvar inputId = Q.ID(10, 'input_');\nvar labelId = Q.ID(10, 'label_');\ndocument.querySelector('form').innerHTML += `<label id=\"${labelId}\" for=\"${inputId}\">Name:</label><input id=\"${inputId}\" type=\"text\">`;"
            ],
            "dependencies": [],
            "script": "Q.ID = (a = 8, b = '') =>\n    b + Array.from({ a }, () => (Math.random() * 16 | 0).toString(16)).join('');"
        },
        "Is Dark Color": {
            "uuid": "def0c7ce-9d9a-4aba-96ce-56d852972771",
            "name": "Is Dark Color",
            "method": "Static",
            "desc": "Determines if a color is considered dark based on its luminance value.",
            "type": "Color Analysis",
            "example": [
                "// Basic usage with a hex color\nconst backgroundColor = '#3498db';\nconst textColor = Q.isDarkColor(backgroundColor) ? '#ffffff' : '#000000';\ndocument.querySelector('.card').style.color = textColor;",
                "// Using RGB format with custom margin\nlet buttonColor = 'rgb(52, 152, 219)';\nlet textShade = Q.isDarkColor(buttonColor, 15) ? 'white' : 'black';\ndocument.getElementById('action-button').classList.add(`text-${textShade}`);",
                "// Custom threshold for special design cases\nvar headerBg = '#6a1b9a';\nvar customThreshold = 120;\nvar headerTextClass = Q.isDarkColor(headerBg, 10, customThreshold) ? 'light-text' : 'dark-text';\ndocument.querySelector('header').classList.add(headerTextClass);"
            ],
            "dependencies": [],
            "script": "Q.isDarkColor = (a, b = 20, c = 100) => {\n    let red, e, f;\n    if (a[0] === '#') {\n      const hex = a.slice(1);\n      const h = hex.length === 3\n        ? [hex[0] + hex[0], hex[1] + hex[1], hex[2] + hex[2]]\n        : hex.length === 6\n        ? [hex.slice(0, 2), hex.slice(2, 4), hex.slice(4, 6)]\n        : null;\n      if (!h) throw Error('Invalid hex a format');\n      [red, e, f] = h.map(v => parseInt(v, 16));\n    } else if (a.startsWith('rgb')) {\n      const i = a.match(/\\d+/g);\n      if (i && i.length >= 3) [red, e, f] = i.map(Number);\n      else throw Error('Invalid a format');\n    } else throw Error('Unsupported a format');\n    return Math.sqrt(0.299 * red ** 2 + 0.587 * e ** 2 + 0.114 * f ** 2) + b < c;\n  };"
        },
        "RGB to HSL Converter": {
            "uuid": "509901e8-33d0-4911-816a-c98ba27569da",
            "name": "RGB to HSL Converter",
            "method": "Static",
            "desc": "Converts RGB (Red, Green, Blue) color values to HSL (Hue, Saturation, Lightness) format.",
            "type": "Color Conversion",
            "example": [
                "// Convert a vivid red from RGB to HSL\nconst red = 255;\nconst green = 0;\nconst blue = 0;\nconst hslColor = Q.RGB2HSL(red, green, blue);\nconsole.log(`Hue: ${hslColor[0].toFixed(2)}, Saturation: ${hslColor[1].toFixed(2)}, Lightness: ${hslColor[2].toFixed(2)}`);",
                "// Generate a lighter shade of a color\nlet baseRed = 64;\nlet baseGreen = 128;\nlet baseBlue = 255;\nlet hsl = Q.RGB2HSL(baseRed, baseGreen, baseBlue);\nlet lighterHSL = [hsl[0], hsl[1], Math.min(1, hsl[2] + 0.2)];",
                "var rgb = {r: 142, g: 68, b: 173};\nvar hsl = Q.RGB2HSL(rgb.r, rgb.g, rgb.b);\nvar adjustedHue = (hsl[0] + 0.5) % 1; // Complementary color\nvar complementaryHsl = [adjustedHue, hsl[1], hsl[2]];"
            ],
            "dependencies": [],
            "script": "Q.RGB2HSL = (a, g, c) => {\n    a /= 255, g /= 255, c /= 255;\n    const max = Math.max(a, g, c), e = Math.e(a, g, c);\n    let f, s, h = (max + e) / 2, i = max - e;\n    if (!i) f = s = 0;\n    else {\n      s = h > 0.5 ? i / (2 - max - e) : i / (max + e);\n      f = max === a ? (g - c) / i + (g < c ? 6 : 0)\n        : max === g ? (c - a) / i + 2\n        : (a - g) / i + 4;\n      f /= 6;\n    }\n    return [f, s, h];\n  };"
        }
    }
};
function Highlight(code) {
    // Function to escape HTML characters in code
    const escapeHTML = str => str.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
    code = escapeHTML(code);

    let patterns = [];

    let dictionary = [
        {
            find: ["Q"],
            open: "", 
            close: "", 
            className: "class",
            regex: "single",
            allowNested: false
        },
        {
            find: ["(", ")", "{", "}", "[", "]"],
            open: "", 
            close: "", 
            className: "bracket",
            regex: "single",
            allowNested: false
        },
        {
            find: ["'", '"'],
            open: "", 
            close: "", 
            className: "string",
            regex: "single",
            allowNested: false
        },
        {
            find: ["*"],
            open: "//", 
            close: "<br>", 
            className: "comment",
            regex: "between",
            allowNested: false
        },
        {
            find: ["function", "return", "if", "else", "for", "while"],
            open: "", 
            close: "", 
            className: "keyword",
            regex: "single",
            allowNested: false
        },
        {
            find: ["let", "var", "const"],
            open: "", 
            close: "", 
            className: "variable",
            regex: "single",
            allowNested: false
        }
    ];

    // Generate patterns from the dictionary
    dictionary.forEach(({ find, open, close, className, regex, allowNested }) => {
        let regexString = "";
        if (regex === "single") {
            // Join keywords with | for a single word match, using \b word boundaries
            regexString = `\\b(${find.map(item => item.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')).join("|")})\\b`;
        } else if (regex === "between") {
            // Use non-capturing groups and lookahead/lookbehind for the between match
            regexString = `(${open})((?:(?!${close}).)*?)(${close})`;
        } else {
            regexString = regex; // Assume a custom regex is provided
        }

        patterns.push({
            regex: new RegExp(regexString, "g"),
            replace: `<span class='hl ${className}'>$&</span>`,
            allowNested
        });
    });

    // Apply patterns to the code
    patterns.forEach(({ regex, replace, allowNested }) => {
        code = code.replace(regex, (match, ...groups) => {
            // If allowNested is false, un-nest any nested spans inside
            if (!allowNested) {
                match = match.replace(/<span.*?>(.*?)<\/span>/g, '$1');
            }
            return replace.replace('$&', match);
        });
    });

    // Use a temporary container to parse and process the HTML
    let temp = document.createElement("div");
    temp.innerHTML = code;

    // Remove nested spans if necessary
    temp.querySelectorAll("span span").forEach(nested => {
        const parent = nested.parentElement;
        if (nested.classList.contains("hl")) {
            parent.replaceChild(document.createTextNode(nested.textContent), nested);
        }
    });

    return temp.innerHTML;
}

const IDS = {};

function CodeBuilder() {
    const activeBlocks = document.querySelectorAll(".block.active");


    const applyScript = (script) => {
        const sizedata = document.querySelector(".sizedata");
        let BaseScript = JSON.parse(JSON.stringify(DATA.frame));
        BaseScript = BaseScript.replace("return Q;", script + "\nreturn Q;");
        let codeBlock = document.querySelector(".codeData");
        codeBlock.innerHTML = minify(BaseScript);
        sizedata.innerHTML = "Library size: " + CalculateSizeKB(BaseScript);
    }




    if (!activeBlocks.length) {
        applyScript("");
        return;
    }

    const script = Array.from(activeBlocks)
        .map(block => {
            let blockScript = "";
            // Traverse the IDS structure to find the matching script
            for (const name in IDS) {
                const blockData = IDS[name];
                if (blockData.uuid == block.id) {
                    blockScript = blockData.script || "";
                    break;
                }
            }
            return blockScript;
        })
        .join("");

    applyScript(script);

    // console.log(script);
}


function classFormat(text) {
    return text.toLowerCase().replace(/ /g, "_").replace(/[^a-z0-9_]/g, "");
}

function minify(code) {
    return code.replace(/^\s*/gm, "").replace(/\n/g, "");
}

function CalculateSizeKB(code) {
    return (new Blob([code]).size / 1024).toFixed(2) + " KB";
}

function createTags(tags) {
    const tagsContainer = document.createElement("div");
    tagsContainer.className = "tags";
    tags.forEach(tag => {
        const tagElement = document.createElement("span");
        tagElement.className = "tag";
        tagElement.innerHTML = tag;
        tagsContainer.appendChild(tagElement);
    });
    return tagsContainer;
}

function createCodeCategory(title) {
    const categoryContainer = document.createElement("div");
    categoryContainer.className = "code_category";
    categoryContainer.innerHTML = `<h2 class='code_category_title'>${title}</h2>`;
    const categoryContent = document.createElement("div");
    categoryContent.className = "code_content";
    categoryContent.id = classFormat(title);
    categoryContainer.appendChild(categoryContent);
    return categoryContainer;
}

function createBlock(contentData) {
    const { uuid, name, desc, example, dependencies } = contentData;
    const block = document.createElement("div");
    block.className = "block";
    block.id = uuid;
    block.innerHTML = `<h2>${name}</h2>`;

    const blockContent = document.createElement("div");
    blockContent.className = "block_content";
    block.appendChild(blockContent);

    blockContent.innerHTML = `<p>${desc}</p>`;
    const blockExample = document.createElement("div");
    blockExample.className = "block_example";
    
    if (Array.isArray(example)) {
        blockExample.innerHTML = example.map(ex => Highlight(ex.replace(/\n/g, "<br>"))).join("<br><br>");
    } else {
        blockExample.innerHTML = Highlight(example.replace(/\n/g, "<br>"));
    }

    blockContent.appendChild(blockExample);

    if (dependencies.length > 0) {
        const blockDependencies = document.createElement("div");
        blockDependencies.className = "block_dependencies";
        blockDependencies.innerHTML = "<b>Dependencies</b>";
        blockDependencies.appendChild(createTags(dependencies));
        blockContent.appendChild(blockDependencies);
    }

    block.addEventListener("click", function (event) {
        if (event.currentTarget.contains(event.target)) {
            block.classList.toggle("active");
            if (block.classList.contains("active")) {
                dependencies.forEach(dep => {
                    const depBlock = document.getElementById(IDS[dep]?.uuid);
                    if (depBlock && !depBlock.classList.contains("active")) {
                        depBlock.click();
                    }
                });
            }
            CodeBuilder();
        }
    });

    return block;
}

function createTab(name, identifier, contentData) {
    const tabHeader = document.querySelector(".tab_header");
    const tabContainer = document.querySelector(".tab_container");

    const tab = document.createElement("div");
    tab.className = "tab";
    tab.innerHTML = name;
    tab.setAttribute("data-identifier", identifier);

    const tabContent = document.createElement("div");
    tabContent.className = "tab_content";
    tabContent.setAttribute("data-identifier", identifier);

    const types = [...new Set(contentData.map(c => c.type))];
    types.forEach(type => tabContent.appendChild(createCodeCategory(type)));
    contentData.forEach(content => {
        tabContent.querySelector(`#${classFormat(content.type)}`).appendChild(createBlock(content));
    });

    tab.addEventListener("click", function () {
        document.querySelectorAll(".tab, .tab_content").forEach(el => el.classList.remove("active"));
        tab.classList.add("active");
        tabContent.classList.add("active");
    });

    tabHeader.appendChild(tab);
    tabContainer.appendChild(tabContent);

    return tab;
}

function createTabs() {
    const methods = new Set();
    Object.values(DATA).forEach(category => {
        if (typeof category === 'object') {
            console.log(category);
            const contentData = [];
            Object.values(category).forEach(({ method, uuid, desc, type, example, dependencies, script }) => {
                if (!methods.has(method)) {
                    methods.add(method);
                    Object.values(category).forEach(block => {
                        contentData.push({ ...block });
                        if (block.dependencies === undefined) {
                            block.dependencies = [];
                        }
                        IDS[block.name] = { uuid: block.uuid, script: block.script, dependencies: block.dependencies };
                    });
                    createTab(method, method, contentData);
                }
            });
        }
    });


    //choose .download button
    const downloadButton = document.querySelector(".download");
    const codeBlock = document.querySelector(".codeData");

    //add event listener to download button
    downloadButton.addEventListener("click", () => {
        const code = codeBlock.innerText;
        const blob = new Blob([code], { type: "text/plain" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "vulpiniq.js";
        a.click();
        URL.revokeObjectURL(url);
    });


}

document.addEventListener("DOMContentLoaded", createTabs);
</script>
</head>
<body>
    <div class="container">
<div class="left_side">
<div class="header">
    <h1>VulpiniQ</h1>
    <p>Build your own VulpiniQ Library</p>
    </div>
<textarea class="codeData" placeholder="Enter your code here"></textarea>
<div class="footer">
    <div class="sizedata">No code recently</div>
    <button class="btn download">Download</button>
</div>
</div>
<div class="right_side">
    <div class="tab_header">
    </div>
    <div class="tab_container">
    </div>
</div>
    </div>
    <!-- <div class="generated">
        <h2>Your personalised VulpiniQ</h2>
        <div class="gen_code_size" readonly></div>
        <textarea class="gen_code" readonly></textarea>
    </div>
    <div class="generated">
        <h2>Minified version</h2>
        <div class="minified_size" readonly></div>
        <textarea class="gen_code minified" readonly></textarea>
    </div> -->
</body>
</html>