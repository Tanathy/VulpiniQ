<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>VulpiniQ</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: #1d1d1d;
            color: #a3a3a3;
            line-height: 1.6;
            font-size: 12px;
        }

        .collection {
            margin: 5px;
            background-color: #ffffff0a;
            border-radius: 10px;
        }

        .collection_title {
            font-size: 24px;
            font-weight: bold;
            color: #949494;
            padding: 0px 10px;
        }

        .collection_content {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        }

        .card {
            user-select: none;
            cursor: default;
            background-color: rgba(255, 255, 255, 0.04);
            color: #7e7e7e;
            border-radius: 10px;
            width: 300px;
            padding: 5px;
            margin: 10px;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }

        .card_header {
            font-size: 20px;
            font-weight: bold;
            color: #949494;
        }

        .card_description {
            font-size: 14px;
            margin-bottom: 10px;
        }

        .card_active,
        .card:hover {
            background-color: rgba(197, 146, 231, 0.178);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.4);
            color: #b9b9b9;
        }


        .card_example {
            color: #a4eec5;
            margin-top: 10px;
        }


        .bracket {
            color: #e7e192;
        }

        .bracket_inner {
            color: #96a8f5;
        }

        .class,
        .object {
            color: #bb6485;
            font-weight: bold;
        }

        .keyword {
            color: #f78c6c;
        }

        .operator {
            color: #ff5370;
        }

        .method {
            color: #82aaff;
        }

        .string {
            color: #d8a378;
            font-weight: bold;
        }

        .number {
            color: #f78c6c;
        }

        .generated {
            margin-top: 30px;
        }

        .gen_code {
            font-size: 12px;
            color: #a3a3a3;
            padding: 10px;
            background-color: #1d1d1d;
            border-radius: 10px;
            margin: 10px;
            overflow: auto;
            width: calc(100% - 20px);
            height: 150px;
        }
    </style>

    <script>

        var source = "const Q = (() => {\n    'use strict';\n\n    function Q(selector, attributes, directProps) {\n        if (!(this instanceof Q)) {\n            return new Q(selector, attributes, directProps);\n        }\n        else if (selector instanceof HTMLElement || selector instanceof Node) {\n            this.nodes = [selector];\n            return;\n        }\n        else if (selector instanceof Q) {\n            this.nodes = selector.nodes;\n            return;\n        }\n        else if (selector instanceof NodeList) {\n            this.nodes = Array.from(selector);\n            return;\n        }\n        else if (typeof selector === 'string') {\n            const isCreating = selector.includes('<');\n\n            if (isCreating) {\n                const fragment = document.createDocumentFragment();\n                const pseudoElement = document.createElement('div');\n                pseudoElement.innerHTML = selector;\n                while (pseudoElement.firstChild) {\n                    fragment.appendChild(pseudoElement.firstChild);\n                }\n                this.nodes = Array.from(fragment.childNodes);\n\n                if (attributes) {\n                    this.nodes.forEach(el => {\n                        for (const [attr, value] of Object.entries(attributes)) {\n                            if (attr === 'class') {\n                                el.classList.add(...value.split(' '));\n                            } else {\n                                el.setAttribute(attr, value);\n                            }\n                        }\n                    });\n                }\n                if (directProps) {\n                    this.nodes.forEach(el => {\n                        for (const prop of directProps) {\n                            el[prop] = true;\n                        }\n                    });\n                }\n            } else {\n                let elem = document.querySelectorAll(selector);\n                this.nodes = Array.from(elem);\n            }\n        }\n    }\n    //METHODS//\n    //EXTENSIONS//\n    return Q;\n})();";
var methods = {
    "addClass": {
        "Name": "addClass",
        "Method": "Prototype",
        "Desc": "Adds one or more classes to each node.",
        "Type": "Class Manipulation",
        "Example": "Q(selector).addClass(\"class1 class2\");",
        "Script": "Q.prototype.addClass = function (classes) {\n    const classList = classes.split(' ');\n    return this.each(el => this.nodes[el].classList.add(...classList));\n};"
    },
    "animate": {
        "Name": "animate",
        "Method": "Prototype",
        "Desc": "Animates each node with specific CSS properties.",
        "Type": "Animation",
        "Example": "Q(selector).animate(duration, { opacity: 0, left: \"50px\" }, callback);",
        "Script": "Q.prototype.animate = function (duration, properties, callback) {\n    return this.each(el => {\n        const element = this.nodes[el];\n        const transitionProperties = Object.keys(properties).map(prop => `${prop} ${duration}ms`).join(', ');\n        element.style.transition = transitionProperties;\n        for (const prop in properties) {\n            element.style[prop] = properties[prop];\n        }\n        if (typeof callback === 'function') {\n            setTimeout(() => {\n                if (callback) callback.call(element);\n            }, duration);\n        }\n    }), this;\n};"
    },
    "append": {
        "Name": "append",
        "Method": "Prototype",
        "Desc": "Appends child nodes or HTML to each node.",
        "Type": "DOM Manipulation",
        "Example": "Q(selector).append(\"<div>Appended</div>\");",
        "Script": "Q.prototype.append = function (...nodes) {\n    return this.each(el => {\n        const parent = this.nodes[el];\n\n        nodes.forEach(child => {\n\n            if (typeof child === 'string') {\n                parent.insertAdjacentHTML('beforeend', child);\n            } else if (child instanceof HTMLElement || child instanceof Q) {\n                parent.appendChild(child.nodes[0]);\n            } else if (Array.isArray(child) || child instanceof NodeList) {\n                Array.from(child).forEach(subchild => parent.appendChild(subchild));\n            }\n        });\n    });\n};"
    },
    "attr": {
        "Name": "attr",
        "Method": "Prototype",
        "Desc": "Gets or sets attributes on the nodes. Can handle multiple attributes if provided as an object.",
        "Type": "Attribute Manipulation",
        "Example": "Q(selector).attr(attribute, value);",
        "Script": "Q.prototype.attr = function (attribute, value) {\n    if (typeof attribute === 'object') {\n        return this.each(el => {\n            for (let key in attribute) {\n                if (attribute.hasOwnProperty(key)) {\n                    this.nodes[el].setAttribute(key, attribute[key]);\n                }\n            }\n        });\n    } else {\n        if (value === undefined) {\n            return this.nodes[0]?.getAttribute(attribute) || null;\n        }\n        return this.each(el => this.nodes[el].setAttribute(attribute, value));\n    }\n};"
    },
    "bind": {
        "Name": "bind",
        "Method": "Prototype",
        "Desc": "Adds an event listener to each node with the ability to use event delegation.",
        "Type": "Event Handling",
        "Example": "Q(selector).bind(\"click\", () => console.log(\"Clicked\"));",
        "Script": "Q.prototype.bind = function (event, handler) {\n    if (!this._eventDelegation) {\n        this._eventDelegation = {};\n    }\n\n    if (!this._eventDelegation[event]) {\n        document.addEventListener(event, (e) => {\n            this.each(el => {\n                if (this.nodes[el].contains(e.target)) {\n                    handler.call(e.target, e);\n                }\n            });\n        });\n        this._eventDelegation[event] = true;\n    }\n    return this;\n};"
    },
    "blur": {
        "Name": "blur",
        "Method": "Prototype",
        "Desc": "Blurs the first node.",
        "Type": "Form Manipulation",
        "Example": "Q(selector).blur();",
        "Script": "Q.prototype.blur = function () {\n    return this.each(el => this.nodes[el].blur());\n};"
    },
    "children": {
        "Name": "children",
        "Method": "Prototype",
        "Desc": "Returns the children of the first node.",
        "Type": "Traversal",
        "Example": "Q(selector).children();",
        "Script": "Q.prototype.children = function () {\n    return new Q(this.nodes[0].children);\n};"
    },
    "click": {
        "Name": "click",
        "Method": "Prototype",
        "Desc": "Triggers a click event on each node.",
        "Type": "Event Handling",
        "Example": "Q(selector).click();",
        "Script": "Q.prototype.click = function () {\n    return this.each(el => this.nodes[el].click());\n};"
    },
    "clone": {
        "Name": "clone",
        "Method": "Prototype",
        "Desc": "Clones the first node.",
        "Type": "DOM Manipulation",
        "Example": "Q(selector).clone();",
        "Script": "Q.prototype.clone = function () {\n    return new Q(this.nodes[0].cloneNode(true));\n};"
    },
    "closest": {
        "Name": "closest",
        "Method": "Prototype",
        "Desc": "Returns the closest parent node of the first node that matches a specific selector.",
        "Type": "Traversal",
        "Example": "Q(selector).closest(\".parent\");",
        "Script": "Q.prototype.closest = function (selector) {\n    let el = this.nodes[0];\n    while (el) {\n        if (el.matches && el.matches(selector)) {\n            return new Q(el);\n        }\n        el = el.parentElement;\n    }\n    return null;\n};"
    },
    "css": {
        "Name": "css",
        "Method": "Prototype",
        "Desc": "Gets or sets CSS styles on the nodes. Can handle multiple styles if provided as an object.",
        "Type": "Style Manipulation",
        "Example": "Q(selector).css(property, value);",
        "Script": "Q.prototype.css = function (property, value) {\n    if (typeof property === 'object') {\n        return this.each(el => {\n            for (let key in property) {\n                if (property.hasOwnProperty(key)) {\n                    this.nodes[el].style[key] = property[key];\n                }\n            }\n        });\n    } else {\n        if (value === undefined) {\n            return getComputedStyle(this.nodes[0])[property];\n        }\n        return this.each(el => this.nodes[el].style[property] = value);\n    }\n};"
    },
    "data": {
        "Name": "data",
        "Method": "Prototype",
        "Desc": "Gets or sets data-* attributes on the nodes.",
        "Type": "Data Manipulation",
        "Example": "Q(selector).data(key, value);",
        "Script": "Q.prototype.data = function (key, value) {\n    if (value === undefined) {\n        return this.nodes[0]?.dataset[key] || null;\n    }\n    return this.each(el => this.nodes[el].dataset[key] = value);\n};"
    },
    "each": {
        "Name": "each",
        "Method": "Prototype",
        "Desc": "Iterates over all nodes in the Q object and executes a callback on each node.",
        "Type": "Iteration",
        "Example": "Q(selector).each((index, element) => console.log(index, element));",
        "Script": "Q.prototype.each = function (callback) {\n    this.nodes.forEach((el, index) => callback.call(el, index, el));\n    return this;\n};"
    },
    "empty": {
        "Name": "empty",
        "Method": "Prototype",
        "Desc": "Empties the innerHTML of each node.",
        "Type": "Content Manipulation",
        "Example": "Q(selector).empty();",
        "Script": "Q.prototype.empty = function () {\n    return this.each(el => this.nodes[el].innerHTML = '');\n};"
    },
    "eq": {
        "Name": "eq",
        "Method": "Prototype",
        "Desc": "Returns a specific node by index.",
        "Type": "Traversal",
        "Example": "Q(selector).eq(1);",
        "Script": "Q.prototype.eq = function (index) {\n    return new Q(this.nodes[index]);\n};"
    },
    "fadeIn": {
        "Name": "fadeIn",
        "Method": "Prototype",
        "Desc": "Fades in each node.",
        "Type": "Display",
        "Example": "Q(selector).fadeIn(duration, callback);",
        "Script": "Q.prototype.fadeIn = function (duration = 400, callback) {\n    return this.each(el => {\n        this.nodes[el].style.display = '';\n        this.nodes[el].style.transition = `opacity ${duration}ms`;\n        this.nodes[el].offsetHeight;\n        this.nodes[el].style.opacity = 1;\n        setTimeout(() => {\n            this.nodes[el].style.transition = '';\n            if (callback) callback();\n        }, duration);\n    });\n};"
    },
    "fadeOut": {
        "Name": "fadeOut",
        "Method": "Prototype",
        "Desc": "Fades out each node.",
        "Type": "Display",
        "Example": "Q(selector).fadeOut(duration, callback);",
        "Script": "Q.prototype.fadeOut = function (duration = 400, callback) {\n    return this.each(el => {\n        this.nodes[el].style.transition = `opacity ${duration}ms`;\n        this.nodes[el].style.opacity = 0;\n        setTimeout(() => {\n            this.nodes[el].style.transition = '';\n            this.nodes[el].style.display = 'none';\n            if (callback) callback();\n        }, duration);\n    });\n};"
    },
    "fadeTo": {
        "Name": "fadeTo",
        "Method": "Prototype",
        "Desc": "Fades each node to a specific opacity.",
        "Type": "Display",
        "Example": "Q(selector).fadeTo(opacity, duration, callback);",
        "Script": "Q.prototype.fadeTo = function (opacity, duration = 400, callback) {\n    return this.each(el => {\n        this.nodes[el].style.transition = `opacity ${duration}ms`;\n        this.nodes[el].offsetHeight;\n        this.nodes[el].style.opacity = opacity;\n        setTimeout(() => {\n            this.nodes[el].style.transition = '';\n            if (callback) callback();\n        }, duration);\n    });\n};"
    },
    "fadeToggle": {
        "Name": "fadeToggle",
        "Method": "Prototype",
        "Desc": "Toggles the fade state of each node.",
        "Type": "Display",
        "Example": "Q(selector).fadeToggle(duration, callback);",
        "Script": "Q.prototype.fadeToggle = function (duration = 400, callback) {\n    return this.each(el => {\n        if (window.getComputedStyle(this.nodes[el]).opacity === '0') {\n            this.fadeIn(duration, callback);\n        } else {\n            this.fadeOut(duration, callback);\n        }\n    });\n};"
    },
    "find": {
        "Name": "find",
        "Method": "Prototype",
        "Desc": "Finds child nodes of the first node that match a specific selector.",
        "Type": "Traversal",
        "Example": "Q(selector).find(\".child\");",
        "Script": "Q.prototype.find = function (selector) {\n    const foundNodes = this.nodes[0].querySelectorAll(selector);\n    return foundNodes.length ? Q(foundNodes) : null;\n};"
    },
    "first": {
        "Name": "first",
        "Method": "Prototype",
        "Desc": "Returns the first node.",
        "Type": "Traversal",
        "Example": "Q(selector).first();",
        "Script": "Q.prototype.first = function () {\n    return new Q(this.nodes[0]);\n};"
    },
    "focus": {
        "Name": "focus",
        "Method": "Prototype",
        "Desc": "Focuses on the first node.",
        "Type": "Form Manipulation",
        "Example": "Q(selector).focus();",
        "Script": "Q.prototype.focus = function () {\n    return this.each(el => this.nodes[el].focus());\n};"
    },
    "hasClass": {
        "Name": "hasClass",
        "Method": "Prototype",
        "Desc": "Checks if the first node has a specific class.",
        "Type": "Class Manipulation",
        "Example": "Q(selector).hasClass(className);",
        "Script": "Q.prototype.hasClass = function (className) {\n    return this.nodes[0]?.classList.contains(className) || false;\n};"
    },
    "height": {
        "Name": "height",
        "Method": "Prototype",
        "Desc": "Gets or sets the height of the first node.",
        "Type": "Dimensions",
        "Example": "Q(selector).height(value);",
        "Script": "Q.prototype.height = function (value) {\n    if (value === undefined) {\n        return this.nodes[0].offsetHeight;\n    }\n    return this.each(el => this.nodes[el].style.height = value);\n};"
    },
    "hide": {
        "Name": "hide",
        "Method": "Prototype",
        "Desc": "Hides each node, optionally with a fade-out effect over a specified duration.",
        "Type": "Display",
        "Example": "Q(selector).hide(duration, callback);",
        "Script": "Q.prototype.hide = function (duration = 0, callback) {\n    return this.each(el => {\n        const element = this.nodes[el];\n        if (duration === 0) {\n            element.style.display = 'none';\n            if (callback) callback();\n        } else {\n            element.style.transition = `opacity ${duration}ms`;\n            element.style.opacity = 1;\n            setTimeout(() => {\n                element.style.opacity = 0;\n                element.addEventListener('transitionend', function handler() {\n                    element.style.display = 'none';\n                    element.style.transition = '';\n                    element.removeEventListener('transitionend', handler);\n                    if (callback) callback();\n                });\n            }, 0);\n        }\n    });\n};"
    },
    "html": {
        "Name": "html",
        "Method": "Prototype",
        "Desc": "Gets or sets the innerHTML of the nodes.",
        "Type": "Content Manipulation",
        "Example": "Q(selector).html(string);",
        "Script": "Q.prototype.html = function (...content) {\n    if (content.length === 0) {\n        return this.nodes[0]?.innerHTML || null;\n    }\n    return this.each(el => {\n        el = this.nodes[el];\n        el.innerHTML = '';\n        content.forEach(child => {\n            if (typeof child === 'string') {\n                el.insertAdjacentHTML('beforeend', child);\n            } else if (child instanceof Q) {\n                child.nodes.forEach(node => el.appendChild(node));\n            } else if (child instanceof HTMLElement) {\n                el.appendChild(child);\n            } else if (Array.isArray(child) || child instanceof NodeList) {\n                Array.from(child).forEach(subchild => el.appendChild(subchild));\n            }\n        });\n    });\n};"
    },
    "index": {
        "Name": "index",
        "Method": "Prototype",
        "Desc": "Returns the index of the first node, or moves the node to a specific index within its parent.",
        "Type": "Traversal/DOM Manipulation",
        "Example": "Q(selector).index(index);",
        "Script": "Q.prototype.index = function (index) {\n    if (index === undefined) {\n        return Array.from(this.nodes[0].parentNode.children).indexOf(this.nodes[0]);\n    }\n    return this.each(el => {\n        const parent = this.nodes[el].parentNode;\n        const siblings = Array.from(parent.children);\n        const position = siblings.indexOf(el);\n        const target = siblings.splice(index, 1)[0];\n        if (position < index) {\n            parent.insertBefore(target, el);\n        } else {\n            parent.insertBefore(target, this.nodes[el].nextSibling);\n        }\n    });\n};"
    },
    "inside": {
        "Name": "inside",
        "Method": "Prototype",
        "Desc": "Checks if the first node is inside another node.",
        "Type": "Traversal",
        "Example": "Q(selector).inside(\".parent\");",
        "Script": "Q.prototype.inside = function (selector) {\n    return this.nodes[0]?.closest(selector) !== null;\n};"
    },
    "is": {
        "Name": "is",
        "Method": "Prototype",
        "Desc": "Checks if the first node matches a specific selector.",
        "Type": "Utilities",
        "Example": "Q(selector).is(\":visible\");",
        "Script": "Q.prototype.is = function (selector) {\n    const node = this.nodes[0];\n\n    if (!node) return false; \n\n    if (typeof selector === 'function') {\n        return selector.call(node, 0, node);\n    }\n\n    if (typeof selector === 'string') {\n        switch (selector) {\n            case ':visible':\n                return node.offsetWidth > 0 && node.offsetHeight > 0;\n            case ':hidden':\n                return node.offsetWidth === 0 || node.offsetHeight === 0;\n            case ':hover':\n                return node === document.querySelector(':hover');\n            case ':focus':\n                return node === document.activeElement;\n            case ':blur':\n                return node !== document.activeElement;\n            case ':checked':\n                return node.checked;\n            case ':selected':\n                return node.selected;\n            case ':disabled':\n                return node.disabled;\n            case ':enabled':\n                return !node.disabled;\n            default:\n                return node.matches(selector);\n        }\n    }\n\n    if (selector instanceof HTMLElement || selector instanceof Node) {\n        return node === selector;\n    }\n\n    if (selector instanceof Q) {\n        return node === selector.nodes[0];\n    }\n\n    return false;\n};"
    },
    "isExists": {
        "Name": "isExists",
        "Method": "Prototype",
        "Desc": "Checks if the first node exists in the DOM.",
        "Type": "Utilities",
        "Example": "Q(selector).isExists();",
        "Script": "Q.prototype.isExists = function () {\n    return document.body.contains(this.nodes[0]);\n};"
    },
    "last": {
        "Name": "last",
        "Method": "Prototype",
        "Desc": "Returns the last node.",
        "Type": "Traversal",
        "Example": "Q(selector).last();",
        "Script": "Q.prototype.last = function () {\n    return new Q(this.nodes[this.nodes.length - 1]);\n};"
    },
    "off": {
        "Name": "off",
        "Method": "Prototype",
        "Desc": "Removes an event listener from each node.",
        "Type": "Event Handling",
        "Example": "Q(selector).off(\"click\", handler);",
        "Script": "Q.prototype.off = function (events, handler, options = {}) {\n    const defaultOptions = {\n        capture: false,\n        once: false,\n        passive: false\n    };\n    options = { ...defaultOptions, ...options };\n\n    return this.each(el => {\n        events.split(' ').forEach(event => this.nodes[el].removeEventListener(event, handler, options));\n    });\n};"
    },
    "offset": {
        "Name": "offset",
        "Method": "Prototype",
        "Desc": "Returns the top and left offset of the first node relative to the document.",
        "Type": "Dimensions",
        "Example": "Q(selector).offset();",
        "Script": "Q.prototype.offset = function () {\n    const rect = this.nodes[0].getBoundingClientRect();\n    return {\n        top: rect.top + window.scrollY,\n        left: rect.left + window.scrollX\n    };\n};"
    },
    "on": {
        "Name": "on",
        "Method": "Prototype",
        "Desc": "Adds an event listener to each node.",
        "Type": "Event Handling",
        "Example": "Q(selector).on(\"click\", () => console.log(\"Clicked\"));",
        "Script": "Q.prototype.on = function (events, handler, options = {}) {\n    const defaultOptions = {\n        capture: false,\n        once: false,\n        passive: false\n    };\n\n    options = { ...defaultOptions, ...options };\n\n    return this.each(el => {\n        events.split(' ').forEach(event => this.nodes[el].addEventListener(event, handler, options));\n    });\n};"
    },
    "parent": {
        "Name": "parent",
        "Method": "Prototype",
        "Desc": "Returns the parent node of the first node.",
        "Type": "Traversal",
        "Example": "Q(selector).parent();",
        "Script": "Q.prototype.parent = function () {\n    return new Q(this.nodes[0].parentNode);\n};"
    },
    "position": {
        "Name": "position",
        "Method": "Prototype",
        "Desc": "Returns the top and left position of the first node relative to its offset parent.",
        "Type": "Dimension/Position",
        "Example": "Q(selector).position();",
        "Script": "Q.prototype.position = function () {\n    return {\n        top: this.nodes[0].offsetTop,\n        left: this.nodes[0].offsetLeft\n    };\n};"
    },
    "prepend": {
        "Name": "prepend",
        "Method": "Prototype",
        "Desc": "Prepends child nodes or HTML to each node.",
        "Type": "DOM Manipulation",
        "Example": "Q(selector).prepend(\"<div>Prepended</div>\");",
        "Script": "Q.prototype.prepend = function (...nodes) {\n    return this.each(el => {\n        const parent = this.nodes[el];\n\n        nodes.forEach(child => {\n            if (typeof child === 'string') {\n                parent.insertAdjacentHTML('afterbegin', child);\n            } else if (child instanceof HTMLElement || child instanceof Q) {\n                parent.insertBefore(child.nodes[0], parent.firstChild);\n            } else if (Array.isArray(child) || child instanceof NodeList) {\n                Array.from(child).forEach(subchild => parent.insertBefore(subchild, parent.firstChild));\n            }\n        });\n    });\n};"
    },
    "prop": {
        "Name": "prop",
        "Method": "Prototype",
        "Desc": "Gets or sets a property on the nodes.",
        "Type": "Property Manipulation",
        "Example": "Q(selector).prop(property, value);",
        "Script": "Q.prototype.prop = function (property, value) {\n    if (value === undefined) {\n        return this.nodes[0]?.[property] || null;\n    }\n    return this.each(function (index, el) {\n        el[property] = value;\n    });\n};"
    },
    "remove": {
        "Name": "remove",
        "Method": "Prototype",
        "Desc": "Removes each node from the DOM.",
        "Type": "DOM Manipulation",
        "Example": "Q(selector).remove();",
        "Script": "Q.prototype.remove = function () {\n    return this.each(el => this.nodes[el].remove());\n};"
    },
    "removeAttr": {
        "Name": "removeAttr",
        "Method": "Prototype",
        "Desc": "Removes an attribute from each node.",
        "Type": "Attribute Manipulation",
        "Example": "Q(selector).removeAttr(attribute);",
        "Script": "Q.prototype.removeAttr = function (attribute) {\n    return this.each(el => this.nodes[el].removeAttribute(attribute));\n};"
    },
    "removeClass": {
        "Name": "removeClass",
        "Method": "Prototype",
        "Desc": "Removes one or more classes from each node.",
        "Type": "Class Manipulation",
        "Example": "Q(selector).removeClass(\"class1 class2\");",
        "Script": "Q.prototype.removeClass = function (classes) {\n    const classList = classes.split(' ');\n    return this.each(el => this.nodes[el].classList.remove(...classList));\n};"
    },
    "removeData": {
        "Name": "removeData",
        "Method": "Prototype",
        "Desc": "Removes a data-* attribute from each node.",
        "Type": "Data Manipulation",
        "Example": "Q(selector).removeData(key);",
        "Script": "Q.prototype.removeData = function (key) {\n    return this.each(el => delete this.nodes[el].dataset[key]);\n};"
    },
    "removeProp": {
        "Name": "removeProp",
        "Method": "Prototype",
        "Desc": "Removes a property from each node.",
        "Type": "Property Manipulation",
        "Example": "Q(selector).removeProp(property);",
        "Script": "Q.prototype.removeProp = function (property) {\n    return this.each(el => delete this.nodes[el][property]);\n};"
    },
    "removeTransition": {
        "Name": "removeTransition",
        "Method": "Prototype",
        "Desc": "Removes the transition from each node.",
        "Type": "Display",
        "Example": "Q(selector).removeTransition();",
        "Script": "Q.prototype.removeTransition = function () {\n    return this.each(el => this.nodes[el].style.transition = '');\n};"
    },
    "scrollHeight": {
        "Name": "scrollHeight",
        "Method": "Prototype",
        "Desc": "Returns the scroll height of the first node.",
        "Type": "Dimensions",
        "Example": "Q(selector).scrollHeight();",
        "Script": "Q.prototype.scrollHeight = function () {\n    return this.nodes[0].scrollHeight;\n};"
    },
    "scrollLeft": {
        "Name": "scrollLeft",
        "Method": "Prototype",
        "Desc": "Gets or sets the horizontal scroll position of the first node, with an option to increment.",
        "Type": "Scroll Manipulation",
        "Example": "Q(selector).scrollLeft(value, increment);",
        "Script": "Q.prototype.scrollLeft = function (value, increment = false) {\n    if (value === undefined) {\n        return this.nodes[0].scrollLeft;\n    }\n    return this.each(el => {\n        const maxScrollLeft = this.nodes[el].scrollWidth - this.nodes[el].clientWidth;\n        if (increment) {\n            this.nodes[el].scrollLeft = Math.min(this.nodes[el].scrollLeft + value, maxScrollLeft);\n        } else {\n            this.nodes[el].scrollLeft = Math.min(value, maxScrollLeft);\n        }\n    });\n};"
    },
    "scrollTop": {
        "Name": "scrollTop",
        "Method": "Prototype",
        "Desc": "Gets or sets the vertical scroll position of the first node, with an option to increment.",
        "Type": "Dimensions",
        "Example": "Q(selector).scrollTop(value, increment);",
        "Script": "Q.prototype.scrollTop = function (value, increment = false) {\n    if (value === undefined) {\n        return this.nodes[0].scrollTop;\n    }\n    return this.each(el => {\n        const maxScrollTop = this.nodes[el].scrollHeight - this.nodes[el].clientHeight;\n        if (increment) {\n            this.nodes[el].scrollTop = Math.min(this.nodes[el].scrollTop + value, maxScrollTop);\n        } else {\n            this.nodes[el].scrollTop = Math.min(value, maxScrollTop);\n        }\n    });\n};"
    },
    "scrollWidth": {
        "Name": "scrollWidth",
        "Method": "Prototype",
        "Desc": "Returns the scroll width of the first node.",
        "Type": "Dimensions",
        "Example": "Q(selector).scrollWidth();",
        "Script": "Q.prototype.scrollWidth = function () {\n    return this.nodes[0].scrollWidth;\n};"
    },
    "show": {
        "Name": "show",
        "Method": "Prototype",
        "Desc": "Shows each node, optionally with a fade-in effect over a specified duration.",
        "Type": "Display",
        "Example": "Q(selector).show(duration, callback);",
        "Script": "Q.prototype.show = function (duration = 0, callback) {\n    return this.each(el => {\n        const element = this.nodes[el];\n        if (duration === 0) {\n            element.style.display = '';\n            if (callback) callback();\n        } else {\n            element.style.transition = `opacity ${duration}ms`;\n            element.style.opacity = 0;\n            element.style.display = '';\n            setTimeout(() => {\n                element.style.opacity = 1;\n                element.addEventListener('transitionend', function handler() {\n                    element.style.transition = '';\n                    element.removeEventListener('transitionend', handler);\n                    if (callback) callback();\n                });\n            }, 0);\n        }\n    });\n};"
    },
    "size": {
        "Name": "size",
        "Method": "Prototype",
        "Desc": "Returns the width and height of the first node.",
        "Type": "Dimensions",
        "Example": "Q(selector).size();",
        "Script": "Q.prototype.size = function () {\n    return {\n        width: this.nodes[0].offsetWidth,\n        height: this.nodes[0].offsetHeight\n    };\n};"
    },
    "text": {
        "Name": "text",
        "Method": "Prototype",
        "Desc": "Gets or sets the text content of the nodes.",
        "Type": "Content Manipulation",
        "Example": "Q(selector).text(string);",
        "Script": "Q.prototype.text = function (content) {\n    if (content === undefined) {\n        return this.nodes[0]?.textContent || null;\n    }\n    return this.each(el => this.nodes[el].textContent = content);\n};"
    },
    "toggle": {
        "Name": "toggle",
        "Method": "Prototype",
        "Desc": "Toggles the display of each node.",
        "Type": "Utilities",
        "Example": "Q(selector).toggle();",
        "Script": "Q.prototype.toggle = function () {\n    return this.each(el => this.nodes[el].style.display = this.nodes[el].style.display === 'none' ? '' : 'none');\n};"
    },
    "toggleClass": {
        "Name": "toggleClass",
        "Method": "Prototype",
        "Desc": "Toggles a class on each node.",
        "Type": "Class Manipulation",
        "Example": "Q(selector).toggleClass(className);",
        "Script": "Q.prototype.toggleClass = function (className) {\n    return this.each(el => this.nodes[el].classList.toggle(className));\n};"
    },
    "trigger": {
        "Name": "trigger",
        "Method": "Prototype",
        "Desc": "Triggers a specific event on each node.",
        "Type": "Event Handling",
        "Example": "Q(selector).trigger(\"click\");",
        "Script": "Q.prototype.trigger = function (event) {\n    return this.each(function (index, el) {\n        el.dispatchEvent(new Event(event));\n    });\n};"
    },
    "unwrap": {
        "Name": "unwrap",
        "Method": "Prototype",
        "Desc": "Removes the parent wrapper of each node.",
        "Type": "DOM Manipulation",
        "Example": "Q(selector).unwrap();",
        "Script": "Q.prototype.unwrap = function () {\n    return this.each(el => {\n        const parent = this.nodes[el].parentNode;\n        if (parent !== document.body) {\n            parent.replaceWith(...this.nodes);\n        }\n    });\n};"
    },
    "val": {
        "Name": "val",
        "Method": "Prototype",
        "Desc": "Gets or sets the value of form elements in the nodes.",
        "Type": "Form Manipulation",
        "Example": "Q(selector).val(value);",
        "Script": "Q.prototype.val = function (value) {\n    if (value === undefined) {\n        return this.nodes[0]?.value || null;\n    }\n    return this.each(el => this.nodes[el].value = value);\n};"
    },
    "width": {
        "Name": "width",
        "Method": "Prototype",
        "Desc": "Gets or sets the width of the first node.",
        "Type": "Dimensions",
        "Example": "Q(selector).width(value);",
        "Script": "Q.prototype.width = function (value) {\n    if (value === undefined) {\n        return this.nodes[0].offsetWidth;\n    }\n    return this.each(el => this.nodes[el].style.width = value);\n};"
    },
    "wrap": {
        "Name": "wrap",
        "Method": "Prototype",
        "Desc": "Wraps each node with the specified wrapper element.",
        "Type": "DOM Manipulation",
        "Example": "Q(selector).wrap(\"<div class='wrapper'></div>\");",
        "Script": "Q.prototype.wrap = function (wrapper) {\n    return this.each(el => {\n        const parent = this.nodes[el].parentNode;\n        const newParent = typeof wrapper === 'string' ? document.createElement(wrapper) : wrapper;\n        parent.insertBefore(newParent, this.nodes[el]);\n        newParent.appendChild(this.nodes[el]);\n    });\n};"
    },
    "wrapAll": {
        "Name": "wrapAll",
        "Method": "Prototype",
        "Desc": "Wraps all nodes together in a single wrapper element.",
        "Type": "DOM Manipulation",
        "Example": "Q(selector).wrapAll(\"<div class='wrapper'></div>\");",
        "Script": "Q.prototype.wrapAll = function (wrapper) {\n    return this.each(el => {\n        const parent = this.nodes[el].parentNode;\n        const newParent = typeof wrapper === 'string' ? document.createElement(wrapper) : wrapper;\n        parent.insertBefore(newParent, this.nodes[0]);\n        this.nodes.forEach(child => newParent.appendChild(child));\n    });\n};"
    },
    "zIndex": {
        "Name": "zIndex",
        "Method": "Prototype",
        "Desc": "Gets or sets the z-index of the first node.",
        "Type": "Display",
        "Example": "Q(selector).zIndex(value);",
        "Script": "Q.prototype.zIndex = function (value) {\n    if (value === undefined) {\n        let zIndex = this.nodes[0].style.zIndex;\n        if (!zIndex) {\n            zIndex = window.getComputedStyle(this.nodes[0]).zIndex;\n        }\n        return zIndex;\n    }\n    return this.each(el => this.nodes[el].style.zIndex = value);\n};"
    },
    "Done": {
        "Name": "Done",
        "Method": "Static",
        "Desc": "Registers callbacks to be executed when the window has fully loaded.",
        "Type": "Event Handling",
        "Example": "Q.Done(() => { console.log('Window has fully loaded'); });",
        "Script": "Q.Done = (function () {\n    const callbacks = [];\n    window.addEventListener('load', () => {\n        callbacks.forEach(callback => callback());\n    });\n    return function (callback) {\n        callbacks.push(callback);\n    };\n})();"
    },
    "ID": {
        "Name": "ID",
        "Method": "Static",
        "Desc": "Generates a random alphanumeric ID of specified length.",
        "Type": "Utility",
        "Example": "Q.ID(10); // \"A1b2C3d4E5\"",
        "Script": "Q.ID = function (length = 8) {\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    return Array.from({ length }, () => chars.charAt(Math.floor(Math.random() * chars.length))).join('');\n};"
    },
    "Leaving": {
        "Name": "Leaving",
        "Method": "Static",
        "Desc": "Registers callbacks to be executed when the window is about to be unloaded.",
        "Type": "Event Handling",
        "Example": "Q.Leaving((event) => { console.log('Window is about to be unloaded'); });",
        "Script": "Q.Leaving = (function () {\n    const callbacks = [];\n    window.addEventListener('beforeunload', (event) => {\n        callbacks.forEach(callback => callback(event));\n    });\n    return function (callback) {\n        callbacks.push(callback);\n    };\n})();"
    },
    "Ready": {
        "Name": "Ready",
        "Method": "Static",
        "Desc": "Registers callbacks to be executed when the DOM is fully loaded.",
        "Type": "Event Handling",
        "Example": "Q.Ready(() => { console.log('DOM is ready'); });",
        "Script": "Q.Ready = (function () {\n    const callbacks = [];\n    document.addEventListener('DOMContentLoaded', () => {\n        callbacks.forEach(callback => callback());\n    }, { once: true });\n\n    return function (callback) {\n        if (document.readyState === 'loading') {\n            callbacks.push(callback);\n        } else {\n            callback();\n        }\n    };\n})();"
    },
    "Resize": {
        "Name": "Resize",
        "Method": "Static",
        "Desc": "Registers callbacks to be executed on window resize, providing the new width and height.",
        "Type": "Event Handling",
        "Example": "Q.Resize((width, height) => { console.log(`Width: ${width}, Height: ${height}`); });",
        "Script": "Q.Resize = (function () {\n    const callbacks = [];\n    window.addEventListener('resize', () => {\n        const width = window.innerWidth;\n        const height = window.innerHeight;\n        callbacks.forEach(callback => callback(width, height));\n    });\n    return function (callback) {\n        callbacks.push(callback);\n    };\n})();"
    }
};

function Highlight(code) {

//get all texts between "" and safe escape all special html characters"
code = code.replace(/\"(.*?)\"/g, (match, p1) => {
    return `"${p1.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;")}"`;
});


//first Q is the class name which should be colored
code = code.replace(/Q\(/g, "<span class='class'>Q</span>(");

// Q. is the object property which should be colored
code = code.replace(/Q\./g, "<span class='object'>Q.</span>");


// Replace text within parentheses
code = code.replace(/\((.*?)\)/g, "(<span class='bracket_inner'>$1</span>)");

// Replace text within curly braces
code = code.replace(/\{(.*?)\}/g, "{<span class='bracket_inner'>$1</span>}");

// Replace text within square brackets
code = code.replace(/\[(.*?)\]/g, "[<span class='bracket_inner'>$1</span>]");

// color the following characters: {}, (), []
code = code.replace(/\{|\}|\(|\)|\[|\]/g, "<span class='bracket'>$&</span>");





// color the following keywords: function, return, if, else, for, while, const, let, var
code = code.replace(/\b(function|return|if|else|for|while|const|let|var)\b/g, "<span class='keyword'>$1</span>");

// mark the strings.
code = code.replace(/\"(.*?)\"/g, "<span class='string'>\"$1\"</span>");

// mark the numbers.
// code = code.replace(/\b(\d+)\b/g, "<span class='number'>$1</span>");

return code;
}


function minify(code) {

//remove all leading spaces
code = code.replace(/^\s*/gm, "");


//remove all new lines
code = code.replace(/\n/g, "");

return code;
}

function CalculateSizeKB(code) {
return (new Blob([code]).size / 1024).toFixed(2) + " KB";
}


function BuildCode() {

//get the current year also separated date and time for build
let date = new Date();
let license = `
// VulpiniQ Utility Library
// (c) ${date.getFullYear()} VulpiniQ
// Build: ${date.toLocaleString()}
// License: MIT
`;

let genCode = document.querySelector(".gen_code");
let minified = document.querySelector(".minified");

let gen_size = document.querySelector(".gen_code_size");
let minified_size = document.querySelector(".minified_size");

//get all .card_active and collect all data-name into an array
let activeCards = document.querySelectorAll(".card_active");
let code = [];
activeCards.forEach(card => {
    code.push(methods[card.dataset.name].Script);
});

let finalCode = source.replace("//METHODS//", code.join("\n\n")).replace("//EXTENSIONS//", "");
finalCode = finalCode.replace(/^\s*[\r\n]/gm, "");
let minifiedCode = minify(finalCode);

gen_size.textContent = "Total size of this build: " + CalculateSizeKB(finalCode);
minified_size.textContent = "Total size of this build: " + CalculateSizeKB(minifiedCode);



genCode.value = license + finalCode;
minified.value = license + minifiedCode;
}


document.addEventListener("DOMContentLoaded", function () {
let container = document.querySelector(".container");
container.innerHTML = "";

const createCollection = (type) => {
    const collection = document.createElement("div");
    collection.classList.add("collection");
    collection.dataset.type = type;
    const title = document.createElement("div");
    title.classList.add("collection_title");
    title.textContent = type;
    collection.appendChild(title);
    const content = document.createElement("div");
    content.classList.add("collection_content");
    collection.appendChild(content);
    return collection;
};

const createCard = (name, desc, example) => {
    const card = document.createElement("div");
    card.classList.add("card");
    card.dataset.name = name;

    const header = document.createElement("div");
    header.classList.add("card_header");
    header.textContent = name;
    card.appendChild(header);

    const description = document.createElement("div");
    description.classList.add("card_description");
    description.textContent = desc;
    card.appendChild(description);

    const cardExample = document.createElement("div");
    cardExample.classList.add("card_example");
    cardExample.innerHTML = Highlight(example);
    card.appendChild(cardExample);

    card.onclick = () => {
        card.classList.toggle("card_active");
        BuildCode();
    };

    return card;
};

const addToCollection = (collection, card) => {
    //select collection with data-type attribute. if not exists, create it.
    let collectionElement = document.querySelector(`.collection[data-type="${collection}"]`);
    if (!collectionElement) {
        collectionElement = createCollection(collection);
        container.appendChild(collectionElement);
    }
    collectionElement.querySelector(".collection_content").appendChild(card);
};

Object.entries(methods).forEach(([key, value]) => {
    const card = createCard(value.Name, value.Desc, value.Example);
    addToCollection(value.Type, card);
});



});


</script>


</head>

<body>

<div class="container"></div>

<div class="generated">
<h2>Your personalised VulpiniQ</h2>
<div class="gen_code_size" readonly></div>
<textarea class="gen_code" readonly></textarea>
</div>

<div class="generated">
<h2>Minified version</h2>
<div class="minified_size" readonly></div>
<textarea class="gen_code minified" readonly></textarea>
</div>

</body>

</html>