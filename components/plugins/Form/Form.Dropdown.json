{
  "Name": "Form.Dropdown",
  "Method": "Component",
  "Desc": "A customizable dropdown list component for selecting options from a list.",
  "LongDesc": "The Form Dropdown component provides a simple, customizable dropdown list using only div elements (not input-based). When a user clicks on the dropdown, it expands to show a scrollable list of options with a configurable maximum height. Users can scroll through the list to find and select options. The component supports various functionalities including dynamically adding, removing, or modifying options, enabling or disabling specific options, programmatically selecting an option, and retrieving the current selection. The dropdown can be initialized with default values, set as disabled, and configured with custom styling through CSS variables. It handles outside clicks automatically to close when clicking elsewhere on the page and provides callback functionality for responding to selection changes.",
  "Type": "Component",
  "Example": [
    "// Basic dropdown with options",
    "const dropdown = form.Dropdown({",
    "  values: [",
    "    {value: '1', text: 'Option 1'},",
    "    {value: '2', text: 'Option 2'},",
    "    {value: '3', text: 'Option 3', default: true},",
    "    {value: '4', text: 'Option 4', disabled: true}",
    "  ]",
    "});",
    "dropdown.change((value, text, index) => {",
    "  console.log(`Selected: ${text} with value ${value} at index ${index}`);",
    "});",
    "Q('#myContainer').append(dropdown);",
    "",
    "// Create an empty dropdown and add options later",
    "const dropdown2 = form.Dropdown({\"max-height\": 300});",
    "dropdown2.add('val1', 'First Option');",
    "dropdown2.add('val2', 'Second Option');",
    "dropdown2.add('val3', 'Third Option');",
    "dropdown2.disable([1]);",
    "dropdown2.select(0);",
    "",
    "// Get current selection",
    "const selected = dropdown.val();",
    "console.log(`Current value: ${selected.value}`);",
    "console.log(`Current text: ${selected.text}`);",
    "console.log(`Current index: ${selected.index}`);",
    "",
    "// Completely replace all options",
    "dropdown.val([",
    "  {value: 'new1', text: 'New Option 1'},",
    "  {value: 'new2', text: 'New Option 2'}",
    "]);"
  ],
  "Dependencies": [
    "Form",
    "style",
    "addClass",
    "removeClass",
    "on",
    "attr",
    "css",
    "append",
    "find",
    "text"
  ],
  "Variables": [
    "dropdownClassesInitialized", 
    "dropdownClasses", 
    "activeDropdown", 
    "value", 
    "text", 
    "index", 
    "isDisabled", 
    "changeCallback",
    "selectedDisplay",
    "selectedText",
    "dropdownItems"
  ]
}
